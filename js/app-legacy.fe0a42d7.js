(function(){var t={9460:function(t,e,s){"use strict";var a=s(5471);const i=s(1594);Object.defineProperty(window,"BUS",{value:new a["default"],enumerable:!0,writable:!1}),window.BUS.$alert=t=>{BUS.$buefy.dialog.confirm({title:"Error",type:"is-danger",message:`${t}`,hasIcon:!0,cancelText:"Close",confirmText:"Open an issue",onConfirm:()=>{window.open("https://github.com/vechain/inspector-app/issues","_blank")}})},Object.defineProperty(window,"BN",{value:i,enumerable:!0,writable:!1});var n=s(4915),r=s(5261);r.Dr.extend("bytecode",{getMessage:t=>`${t} field is invalid.`,validate:t=>{const e=/^(0x|0X)[a-fA-F0-9]+$/;return e.test(t)&&t.length%2===0}}),r.Dr.extend("vet",{getMessage:t=>`${t} field is invalid, (positive number and limited to 18 decimal places).`,validate:t=>{const e=BN(t),s=BN(e.multipliedBy(1e18));return s.isInteger()&&!s.isNegative()}});const o={en:{attributes:{code:"Byte Code"}}};r.Dr.localize(o);var c=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("body",{staticClass:"has-navbar-fixed-top"},[e("Navbar",{staticClass:"is-fixed-top"}),e("div",{staticClass:"router-view"},[e("router-view")],1)],1)},l=[],d=s(1635),u=s(8657),p=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("nav",{staticClass:"navbar is-dark",attrs:{role:"navigation","aria-label":"main navigation"}},[e("div",{staticClass:"navbar-content"},[e("div",{staticClass:"navbar-brand is-marginless"},[e("div",{staticClass:"brand-logo"},[e("div",{staticClass:"logo-icon"},[e("b-icon",{attrs:{icon:"search",size:"is-small"}})],1),t._m(0)]),e("a",{staticClass:"navbar-burger",class:{"is-active":t.burgerActive},attrs:{role:"button"},on:{click:function(e){t.burgerActive=!t.burgerActive}}},[e("span",{attrs:{"aria-hidden":"true"}}),e("span",{attrs:{"aria-hidden":"true"}}),e("span",{attrs:{"aria-hidden":"true"}})])]),e("div",{staticClass:"navbar-menu",class:{"is-active":t.burgerActive}},[e("div",{staticClass:"navbar-start"},[t._l(t.routes,(function(s,a){return e("router-link",{key:a,staticClass:"navbar-item",attrs:{exact:"",to:{name:s.name},"active-class":"is-active-tab"}},[t._v(t._s(s.text))])})),t.views.length?e("div",{staticClass:"navbar-item has-dropdown is-hoverable"},[e("a",{staticClass:"navbar-link"},[t._v("Views")]),e("div",{staticClass:"navbar-dropdown"},[e("router-link",{staticClass:"navbar-item",attrs:{to:{name:"filter_mgt"}}},[t._v("All")]),e("hr",{staticClass:"navbar-divider"}),t._l(t.views,(function(s,a){return e("router-link",{key:a,staticClass:"navbar-item",attrs:{to:{name:"filter_view",params:{id:s.id}}}},[t._v(t._s(s.name))])}))],2)]):t._e(),t.shortCuts?e("router-link",{staticClass:"navbar-item",attrs:{"active-class":"has-background-grey-dark",to:{name:"short_cuts"}}},[t._v("Shortcuts")]):t._e(),e("a",{staticClass:"navbar-item",attrs:{href:"https://github.com/vechain/inspector-app",target:"_blank"}},[t._v(" GitHub ")])],2),e("div",{staticClass:"navbar-end"},[e("div",{staticClass:"navbar-item"},[e("button",{staticClass:"button is-dark theme-toggle",attrs:{title:t.isDarkMode?"Switch to Light Mode":"Switch to Dark Mode"},on:{click:t.toggleTheme}},[e("b-icon",{attrs:{icon:t.isDarkMode?"sun":"moon",size:"is-small"}})],1)]),1===t.networks.length?e("b-tag",{staticStyle:{margin:"auto 0px"},attrs:{size:"is-medium",type:"is-warning"}},[e("b-icon",{staticStyle:{"margin-right":"0.5rem"},attrs:{icon:"globe",size:"is-small"}}),t._v(" "+t._s(t.networks[0].label)+" ")],1):t._e(),t.networks.length>1||t.customNetworks.length>0?e("b-dropdown",{staticStyle:{"vertical-align":"top"},attrs:{size:"sm",text:t.network,"toggle-class":"py-0 px-1",position:"is-bottom-left"}},[e("template",{slot:"trigger"},[e("b-button",{staticClass:"navbar-item",attrs:{type:"is-dark",label:t.network,"icon-left":"globe","icon-right":"caret-down"}})],1),t._l(t.networks,(function(s,a){return e("b-dropdown-item",{key:a,class:{"is-active-network":t.isCurrentNetwork(s.name)},attrs:{value:s.name},on:{click:function(e){return t.onChange(s.name)}}},[e("span",[t._v(t._s(s.label))]),t.isCurrentNetwork(s.name)?e("b-icon",{staticClass:"network-check-icon",attrs:{icon:"check",size:"is-small"}}):t._e()],1)})),e("hr",{staticClass:"dropdown-divider"}),e("b-dropdown-item",{on:{click:t.openManageNetworksModal}},[e("b-icon",{attrs:{icon:"cog",size:"is-small"}}),e("span",[t._v("Manage Networks")])],1)],2):t._e()],1)])])])},h=[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"logo-text"},[e("h1",{staticClass:"logo-title"},[t._v("Inspector")]),e("p",{staticClass:"logo-subtitle"},[t._v("Smart Contract Explorer")])])}],m=s(7054),f=(s(8760),s(6763));class b extends m.A{constructor(){super("inspect"),this.version(2).stores({contracts:"++id, &address, name",filters:"++id, address, name, contractName",shortCuts:"++id, address, name, contractName"}),this.version(3).stores({shortCuts:"++id, address, name, contractName, fromPrototype",filters:"++id, address, name, contractName, fromPrototype"}),this.version(4).stores({contracts:"++id, &address, name, network"}),this.version(5).stores({contracts:"++id, address, name, network"}),this.version(6).stores({contracts:"++id, address, name, network, category, order"}),this.version(7).stores({networks:"++id, genesisId, name, nodeUrl"}),this.version(8).stores({customRoles:"++id, contractAddress, network"}),this.open().catch((t=>{f.error(t)}))}subscribe(t,e){const s=this.on("changes"),a=s=>{s=s.filter((e=>e.table===t)),s.length>0&&e(s)};return s.subscribe(a),{unsubscribe:()=>s.unsubscribe(a)}}}const g=new b;var v=g,y=s(6130);const C=()=>{if({NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_IS_DOCKER){const t="VUE_APP_SOLO_URL_PLACEHOLDER";return t}return{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_SOLO_URL},w=!!C(),x={main:"https://mainnet.vechain.org",test:"https://testnet.vechain.org",solo:C()||"http://localhost:8669",custom:""},_={number:0,id:"0x00000000c05a20fbca2bf6ae3affba6af4a74b800b585bf7a4988aba7aea69f6",size:170,parentID:"0xffffffff53616c757465202620526573706563742c20457468657265756d2100",timestamp:1530316800,gasLimit:1e7,beneficiary:"0x0000000000000000000000000000000000000000",gasUsed:0,totalScore:0,txsRoot:"0x45b0cfc220ceec5b7c1c62c4d4193d38e4eba48e8815729ce75f9c0ab0e4c1c0",txsFeatures:0,stateRoot:"0x93de0ffb1f33bc0af053abc2a87c4af44594f5dcb1cb879dd823686a15d68550",receiptsRoot:"0x45b0cfc220ceec5b7c1c62c4d4193d38e4eba48e8815729ce75f9c0ab0e4c1c0",signer:"0x0000000000000000000000000000000000000000",isTrunk:!0,transactions:[]},k=!!window.vechain;function A(t){if(t){const e=x[t];return"solo"==t?new y.A({node:e,network:_,noExtension:!k}):new y.A({node:e,network:t,noExtension:!k})}{const t=window.connex;return t?new y.A({node:"",network:t.thor.genesis,noExtension:!k}):w?new y.A({node:x.solo,network:_,noExtension:!k}):new y.A({node:x.main,noExtension:!k})}}function I(t){switch(t){case"0x00000000851caf3cfdb6e899cf5958bfb1ac3413d346d43539627e6be7ec1b4a":return"main";case"0x000000000b2bce3c70bc649a02749e8687721b09ed2e15997f466536b20bb127":return"test";case"0x00000000c05a20fbca2bf6ae3affba6af4a74b800b585bf7a4988aba7aea69f6":return"solo";default:return"custom"}}function S(t){switch(t){case"main":return"0x00000000851caf3cfdb6e899cf5958bfb1ac3413d346d43539627e6be7ec1b4a";case"test":return"0x000000000b2bce3c70bc649a02749e8687721b09ed2e15997f466536b20bb127";case"solo":return"0x00000000c05a20fbca2bf6ae3affba6af4a74b800b585bf7a4988aba7aea69f6";default:return""}}function T(t){return t.startsWith("custom-")}function $(t){if(!T(t))return null;const e=parseInt(t.replace("custom-",""),10);return isNaN(e)?null:e}var E=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"modal-card"},[e("header",{staticClass:"modal-card-head"},[e("span",{staticClass:"modal-card-title"},[t._v(t._s(t.isEditMode?"Edit Network":"Add Network"))])]),e("section",{staticClass:"modal-card-body"},[t.isEditMode?t._e():e("p",{staticClass:"help-text"},[t._v(" If you are having problems adding your custom node, it usually indicates a poorly formatted URL or a problem with the CORS configuration of the node. ")]),e("b-field",{attrs:{label:"Node Name",type:t.nameError?"is-danger":"",message:t.nameError}},[e("b-input",{attrs:{placeholder:"My Custom Network",required:""},on:{input:function(e){t.nameError=""}},model:{value:t.networkName,callback:function(e){t.networkName=e},expression:"networkName"}})],1),e("b-field",{attrs:{label:"URL",type:t.urlError?"is-danger":"",message:t.urlError}},[e("b-input",{attrs:{placeholder:"http://localhost:8669",required:""},on:{input:t.onNodeUrlChange},model:{value:t.nodeUrl,callback:function(e){t.nodeUrl=e},expression:"nodeUrl"}})],1),t.genesisId||t.isFetchingGenesis?e("b-field",{attrs:{label:"Genesis ID"}},[e("b-input",{attrs:{placeholder:"Will be fetched automatically...",disabled:"",loading:t.isFetchingGenesis},model:{value:t.genesisId,callback:function(e){t.genesisId=e},expression:"genesisId"}})],1):t._e(),t.fetchError?e("b-message",{attrs:{type:"is-danger"}},[t._v(" "+t._s(t.fetchError)+" ")]):t._e(),t.isFetchingGenesis?e("b-message",{attrs:{type:"is-info"}},[t._v(" Connecting to node and fetching genesis block... ")]):t._e(),!t.genesisId||t.fetchError||t.isFetchingGenesis?t._e():e("b-message",{attrs:{type:"is-success"}},[t._v(" Successfully connected to node! ")])],1),e("footer",{staticClass:"modal-card-foot"},[e("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[t._v("Cancel")]),e("button",{staticClass:"button is-primary",class:{"is-loading":t.isSaving},attrs:{type:"button",disabled:!t.canSave},on:{click:t.saveNetwork}},[t._v(t._s(t.isEditMode?"Save":"Add"))])])])},N=[],M=s(6763);const D=async t=>{try{const e=t.endsWith("/")?t:t+"/",s=await fetch(`${e}blocks/0`);if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);const a=await s.json();if(!a||!a.id)throw new Error("Invalid genesis block response");return a}catch(e){throw M.error("Failed to fetch genesis block:",e.message),new Error(`Could not connect to node: ${e.message}`)}},O=t=>{try{const e=new URL(t);return"http:"===e.protocol||"https:"===e.protocol}catch{return!1}},R=async()=>await v.networks.toArray(),B=async t=>await v.networks.get(t),P=async t=>{const e=await v.networks.where("name").equals(t.name).first();if(e)throw new Error("A network with this name already exists");return await v.networks.add({...t,createdTime:Date.now()})},F=async(t,e)=>{if(e.name){const s=await v.networks.where("name").equals(e.name).and((e=>e.id!==t)).first();if(s)throw new Error("A network with this name already exists")}await v.networks.update(t,e)},L=async t=>{await v.networks.delete(t)};let z=class extends u.lD{constructor(){super(...arguments),this.networkName="",this.nodeUrl="",this.genesisId="",this.isFetchingGenesis=!1,this.isSaving=!1,this.nameError="",this.urlError="",this.fetchError="",this.debounceTimer=null}get isEditMode(){return!!this.network}created(){this.network&&(this.networkName=this.network.name,this.nodeUrl=this.network.nodeUrl,this.genesisId=this.network.genesisId)}get canSave(){return""!==this.networkName.trim()&&""!==this.nodeUrl.trim()&&""!==this.genesisId&&!this.isFetchingGenesis&&!this.fetchError}onNodeUrlChange(){this.urlError="",this.fetchError="",this.genesisId="",this.debounceTimer&&clearTimeout(this.debounceTimer);const t=this.nodeUrl.trim();t&&(O(t)?this.debounceTimer=setTimeout((()=>{this.fetchGenesis()}),800):this.urlError="Please enter a valid HTTP or HTTPS URL")}async fetchGenesis(){if(this.nodeUrl.trim()){this.isFetchingGenesis=!0,this.fetchError="",this.genesisId="";try{const t=await D(this.nodeUrl.trim());this.genesisId=t.id}catch(t){this.fetchError=t.message||"Failed to fetch genesis block"}finally{this.isFetchingGenesis=!1}}}async saveNetwork(){if(this.canSave){this.isSaving=!0,this.nameError="",this.urlError="";try{if(this.isEditMode){await F(this.network.id,{name:this.networkName.trim(),nodeUrl:this.nodeUrl.trim(),genesisId:this.genesisId}),this.$buefy.toast.open({message:"Network updated successfully!",type:"is-success"});const t=localStorage.getItem("last-net");t===`custom-${this.network.id}`?window.location.href=window.location.origin:(this.$emit("close"),this.$emit("updated"))}else{const t=await P({name:this.networkName.trim(),nodeUrl:this.nodeUrl.trim(),genesisId:this.genesisId,createdTime:Date.now()});this.$buefy.toast.open({message:"Network added successfully!",type:"is-success"}),localStorage.setItem("last-net",`custom-${t}`),window.location.href=window.location.origin}}catch(t){t.message.includes("name already exists")?this.nameError=t.message:this.$buefy.toast.open({message:t.message||"Failed to save network",type:"is-danger"})}finally{this.isSaving=!1}}}beforeDestroy(){this.debounceTimer&&clearTimeout(this.debounceTimer)}};(0,d.Cg)([(0,u.kv)({default:null})],z.prototype,"network",void 0),z=(0,d.Cg)([u.uA],z);var U=z,V=U,j=s(1656),q=(0,j.A)(V,E,N,!1,null,"303eb620",null),H=q.exports,G=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"modal-card"},[t._m(0),e("section",{staticClass:"modal-card-body"},[e("b-loading",{attrs:{"is-full-page":!1,active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),t.isLoading?t._e():e("div",[e("div",{staticClass:"networks-section"},[e("div",{staticClass:"built-in-networks"},t._l(t.builtInNetworks,(function(s){return e("div",{key:s.name,staticClass:"network-item",class:{"is-active":t.isActiveNetwork(s.genesisId)},on:{click:function(e){return t.switchToNetwork(s.name)}}},[e("div",{staticClass:"network-info"},[e("strong",[t._v(t._s(s.label))]),e("span",{staticClass:"network-url"},[t._v(t._s(s.url))])])])})),0),t.customNetworks.length>0?e("div",{staticClass:"custom-networks"},[e("h3",{staticClass:"section-title"},[t._v("Custom Networks")]),t._l(t.customNetworks,(function(s){return e("div",{key:s.id,staticClass:"network-item",class:{"is-active":t.isActiveNetwork(s.genesisId)}},[e("div",{staticClass:"network-info",on:{click:function(e){return t.switchToNetwork(`custom-${s.id}`)}}},[e("strong",[t._v(t._s(s.name))]),e("span",{staticClass:"network-url"},[t._v(t._s(s.nodeUrl))])]),e("div",{staticClass:"network-actions"},[e("b-dropdown",{attrs:{"aria-role":"list",position:"is-bottom-left"},scopedSlots:t._u([{key:"trigger",fn:function(){return[e("b-button",{attrs:{size:"is-small","icon-right":"ellipsis-v"}})]},proxy:!0}],null,!0)},[e("b-dropdown-item",{attrs:{"aria-role":"listitem"},on:{click:function(e){return t.openEditNetworkModal(s)}}},[e("b-icon",{attrs:{icon:"edit",size:"is-small"}}),e("span",[t._v("Edit")])],1),e("b-dropdown-item",{attrs:{"aria-role":"listitem"},on:{click:function(e){return t.confirmDelete(s)}}},[e("b-icon",{attrs:{icon:"trash",size:"is-small"}}),e("span",[t._v("Delete")])],1)],1)],1)])}))],2):t._e(),e("div",{staticClass:"add-network-section"},[e("button",{staticClass:"add-network-button",on:{click:t.openAddNetworkModal}},[t._v(" + Add network ")])])])])],1),e("footer",{staticClass:"modal-card-foot"},[e("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[t._v("Close")])])])},J=[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("header",{staticClass:"modal-card-head"},[e("span",{staticClass:"modal-card-title"},[t._v("Manage VeChain Networks")])])}];let W=class extends u.lD{constructor(){super(...arguments),this.customNetworks=[],this.isLoading=!0}get builtInNetworks(){const t=[{name:"main",label:"Main Net",url:"https://mainnet.vechain.org",genesisId:"0x00000000851caf3cfdb6e899cf5958bfb1ac3413d346d43539627e6be7ec1b4a"},{name:"test",label:"Test Net",url:"https://testnet.vechain.org",genesisId:"0x000000000b2bce3c70bc649a02749e8687721b09ed2e15997f466536b20bb127"}];return w&&t.push({name:"solo",label:"Solo Net",url:"http://localhost:8669",genesisId:"0x00000000c05a20fbca2bf6ae3affba6af4a74b800b585bf7a4988aba7aea69f6"}),t}async created(){await this.loadNetworks()}async loadNetworks(){this.isLoading=!0;try{this.customNetworks=await R()}catch(t){this.$buefy.toast.open({message:"Failed to load networks",type:"is-danger"})}finally{this.isLoading=!1}}isActiveNetwork(t){return this.$connex.thor.genesis.id===t}switchToNetwork(t){localStorage.setItem("last-net",t),window.location.href=window.location.origin}openAddNetworkModal(){this.$buefy.modal.open({parent:this,component:H,hasModalCard:!0,trapFocus:!0})}openEditNetworkModal(t){this.$buefy.modal.open({parent:this,component:H,hasModalCard:!0,trapFocus:!0,props:{network:t},events:{updated:()=>{this.loadNetworks()}}})}confirmDelete(t){this.$buefy.dialog.confirm({title:"Delete Network",message:`Are you sure you want to delete <strong>${t.name}</strong>? This action cannot be undone.`,confirmText:"Delete",type:"is-danger",hasIcon:!0,onConfirm:()=>this.deleteNetwork(t)})}async deleteNetwork(t){try{await L(t.id),this.$buefy.toast.open({message:"Network deleted successfully",type:"is-success"}),await this.loadNetworks(),this.$emit("network-deleted");const e=localStorage.getItem("last-net");e===`custom-${t.id}`&&(localStorage.setItem("last-net","main"),this.$buefy.dialog.alert({message:"You deleted the currently active network. Switching to Mainnet...",onConfirm:()=>{window.location.href=window.location.origin}}))}catch(e){this.$buefy.toast.open({message:"Failed to delete network",type:"is-danger"})}}};W=(0,d.Cg)([(0,u.uA)({components:{AddNetworkModal:H}})],W);var Y=W,X=Y,Q=(0,j.A)(X,G,J,!1,null,"5b037f06",null),K=Q.exports,Z=s(6763);let tt=class extends u.lD{constructor(){super(...arguments),this.routes=[{name:"contracts",text:"Contracts"},{name:"deploy",text:"Deploy"}],this.burgerActive=!1,this.views=[],this.shortCuts=0,this.node=localStorage.getItem("custom-node"),this.genesis=localStorage.getItem("custom-network"),this.isDarkMode=!1,this.customNetworks=[]}get hasConnex(){return!!window.connex}get hasCustom(){return!!this.node&&!!this.genesis}get network(){const t=I(this.$connex.thor.genesis.id);switch(t){case"main":return"Mainnet";case"test":return"Testnet";case"solo":return"Solonet";default:{const t=this.customNetworks.find((t=>t.genesisId===this.$connex.thor.genesis.id));return t?t.name:"Custom"}}}get networks(){const t=w?[{name:"solo",label:"SoloNet"}]:[{name:"main",label:"Mainnet"},{name:"test",label:"Testnet"},...w?[{name:"solo",label:"Solonet"}]:[]],e=this.customNetworks.map((t=>({name:`custom-${t.id}`,label:t.name})));return[...t,...e]}isCurrentNetwork(t){const e=this.$connex.thor.genesis.id;if(t.startsWith("custom-")){const s=this.customNetworks.find((e=>`custom-${e.id}`===t));return!!s&&s.genesisId===e}return S(t)===e}onChange(t){this.isCurrentNetwork(t)||(localStorage.setItem("last-net",t),window.location.href=window.location.origin)}openAddNetworkModal(){this.$buefy.modal.open({parent:this,component:H,hasModalCard:!0,trapFocus:!0})}openManageNetworksModal(){this.$buefy.modal.open({parent:this,component:K,hasModalCard:!0,trapFocus:!0,events:{close:()=>{this.loadCustomNetworks()},"network-deleted":()=>{this.loadCustomNetworks()}}})}async loadCustomNetworks(){try{this.customNetworks=await R()}catch(t){Z.error("Failed to load custom networks:",t)}}async getList(){this.views=await v.filters.filter((t=>t.network===this.network||void 0===t.network)).limit(5).toArray()}async countShortCuts(){this.shortCuts=await v.shortCuts.filter((t=>t.network===this.network||void 0===t.network)).count()}initTheme(){const t=localStorage.getItem("theme-preference");this.isDarkMode="dark"===t,this.applyTheme()}applyTheme(){this.isDarkMode?document.documentElement.setAttribute("data-theme","dark"):document.documentElement.removeAttribute("data-theme")}toggleTheme(){this.isDarkMode=!this.isDarkMode,localStorage.setItem("theme-preference",this.isDarkMode?"dark":"light"),this.applyTheme()}created(){this.initTheme(),this.getList(),this.countShortCuts(),this.loadCustomNetworks()}};tt=(0,d.Cg)([(0,u.uA)({components:{AddNetworkModal:H,ManageNetworksModal:K}})],tt);var et=tt,st=et,at=(0,j.A)(st,p,h,!1,null,"09a85664",null),it=at.exports;let nt=class extends u.lD{created(){this.$ga.page("/inspector")}mounted(){this.$connex||this.$router.push({name:"notSupport"})}};nt=(0,d.Cg)([(0,u.uA)({components:{Navbar:it}})],nt);var rt=nt,ot=rt,ct=(0,j.A)(ot,c,l,!1,null,null,null),lt=ct.exports,dt=s(3458);u.lD.filter("addr",(t=>{const e=t.startsWith("0x")?t:`0x${t}`;return e.substring(0,8)+"â€¦"+e.substring(e.length-8,e.length)})),u.lD.filter("datetime",(t=>new Date(t).toLocaleString())),u.lD.filter("toChecksumAddress",(t=>{if(t)return dt.h.toChecksumed(t)}));var ut=s(1394);function pt(t,e){const s=(0,ut.H)(e.toLowerCase());return"IMG"===t.nodeName?`data:image/svg+xml;utf8,${s}`:`no-repeat url('data:image/svg+xml;utf8,${s}')`}u.lD.directive("ident",{update(t,e){if(e.value!==e.oldValue)if("IMG"===t.nodeName){const s=t;s.src=pt(t,e.value)}else t.style.background=pt(t,e.value),t.style.backgroundSize="cover"},inserted(t,e){if(e.value!==e.oldValue)if("IMG"===t.nodeName){const s=t;s.src=pt(t,e.value)}else t.style.background=pt(t,e.value),t.style.backgroundSize="cover"}}),u.lD.directive("inview",{update(t,e,s){const a=document.querySelector(e.value);let i;const n=t.offsetTop,r=t.clientHeight;t.style.transition="margin-top 0.15s",a.onscroll=e=>{window.clearTimeout(i),i=window.setTimeout((()=>{const s=e.target.scrollTop;if(s>n){const e=s-(n-r);t.style.marginTop=(e>0?e:0)+"px"}else t.style.marginTop="0px"}),100)}}});var ht=s(173),mt=function(){var t=this;t._self._c,t._self._setupProxy;return t._m(0)},ft=[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticStyle:{width:"500px",margin:"140px auto","font-size":"25px"}},[t._v(" Inspector only supported for the "),e("strong",{staticStyle:{color:"#26a69a"}},[t._v("Main")]),t._v(" or "),e("strong",{staticStyle:{color:"#26a69a"}},[t._v("Test")]),t._v(" net. if you need other networks, please check on "),e("a",{attrs:{target:"_blank",href:"https://github.com/vechain/inspector-app"}},[e("strong",[t._v("GitHub")])])])}];let bt=class extends u.lD{};bt=(0,d.Cg)([u.uA],bt);var gt=bt,vt=gt,yt=(0,j.A)(vt,mt,ft,!1,null,null,null),Ct=yt.exports,wt=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("section",{staticClass:"contracts-layout"},[t.isMobileView?e("button",{staticClass:"mobile-sidebar-toggle",on:{click:t.toggleSidebar}},[e("b-icon",{attrs:{icon:t.isSidebarOpen?"times":"bars"}})],1):t._e(),e("div",{staticClass:"sidebar-wrapper",class:{"is-open":t.isSidebarOpen}},[e("Sidebar",{ref:"sidebar",attrs:{contracts:t.contracts,categoryOrder:t.categoryOrder,activeContractId:t.activeContractId},on:{"open-contract":t.handleOpenContract,"add-contract":t.addItem,"edit-contract":t.edit,"export-contract":t.exportJson,"delete-contract":t.remove,"show-import-instructions":t.handleShowImportInstructions,"files-selected":t.handleFilesSelected,"drop-contract":t.handleDropContract,"move-category-up":t.moveCategoryUp,"move-category-down":t.moveCategoryDown,"rename-category":t.renameCategory}})],1),t.isMobileView&&t.isSidebarOpen?e("div",{staticClass:"sidebar-overlay",on:{click:t.closeSidebar}}):t._e(),e("div",{staticClass:"main-content"},[e("TabBar",{attrs:{openContracts:t.openContracts,activeContractId:t.activeContractId,pinnedTabs:t.pinnedTabs},on:{"select-tab":t.selectTab,"close-tab":t.closeTab,"pin-tab":t.pinTab,"unpin-tab":t.unpinTab}}),e("div",{staticClass:"content-area"},[t._l(t.openContracts,(function(s){return e("ContractDetailPanel",{directives:[{name:"show",rawName:"v-show",value:t.activeContractId===s.id,expression:"activeContractId === contract.id"}],key:t.getContractKey(s.id),attrs:{contract:t.getContractById(s.id)},on:{"contract-updated":t.handleContractUpdate,"delete-contract":t.handleDeleteFromPanel}})})),e("div",{directives:[{name:"show",rawName:"v-show",value:0===t.openContracts.length,expression:"openContracts.length === 0"}],staticClass:"empty-state-container"},[e("div",{staticClass:"empty-state-content"},[e("div",{staticClass:"empty-icon"},[e("b-icon",{attrs:{icon:"file-contract",size:"is-large","custom-class":"has-text-grey-light"}})],1),e("h2",{staticClass:"empty-title"},[t._v("No Contract Selected")]),e("p",{staticClass:"empty-description"},[t._v(" Select a contract from the list on the left to explore its functions and interact with it. ")]),t._m(0)])])],2)],1),e("b-modal",{attrs:{width:640,canCancel:[],active:t.isModalActive},on:{"update:active":function(e){t.isModalActive=e}}},[e("EditContract",{attrs:{item:t.currentItem,isImport:t.isImport},on:{cancel:t.onCancel,finished:t.handleContractSaved}})],1),e("b-modal",{attrs:{active:t.showTypeModal,canCancel:["escape","outside"]},on:{"update:active":function(e){t.showTypeModal=e}}},[e("ImportTypeModal",{on:{cancel:function(e){t.showTypeModal=!1},"select-files":t.handleSelectFiles,"select-folder":t.handleSelectFolder,"select-builtin":t.handleSelectBuiltIn,"files-dropped":t.handleFilesDropped}})],1),e("b-modal",{attrs:{active:t.showPreviewModal,canCancel:["escape"]},on:{"update:active":function(e){t.showPreviewModal=e}}},[e("ImportPreviewModal",{attrs:{parsedContracts:t.parsedContracts,existingCategories:t.existingCategories,isBuiltInMode:t.isBuiltInMode},on:{cancel:function(e){t.showPreviewModal=!1},"import-selected":t.handleImportSelected}})],1)],1)},xt=[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"empty-hints"},[e("div",{staticClass:"hint-card"},[e("p",{staticClass:"hint-title"},[t._v("Getting Started")]),e("ul",{staticClass:"hint-list"},[e("li",[t._v("Search contracts by name or address")]),e("li",[t._v("Click the contract name to open in a new tab")]),e("li",[t._v("Organize contracts with categories")]),e("li",[t._v("Execute read and write functions")])])])])}],_t=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"sidebar"},[e("div",{staticClass:"sidebar-header"},[e("div",{staticClass:"sidebar-title"},[e("b-icon",{attrs:{icon:"file-contract",size:"is-small"}}),e("h2",[t._v("Your contracts")])],1),e("div",{staticClass:"sidebar-actions"},[e("button",{staticClass:"button is-small is-primary is-outlined",attrs:{title:"Import Contract"},on:{click:t.onImport}},[e("p",[t._v("Import")]),e("b-icon",{attrs:{icon:"upload",size:"is-small"}})],1),e("button",{staticClass:"button is-small is-primary is-outlined",attrs:{title:"Add Contract"},on:{click:t.addItem}},[e("p",[t._v("New")]),e("b-icon",{attrs:{icon:"plus",size:"is-small"}})],1)]),e("input",{ref:"files",staticClass:"is-hidden",attrs:{type:"file",accept:"application/json",multiple:"",webkitdirectory:""}}),e("input",{ref:"filesMultiple",staticClass:"is-hidden",attrs:{type:"file",accept:"application/json",multiple:""}})]),e("div",{staticClass:"sidebar-search"},[e("b-field",[e("b-input",{attrs:{placeholder:"Search by name or address...",icon:"search","icon-right":"times-circle","icon-right-clickable":"",size:"is-small"},on:{"icon-right-click":t.clearSearch},model:{value:t.searchQuery,callback:function(e){t.searchQuery=e},expression:"searchQuery"}})],1)],1),e("div",{staticClass:"sidebar-content"},[t.filteredContracts.length?e("div",{staticClass:"contract-categories"},t._l(t.sortedCategories,(function(s){return e("div",{key:s,staticClass:"category-section"},[e("button",{staticClass:"category-header",on:{click:function(e){return t.toggleCategory(s)}}},[e("div",{staticClass:"category-info"},[e("b-icon",{attrs:{icon:t.expandedCategories[s]?"chevron-down":"chevron-right",size:"is-small"}}),e("span",{staticClass:"category-name"},[t._v(t._s(s||"Uncategorized"))]),e("span",{staticClass:"category-count"},[t._v(t._s(t.getCategoryContracts(s).length))])],1),e("div",{staticClass:"category-actions",on:{click:function(t){t.stopPropagation()}}},[s?e("button",{staticClass:"button is-small is-text",attrs:{title:"Rename category"},on:{click:function(e){return t.renameCategory(s)}}},[e("b-icon",{attrs:{icon:"pen",size:"is-small"}})],1):t._e(),e("button",{staticClass:"button is-small is-text",attrs:{disabled:0===t.sortedCategories.indexOf(s),title:"Move category up"},on:{click:function(e){return t.moveCategoryUp(s)}}},[e("b-icon",{attrs:{icon:"chevron-up",size:"is-small"}})],1),e("button",{staticClass:"button is-small is-text",attrs:{disabled:t.sortedCategories.indexOf(s)===t.sortedCategories.length-1,title:"Move category down"},on:{click:function(e){return t.moveCategoryDown(s)}}},[e("b-icon",{attrs:{icon:"chevron-down",size:"is-small"}})],1)])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.expandedCategories[s],expression:"expandedCategories[category]"}],staticClass:"category-contracts"},[t._l(t.getCategoryContracts(s),(function(a,i){return e("div",{key:a.id,staticClass:"contract-item-wrapper",class:{"drop-target":t.dropTarget&&t.dropTarget.category===s&&t.dropTarget.index===i},on:{dragover:function(e){return e.preventDefault(),t.handleDragOver(e,s,i)},dragleave:t.handleDragLeave,drop:function(e){return t.handleDrop(e,s,i)}}},[t.dropTarget&&t.dropTarget.category===s&&t.dropTarget.index===i?e("div",{staticClass:"drop-indicator"}):t._e(),e("Contract",{attrs:{variant:"list",item:a,isActive:t.activeContractId===a.id},on:{select:function(e){return t.onSelect(a)},edit:function(e){return t.edit(a)},dragstart:t.handleDragStartContract,dragend:t.handleDragEndContract,export:function(e){return t.exportJson(a)},delete:function(e){return t.remove(a)}}})],1)})),t.getCategoryContracts(s).length>0&&t.draggedContract?e("div",{staticClass:"drop-zone-end",class:{"drop-target":t.dropTarget&&t.dropTarget.category===s&&t.dropTarget.index===t.getCategoryContracts(s).length},on:{dragover:function(e){e.preventDefault(),t.handleDragOver(e,s,t.getCategoryContracts(s).length)},dragleave:t.handleDragLeave,drop:function(e){t.handleDrop(e,s,t.getCategoryContracts(s).length)}}},[t.dropTarget&&t.dropTarget.category===s&&t.dropTarget.index===t.getCategoryContracts(s).length?e("div",{staticClass:"drop-indicator"}):t._e()]):t._e()],2)])})),0):t.contracts.length?e("div",{staticClass:"empty-state"},[e("b-icon",{attrs:{icon:"search",size:"is-large","custom-class":"has-text-grey-light"}}),e("p",{staticClass:"has-text-grey"},[t._v("No contracts found")]),e("p",{staticClass:"is-size-7 has-text-grey-light"},[t._v("Try a different search term")])],1):e("div",{staticClass:"empty-state"},[e("b-icon",{attrs:{icon:"inbox",size:"is-large","custom-class":"has-text-grey-light"}}),e("p",{staticClass:"has-text-grey"},[t._v("No contracts here!")]),e("button",{staticClass:"button is-small is-primary is-outlined",on:{click:t.addItem}},[t._v("Add Contract")])],1)]),e("div",{staticClass:"sidebar-footer"},[e("p",{staticClass:"is-size-7 has-text-grey"},[t._v(" "+t._s(t.filteredContracts.length)+" contract"+t._s(1!==t.filteredContracts.length?"s":"")+" ")])])])},kt=[],At=function(){var t=this,e=t._self._c;t._self._setupProxy;return"list"===t.variant?e("div",{staticClass:"contract-card",class:{"is-dragging":t.isDragging,"is-active":t.isActive},attrs:{draggable:"true"},on:{dragstart:t.handleDragStart,dragend:t.handleDragEnd,click:t.handleCardClick}},[e("div",{staticClass:"contract-header"},[e("div",{staticClass:"contract-info"},[e("div",{staticClass:"contract-avatar"},[e("img",{directives:[{name:"ident",rawName:"v-ident",value:t.item.address,expression:"item.address"}],attrs:{alt:"Contract avatar"}})]),e("div",{staticClass:"contract-details"},[e("h4",{staticClass:"contract-name"},[t._v(t._s(t.item.name||""))]),e("p",{staticClass:"contract-address is-family-monospace"},[t._v(t._s(t._f("addr")(t._f("toChecksumAddress")(t.item.address))))])])]),e("div",{staticClass:"dropdown is-right more-menu",class:{"is-active":t.isMenuOpen},on:{click:function(t){t.stopPropagation()}}},[e("div",{staticClass:"dropdown-trigger"},[e("button",{staticClass:"button is-small is-ghost more-button",attrs:{"aria-haspopup":"true"},on:{click:t.toggleMenu}},[e("b-icon",{attrs:{icon:"ellipsis-v",size:"is-small"}})],1)]),e("div",{staticClass:"dropdown-menu"},[e("div",{staticClass:"dropdown-content"},[e("a",{staticClass:"dropdown-item",on:{click:t.handleEdit}},[e("b-icon",{attrs:{icon:"edit",size:"is-small"}}),e("span",[t._v("Edit")])],1),e("a",{staticClass:"dropdown-item",on:{click:t.handleCopyAddress}},[e("b-icon",{attrs:{icon:"copy",size:"is-small"}}),e("span",[t._v("Copy Address")])],1),e("a",{staticClass:"dropdown-item",on:{click:t.handleExport}},[e("b-icon",{attrs:{icon:"file-export",size:"is-small"}}),e("span",[t._v("Export")])],1),e("hr",{staticClass:"dropdown-divider"}),e("a",{staticClass:"dropdown-item has-text-danger",on:{click:t.handleDelete}},[e("b-icon",{attrs:{icon:"trash-alt",size:"is-small"}}),e("span",[t._v("Delete")])],1)])])])])]):e("div",{staticClass:"box detail-box",class:{"img-hover":t.$listeners.select}},[e("article",{staticClass:"media"},[e("div",{staticClass:"media-left"},[e("figure",{staticClass:"image is-64x64",class:{"could-hover":t.$listeners.select}},[e("img",{directives:[{name:"ident",rawName:"v-ident",value:t.item.address,expression:"item.address"}],attrs:{alt:"Image"},on:{click:function(e){return e.stopPropagation(),t.$emit("select")}}})])]),e("div",{staticClass:"media-content"},[e("div",{staticClass:"content"},[e("p",[e("strong",[t._v(t._s(t.item.name||""))])]),t.isShort?e("p",{staticClass:"is-family-monospace has-text-weight-semibold display-6"},[t._v(t._s(t._f("addr")(t._f("toChecksumAddress")(t.item.address))))]):e("p",{staticClass:"is-family-monospace has-text-weight-semibold display-6"},[e("a",{attrs:{target:"_blank",href:`${t.$explorerAccount}${t.item.address}`}},[t._v(t._s(t._f("toChecksumAddress")(t.item.address)))])])]),e("nav",{staticClass:"level"},[e("div",{staticClass:"level-left"},[e("div",{staticClass:"level-item"},[t._t("default")],2)])])]),e("div",{staticClass:"media-right"},[e("div",{staticClass:"content"},[e("div",{staticClass:"dropdown is-right detail-more-menu",class:{"is-active":t.isMenuOpen},on:{click:function(t){t.stopPropagation()}}},[e("div",{staticClass:"dropdown-trigger"},[e("button",{staticClass:"button is-small is-ghost",attrs:{"aria-haspopup":"true"},on:{click:t.toggleMenu}},[e("b-icon",{attrs:{icon:"ellipsis-v",size:"is-small"}})],1)]),e("div",{staticClass:"dropdown-menu"},[e("div",{staticClass:"dropdown-content"},[e("a",{staticClass:"dropdown-item",on:{click:t.handleEdit}},[e("b-icon",{attrs:{icon:"edit",size:"is-small"}}),e("span",[t._v("Edit")])],1),e("a",{staticClass:"dropdown-item",on:{click:t.handleCopyAddress}},[e("b-icon",{attrs:{icon:"copy",size:"is-small"}}),e("span",[t._v("Copy Address")])],1),e("a",{staticClass:"dropdown-item",on:{click:t.handleExport}},[e("b-icon",{attrs:{icon:"file-export",size:"is-small"}}),e("span",[t._v("Export")])],1),e("a",{staticClass:"dropdown-item",on:{click:t.handleSubmitABI}},[e("b-icon",{attrs:{icon:"upload",size:"is-small"}}),e("span",[t._v("Submit JSON ABI")])],1),e("hr",{staticClass:"dropdown-divider"}),e("a",{staticClass:"dropdown-item has-text-danger",on:{click:t.handleDelete}},[e("b-icon",{attrs:{icon:"trash-alt",size:"is-small"}}),e("span",[t._v("Delete")])],1)])])]),t._t("right")],2)])])])},It=[];let St=class extends u.lD{constructor(){super(...arguments),this.isMenuOpen=!1,this.isDragging=!1}handleCardClick(){this.$emit("select")}handleEdit(){this.isMenuOpen=!1,this.$emit("edit")}handleView(){this.$emit("select")}handleCopyAddress(){this.isMenuOpen=!1;const t=this.item.address;navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(t).then((()=>{this.$buefy.toast.open({message:"Address copied to clipboard!",type:"is-success",duration:2e3,position:"is-bottom"})})).catch((()=>{this.fallbackCopyToClipboard(t)})):this.fallbackCopyToClipboard(t)}fallbackCopyToClipboard(t){const e=document.createElement("textarea");e.value=t,e.style.position="fixed",e.style.left="-999999px",document.body.appendChild(e),e.select();try{document.execCommand("copy"),this.$buefy.toast.open({message:"Address copied to clipboard!",type:"is-success",duration:2e3,position:"is-bottom"})}catch(s){this.$buefy.toast.open({message:"Failed to copy address",type:"is-danger",duration:2e3,position:"is-bottom"})}document.body.removeChild(e)}handleExport(){this.isMenuOpen=!1,this.$emit("export")}handleDelete(){this.isMenuOpen=!1,this.$emit("delete")}handleSubmitABI(){this.isMenuOpen=!1,this.$emit("submitABI")}toggleMenu(){const t=this.isMenuOpen;BUS.$emit("close-all-contract-menus"),this.isMenuOpen=!t}handleDragStart(t){this.isDragging=!0,t.dataTransfer&&(t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("text/plain",JSON.stringify({id:this.item.id,address:this.item.address}))),this.$emit("dragstart",this.item)}handleDragEnd(t){this.isDragging=!1,this.$emit("dragend")}mounted(){document.addEventListener("click",this.closeMenu),BUS.$on("close-all-contract-menus",this.closeMenu)}beforeDestroy(){document.removeEventListener("click",this.closeMenu),BUS.$off("close-all-contract-menus",this.closeMenu)}closeMenu(){this.isMenuOpen=!1}};(0,d.Cg)([(0,u.kv)()],St.prototype,"item",void 0),(0,d.Cg)([(0,u.kv)({default:"detail"})],St.prototype,"variant",void 0),(0,d.Cg)([(0,u.kv)({default:!0})],St.prototype,"isShort",void 0),(0,d.Cg)([(0,u.kv)({default:!1})],St.prototype,"isActive",void 0),St=(0,d.Cg)([u.uA],St);var Tt=St,$t=Tt,Et=(0,j.A)($t,At,It,!1,null,"603cc72a",null),Nt=Et.exports;let Mt=class extends u.lD{constructor(){super(...arguments),this.searchQuery="",this.expandedCategories={},this.draggedContract=null,this.dropTarget=null,this.lastUploadMode=null}get filteredContracts(){if(!this.searchQuery.trim())return this.contracts;const t=this.searchQuery.toLowerCase();return this.contracts.filter((e=>{const s=(e.name||"").toLowerCase(),a=e.address.toLowerCase();return s.includes(t)||a.includes(t)}))}get sortedCategories(){const t=new Set;this.filteredContracts.forEach((e=>{t.add(e.category||"")}));const e=Array.from(t).sort(((t,e)=>{const s=this.categoryOrder[t]??9999,a=this.categoryOrder[e]??9999;return s!==a?s-a:t?e?t.localeCompare(e):-1:1}));return e}getCategoryContracts(t){return this.filteredContracts.filter((e=>(e.category||"")===t)).sort(((t,e)=>(t.order||0)-(e.order||0)))}toggleCategory(t){this.$set(this.expandedCategories,t,!this.expandedCategories[t])}expandCategory(t){this.$set(this.expandedCategories,t,!0)}clearSearch(){this.searchQuery=""}onSelect(t){this.$emit("open-contract",t)}addItem(){this.$emit("add-contract")}edit(t){this.$emit("edit-contract",t)}exportJson(t){this.$emit("export-contract",t)}remove(t){this.$emit("delete-contract",t)}onImport(){this.$emit("show-import-instructions")}triggerFileUpload(t="files"){if(this.lastUploadMode=t,"folder"===t){const t=this.$refs.files;t.click()}else{const t=this.$refs.filesMultiple;t.click()}}moveCategoryUp(t){this.$emit("move-category-up",t)}moveCategoryDown(t){this.$emit("move-category-down",t)}renameCategory(t){this.$emit("rename-category",t)}handleDragStartContract(t){this.draggedContract=t}handleDragEndContract(){this.draggedContract=null,this.dropTarget=null}handleDragOver(t,e,s){t.preventDefault(),this.draggedContract&&(this.dropTarget={category:e,index:s})}handleDragLeave(t){const e=t.relatedTarget;e&&e.closest(".contract-item-wrapper")||(this.dropTarget=null)}handleDrop(t,e,s){t.preventDefault(),this.draggedContract&&(this.$emit("drop-contract",{contract:this.draggedContract,targetCategory:e,targetIndex:s}),this.dropTarget=null)}mounted(){const t=t=>{const e=this.$refs[t];e.onchange=()=>{const t=e.files;if(t&&t.length>0){const s=Array.from(t);this.$emit("files-selected",s),e.value=""}}};t("files"),t("filesMultiple"),this.initializeCategoryExpansion()}initializeCategoryExpansion(){this.$set(this.expandedCategories,"",!0)}};(0,d.Cg)([(0,u.kv)({required:!0})],Mt.prototype,"contracts",void 0),(0,d.Cg)([(0,u.kv)({default:()=>({})})],Mt.prototype,"categoryOrder",void 0),(0,d.Cg)([(0,u.kv)({default:null})],Mt.prototype,"activeContractId",void 0),Mt=(0,d.Cg)([(0,u.uA)({components:{Contract:Nt}})],Mt);var Dt=Mt,Ot=Dt,Rt=(0,j.A)(Ot,_t,kt,!1,null,"56b6797a",null),Bt=Rt.exports,Pt=function(){var t=this,e=t._self._c;t._self._setupProxy;return t.openContracts.length>0?e("div",{staticClass:"tab-bar"},[e("div",{staticClass:"tabs-container"},t._l(t.sortedContracts,(function(s){return e("div",{key:s.id,staticClass:"tab-item",class:{"is-active":t.activeContractId===s.id,"is-pinned":t.isPinned(s.id)},on:{click:function(e){return t.selectTab(s.id)}}},[t.isPinned(s.id)?e("button",{staticClass:"tab-pin pinned",attrs:{title:"Unpin tab"},on:{click:function(e){return e.stopPropagation(),t.unpinTab(s.id)}}},[e("b-icon",{attrs:{icon:"thumbtack",size:"is-small"}})],1):t._e(),e("span",{staticClass:"tab-name"},[t._v(t._s(s.name))]),e("div",{staticClass:"tab-actions"},[t.isPinned(s.id)?t._e():e("button",{staticClass:"tab-pin",attrs:{title:"Pin tab"},on:{click:function(e){return e.stopPropagation(),t.pinTab(s.id)}}},[e("b-icon",{attrs:{icon:"thumbtack",size:"is-small"}})],1),e("button",{staticClass:"tab-close",attrs:{title:"Close tab"},on:{click:function(e){return e.stopPropagation(),t.closeTab(s.id)}}},[e("b-icon",{attrs:{icon:"times",size:"is-small"}})],1)])])})),0),e("div",{staticClass:"tab-count"},[t._v(" "+t._s(t.openContracts.length)+" ")])]):t._e()},Ft=[];let Lt=class extends u.lD{get sortedContracts(){const t=this.openContracts.filter((t=>this.pinnedTabs.has(t.id))),e=this.openContracts.filter((t=>!this.pinnedTabs.has(t.id)));return[...t,...e]}isPinned(t){return this.pinnedTabs.has(t)}selectTab(t){this.$emit("select-tab",t)}closeTab(t){this.$emit("close-tab",t)}pinTab(t){this.$emit("pin-tab",t)}unpinTab(t){this.$emit("unpin-tab",t)}};(0,d.Cg)([(0,u.kv)({required:!0})],Lt.prototype,"openContracts",void 0),(0,d.Cg)([(0,u.kv)({default:null})],Lt.prototype,"activeContractId",void 0),(0,d.Cg)([(0,u.kv)({default:()=>new Set})],Lt.prototype,"pinnedTabs",void 0),Lt=(0,d.Cg)([u.uA],Lt);var zt=Lt,Ut=zt,Vt=(0,j.A)(Ut,Pt,Ft,!1,null,"24003b2b",null),jt=Vt.exports,qt=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"contract-detail-panel"},[t.contract?e("div",{staticClass:"container"},[e("Contract",{attrs:{isShort:!1,item:t.contract},on:{edit:t.editContract,export:t.exportContract,delete:t.deleteContract,submitABI:t.submitABI}}),e("section",{staticClass:"search-and-tabs-section"},[e("div",{staticClass:"search-section"},[e("b-field",{attrs:{grouped:""}},[e("b-field",{attrs:{expanded:""}},[e("b-field",{staticClass:"is-pulled-right",staticStyle:{width:"100%"}},[e("b-autocomplete",{attrs:{rounded:"",data:t.filterList,placeholder:"Search for functions or events"},on:{select:t.onSearchSelect},scopedSlots:t._u([{key:"default",fn:function(s){return[e("div",[e("span",{staticClass:"is-size-6"},[t._v(t._s(s.option.name))])]),e("span",{staticClass:"has-text-grey"},[t._v(t._s(s.option.type))])]}}],null,!1,1256192932),model:{value:t.name,callback:function(e){t.name=e},expression:"name"}},[e("template",{slot:"empty"},[t._v("No results found")])],2)],1)],1)],1)],1),e("div",{staticClass:"tabs-section"},[e("b-tabs",{staticClass:"block",model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}},t._l(t.tabs,(function(s,a){return e("b-tab-item",{key:a,attrs:{visible:s.visible}},[e("span",{attrs:{slot:"header"},slot:"header"},[t._v(" "+t._s(s.text)+" "),s.count?e("span",{staticClass:"is-size-7"},[t._v("("+t._s(s.count)+")")]):t._e()])])})),1)],1),e("div",{directives:[{name:"show",rawName:"v-show",value:0===t.tabIndex,expression:"tabIndex === 0"}]},t._l(t.readList,(function(s,a){return e("FunctionCard",{key:a,ref:s.name,refInFor:!0,staticStyle:{"margin-bottom":"20px"},attrs:{id:s.name,address:t.contract.address,item:s}})})),1),e("div",{directives:[{name:"show",rawName:"v-show",value:1===t.tabIndex,expression:"tabIndex === 1"}]},t._l(t.writeList,(function(s,a){return e("FunctionCard",{key:a,ref:s.name,refInFor:!0,staticStyle:{"margin-bottom":"20px"},attrs:{address:t.contract.address,item:s}})})),1),e("div",{directives:[{name:"show",rawName:"v-show",value:2===t.tabIndex,expression:"tabIndex === 2"}]},[e("DescCard",{staticStyle:{"margin-bottom":"20px"},attrs:{item:t.abi,title:"ABI"}}),t.code?e("DescCard",{staticClass:"code-pre",staticStyle:{"margin-bottom":"20px"},attrs:{item:t.code,title:"Code"}}):t._e()],1),e("div",{directives:[{name:"show",rawName:"v-show",value:3===t.tabIndex,expression:"tabIndex === 3"}]},t._l(t.eventList,(function(s,a){return e("EventCard",{key:a,ref:s.name,refInFor:!0,staticStyle:{"margin-bottom":"20px"},attrs:{address:t.contract.address,item:s,title:s.name,isHighlighted:t.highlightedItem===s.name}})})),1),e("div",{directives:[{name:"show",rawName:"v-show",value:4===t.tabIndex,expression:"tabIndex === 4"}]},[e("RolesTab",{attrs:{contractAddress:t.contract.address,abi:t.abi,network:t.network}})],1),e("div",{directives:[{name:"show",rawName:"v-show",value:5===t.tabIndex,expression:"tabIndex === 5"}]},[e("FallbackCard",{attrs:{fb:t.fb}})],1),e("div",{directives:[{name:"show",rawName:"v-show",value:6===t.tabIndex,expression:"tabIndex === 6"}]},t._l(t.prList,(function(s,a){return e("FunctionCard",{key:a,ref:s.name,refInFor:!0,staticStyle:{"margin-bottom":"20px"},attrs:{prototype:!0,address:t.contract.address,item:s}})})),1),e("div",{directives:[{name:"show",rawName:"v-show",value:7===t.tabIndex,expression:"tabIndex === 7"}]},t._l(t.pwList,(function(s,a){return e("FunctionCard",{key:a,ref:s.name,refInFor:!0,staticStyle:{"margin-bottom":"20px"},attrs:{prototype:!0,address:t.contract.address,item:s}})})),1),e("div",{directives:[{name:"show",rawName:"v-show",value:8===t.tabIndex,expression:"tabIndex === 8"}]},t._l(t.peList,(function(s,a){return e("EventCard",{key:a,ref:s.name,refInFor:!0,staticStyle:{"margin-bottom":"20px"},attrs:{prototype:!0,address:t.contract.address,item:s,isHighlighted:t.highlightedItem===s.name}})})),1)])],1):t._e(),e("b-modal",{attrs:{width:640,canCancel:[],active:t.isModalActive},on:{"update:active":function(e){t.isModalActive=e}}},[e("EditContract",{attrs:{item:t.contract,isImport:!1},on:{cancel:t.onCancelEdit,finished:t.onFinishEdit}})],1)],1)},Ht=[],Gt=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("form",[e("div",{staticClass:"modal-card"},[e("header",{staticClass:"modal-card-head"},[e("span",{staticClass:"modal-card-title"},[t._v(t._s(t.context.title))])]),e("section",{staticClass:"modal-card-body"},[e("b-field",{attrs:{type:t.formMessage.name.isError?"is-danger":"",message:t.formMessage.name.message},scopedSlots:t._u([{key:"label",fn:function(){return[e("span",[t._v("Name")]),e("b-tooltip",{attrs:{label:"ðŸ’¡ Tip: Start typing to import a built-in contract, or just enter your own contract name",type:"is-info",position:"is-right",multilined:""}},[e("b-icon",{staticStyle:{"margin-left":"0.25rem"},attrs:{icon:"info-circle",size:"is-small"}})],1)]},proxy:!0}])},[e("b-autocomplete",{attrs:{data:t.filteredContracts,field:"name",clearable:!0,"open-on-focus":"",placeholder:"Type to search built-in contracts or enter custom name"},on:{blur:t.checkName,select:t.onSelectContract,typing:t.filterContractsByName},scopedSlots:t._u([{key:"default",fn:function({option:s}){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-content"},[e("p",{staticClass:"has-text-weight-semibold"},[t._v(t._s(s.name))]),e("p",{staticClass:"is-size-7 has-text-grey-light"},[t._v(t._s(s.address))])])])]}},{key:"empty",fn:function(){return[t.nameInputDirty?t._e():e("div",{staticClass:"has-text-centered py-3 px-2"},[e("p",{staticClass:"has-text-grey"},[e("b-icon",{attrs:{icon:"information-outline",size:"is-small"}}),t._v(" No built-in contracts match your search ")],1),e("p",{staticClass:"is-size-7 has-text-grey-light mt-1"},[t._v(" That's okay! Just keep typing your custom contract name ")])])]},proxy:!0}]),model:{value:t.nameInput,callback:function(e){t.nameInput=e},expression:"nameInput"}})],1),e("b-field",{attrs:{type:t.formMessage.address.isError?"is-danger":"",message:t.formMessage.address.message,label:"address"}},[e("b-input",{attrs:{"custom-class":"is-family-monospace has-text-weight-semibold",message:t.formMessage.address.message,type:"text",placeholder:"0x..."},on:{blur:t.checkAddress},model:{value:t.form.address,callback:function(e){t.$set(t.form,"address",e)},expression:"form.address"}})],1),e("b-field",{attrs:{type:t.formMessage.abi.isError?"is-danger":"",message:t.formMessage.abi.message,label:"ABI"}},[e("b-input",{attrs:{message:t.formMessage.abi.message,type:"textarea"},on:{blur:t.checkABI},model:{value:t.form.abi,callback:function(e){t.$set(t.form,"abi",e)},expression:"form.abi"}})],1),e("b-field",[e("button",{staticClass:"button is-info is-light is-fullwidth",class:{"is-loading":t.fetchingABI},attrs:{type:"button",disabled:!t.form.address||t.fetchingABI},on:{click:t.fetchABIFromSourcify}},[t.fetchingABI?t._e():e("b-icon",{attrs:{icon:"download",size:"is-small"}}),e("span",[t._v(t._s(t.fetchingABI?t.fetchStatus:"Fetch Latest ABI from Sourcify"))])],1)]),e("b-field",{attrs:{label:"Category (optional)"}},[e("b-autocomplete",{attrs:{data:t.filteredCategories,placeholder:"Select or create a category","open-on-focus":"",clearable:"","append-to-body":"","max-height":"200"},on:{typing:t.getFilteredCategories},model:{value:t.form.category,callback:function(e){t.$set(t.form,"category",e)},expression:"form.category"}},[e("template",{slot:"empty"},[t._v("Type to create new category")])],2)],1),t.isImport&&t.isEdit?e("b-message",{attrs:{type:"is-warning"}},[t._v(" The contract exists, are you sure to override it? ")]):t._e()],1),e("footer",{staticClass:"modal-card-foot"},[e("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.close.apply(null,arguments)}}},[t._v("Cancel")]),e("button",{staticClass:"button is-primary",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.submit.apply(null,arguments)}}},[t._v(t._s(t.context.btn))])])])])},Jt=[];const Wt=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"}],Yt=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"operator",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"owner",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"_approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"}],Xt={name:"Authority (Built-in)",abi:"https://raw.githubusercontent.com/vechain/b32/refs/heads/master/ABIs/authority.json"},Qt={name:"VTHO (Built-in)",abi:"https://raw.githubusercontent.com/vechain/b32/refs/heads/master/ABIs/energy.json"},Kt={name:"Executor (Built-in)",abi:"https://raw.githubusercontent.com/vechain/b32/refs/heads/master/ABIs/executor.json"},Zt={name:"Staker (Built-in)",abi:"https://raw.githubusercontent.com/vechain/b32/refs/heads/master/ABIs/staker.json"},te={name:"Extension (Built-in)",abi:"https://raw.githubusercontent.com/vechain/b32/refs/heads/master/ABIs/extension.json"},ee={name:"Params (Built-in)",abi:"https://raw.githubusercontent.com/vechain/b32/refs/heads/master/ABIs/params.json"},se={name:"Prototype (Built-in)",abi:"https://raw.githubusercontent.com/vechain/b32/refs/heads/master/ABIs/prototype.json"},ae={name:"VeBetter - B3TR",abi:"https://raw.githubusercontent.com/vechain/b32/refs/heads/master/ABIs/VeBetterDAO-b3tr.json"},ie={name:"VeBetter - Governor",abi:"https://raw.githubusercontent.com/vechain/b32/refs/heads/master/ABIs/VeBetterDAO-b3tr-governor.json"},ne={name:"VeBetter - Emissions",abi:"https://raw.githubusercontent.com/vechain/b32/refs/heads/master/ABIs/VeBetterDAO-emissions.json"},re={name:"VeBetter - Galaxy Member",abi:"https://raw.githubusercontent.com/vechain/b32/refs/heads/master/ABIs/VeBetterDAO-galaxy-member.json"},oe={name:"VeBetter - TimeLock",abi:"https://raw.githubusercontent.com/vechain/b32/refs/heads/master/ABIs/VeBetterDAO-timelock.json"},ce={name:"VeBetter - Treasury",abi:"https://raw.githubusercontent.com/vechain/b32/refs/heads/master/ABIs/VeBetterDAO-treasury.json"},le={name:"VeBetter - VOT3",abi:"https://raw.githubusercontent.com/vechain/b32/refs/heads/master/ABIs/VeBetterDAO-vot3.json"},de={name:"VeBetter - VoterRewards",abi:"https://raw.githubusercontent.com/vechain/b32/refs/heads/master/ABIs/VeBetterDAO-voter-rewards.json"},ue={name:"VeBetter - X2EarnApps",abi:"https://raw.githubusercontent.com/vechain/b32/refs/heads/master/ABIs/VeBetterDAO-x-2-earn-apps.json"},pe={name:"VeBetter - X2EarnRewardsPool",abi:"https://raw.githubusercontent.com/vechain/b32/refs/heads/master/ABIs/VeBetterDAO-x-2-earn-rewards-pool.json"},he={name:"VeBetter - XAllocationPool",abi:"https://raw.githubusercontent.com/vechain/b32/refs/heads/master/ABIs/VeBetterDAO-x-allocation-pool.json"},me={name:"VeBetter - XAllocationVoting",abi:"https://raw.githubusercontent.com/vechain/b32/refs/heads/master/ABIs/VeBetterDAO-x-allocations-voting.json"},fe={name:"VeBetter - VeBetterPassport",abi:"https://raw.githubusercontent.com/vechain/b32/refs/heads/master/ABIs/VeBetterDAO-ve-better-passport.json"},be={name:"VeBetter - DBAPool",abi:"https://raw.githubusercontent.com/vechain/b32/refs/heads/master/ABIs/VeBetterDAO-dynamic-base-allocations-pool.json"},ge={name:"VeBetter - RelayersRewardsPool",abi:"https://raw.githubusercontent.com/vechain/b32/refs/heads/master/ABIs/VeBetterDAO-relayer-rewards-pool.json"},ve={name:"VeBetter - Creator NFT",abi:"https://raw.githubusercontent.com/vechain/b32/refs/heads/master/ABIs/VeBetterDAO-x-2-earn-creator.json"},ye={name:"VeBetter - GrantsManager",abi:"https://raw.githubusercontent.com/vechain/b32/refs/heads/master/ABIs/VeBetterDAO-grants-manager.json"},Ce={name:"StarGate NFT",abi:"https://raw.githubusercontent.com/vechain/b32/refs/heads/master/ABIs/StargateNFT.json"},we={name:"StarGate",abi:"https://raw.githubusercontent.com/vechain/b32/refs/heads/master/ABIs/Stargate.json"},xe={name:"Smart Account Factory",abi:"https://raw.githubusercontent.com/vechain/b32/refs/heads/master/ABIs/social-login-smart-account-factory.json"},_e={name:"Smart Account",abi:"https://raw.githubusercontent.com/vechain/b32/refs/heads/master/ABIs/social-login-smart-account.json"},ke={name:"Legacy VeChain Nodes",abi:"https://raw.githubusercontent.com/vechain/b32/refs/heads/master/ABIs/thornode-tokenauction.json"},Ae={name:"Oracle (vechain.energy)",abi:"https://raw.githubusercontent.com/vechain/b32/refs/heads/master/ABIs/oracle.vechain.energy.json"},Ie={"Enter ERC20 Address":{name:"ERC20",abi:Wt},"Enter ERC721 Address":{name:"ERC721",abi:Yt},"0x0000000000000000000000417574686f72697479":Xt,"0x0000000000000000000000000000456e65726779":Qt,"0x0000000000000000000000004578656375746f72":Kt,"0x0000000000000000000000457874656e73696f6e":te,"0x0000000000000000000000000000506172616d73":ee,"0x000000000000000000000050726f746f74797065":se,"0x00000000000000000000000000005374616b6572":Zt},Se=[Xt,Qt,Kt,Zt,te,ee,se,{name:"ERC20",abi:Wt},{name:"ERC721",abi:Yt},ae,ie,ne,re,oe,ce,le,de,ue,pe,he,me,fe,be,ge,ve,ye,Ce,we,xe,_e,ke,Ae],Te={"0x00000000851caf3cfdb6e899cf5958bfb1ac3413d346d43539627e6be7ec1b4a":{...Ie,"0x5ef79995FE8a89e0812330E4378eB2660ceDe699":ae,"0x1c65C25fABe2fc1bCb82f253fA0C916a322f777C":ie,"0xDf94739bd169C84fe6478D8420Bb807F1f47b135":ne,"0x93B8cD34A7Fc4f53271b9011161F7A2B5fEA9D1F":re,"0x7B7EaF620d88E38782c6491D7Ce0B8D8cF3227e4":oe,"0xD5903BCc66e439c753e525F8AF2FeC7be2429593":ce,"0x76Ca782B59C74d088C7D2Cce2f211BC00836c602":le,"0x838A33AF756a6366f93e201423E1425f67eC0Fa7":de,"0x8392B7CCc763dB03b47afcD8E8f5e24F9cf0554D":ue,"0x6Bee7DDab6c99d5B2Af0554EaEA484CE18F52631":pe,"0x4191776F05f4bE4848d3f4d587345078B439C7d3":he,"0x89A00Bb0947a30FF95BEeF77a66AEdE3842Fe5B7":me,"0x35a267671d8EDD607B2056A9a13E7ba7CF53c8b3":fe,"0x98c1d097c39969bb5de754266f60d22bd105b368":be,"0x34b56f892c9e977b9ba2e43ba64c27d368ab3c86":ge,"0xe8e96a768ffd00417d4bd985bec9EcfC6F732a7f":ve,"0x055d20914657834c914d7c44bf65b566ab4b45a2":ye,"0x1856c533ac2d94340aaa8544d35a5c1d4a21dee7":Ce,"0x03c557be98123fdb6fad325328ac6eb77de7248c":we,"0xc06ad8573022e2be416ca89da47e8c592971679a":xe,"0xb81e9c5f9644dec9e5e3cac86b4461a222072302":ke,"0x49eC7192BF804Abc289645ca86F1eD01a6C17713":Ae},"0x000000000b2bce3c70bc649a02749e8687721b09ed2e15997f466536b20bb127":{...Ie,"0x95761346d18244bb91664181bf91193376197088":ae,"0xc30b4d0837f7e3706749655d8bde0c0f265dd81b":ie,"0x66898f98409db20ed6a1bf0021334b7897eb0688":ne,"0x38a59fa7fd7039884465a0ff285b8c4b6fe394ca":re,"0x835509222aa67c333a1cbf29bd341e014aba86c9":oe,"0x3d531a80c05099c71b02585031f86a2988e0caca":ce,"0x6e8b4a88d37897fc11f6ba12c805695f1c41f40e":le,"0x851ef91801899a4e7e4a3174a9300b3e20c957e8":de,"0x0b54a094b877a25bdc95b4431eaa1e2206b1ddfe":ue,"0x2d2a2207c68a46fc79325d7718e639d1047b0d8b":pe,"0x6f7b4bc19b4dc99005b473b9c45ce2815bbe7533":he,"0x8800592c463f0b21ae08732559ee8e146db1d7b2":me,"0x887d9102f0003f1724d8fd5d4fe95a11572fcd77":Ce,"0x1E02B2953AdEfEC225cF0Ec49805b1146a4429C1":we,"0x713b908Bcf77f3E00EFEf328E50b657a1A23AeaF":xe,"0x8dbce5de4c1f1840a47ab10c682aee48e9d06c20":ke,"0xdcCAaBd81B38e0dEEf4c202bC7F1261A4D9192C6":Ae}};var $e=s(6763);let Ee=class extends u.lD{constructor(){super(...arguments),this.formMessage={abi:{isError:!1,message:""},address:{isError:!1,message:""},name:{isError:!1,message:""}},this.form={id:0,name:"",address:"",abi:"",category:""},this.nameInput="",this.filteredContracts=[],this.allContracts=[],this.categories=[],this.filteredCategories=[],this.fetchingABI=!1,this.fetchStatus="",this.nameInputDirty=!1}get context(){const t={title:"Add Contract",btn:"Add"};return this.isEdit&&(t.title="Edit Contract",t.btn=this.isImport?"Override":"Save"),t}get isEdit(){return this.item&&this.item.id}async created(){await this.loadCategories(),this.initForm(),this.loadBuiltinContracts()}loadBuiltinContracts(){const t=this.$connex.thor.genesis.id,e=Te[t]||{};this.allContracts=Object.entries(e).map((([t,e])=>({name:e.name,address:t})))}async onSelectContract(t){if(!t)return;this.form.name=t.name,this.nameInput=t.name,this.form.address=t.address;const e=this.$connex.thor.genesis.id,s=Te[e]||{},a=s[t.address];if(a&&a.abi){if("string"!==typeof a.abi)return void(this.form.abi=JSON.stringify(a.abi,null,2));try{const t=await fetch(a.abi);if(t.ok){const e=await t.json();this.form.abi=JSON.stringify(e,null,2)}}catch(i){$e.error("Failed to load ABI from URL",i)}}}close(){this.$emit("cancel")}async loadCategories(){const t=this.$connex.thor.genesis.id,e=await v.contracts.filter((e=>e.network===t||void 0===e.network)).toArray(),s=new Set;e.forEach((t=>{t.category&&s.add(t.category)})),this.categories=Array.from(s).sort(),this.filteredCategories=this.categories}getFilteredCategories(t){this.filteredCategories=this.categories.filter((e=>e.toLowerCase().indexOf(t.toLowerCase())>=0))}initForm(){const t=this.item;this.nameInputDirty=!1,t&&t.address?(this.form.name=t.name||"",this.nameInput=t.name||"",this.form.address=t.address||"",this.form.abi=t.abi?JSON.stringify(t.abi,null,2):"",this.form.id=t.id||0,this.form.category=t.category||""):(this.form={name:"",address:"",abi:"",id:0,category:""},this.nameInput="")}onNameInputChange(t){this.form.name=t}async onAbiChange(t){if(this.form.name)return;let e;try{e=JSON.parse(t)}catch(s){return}if(this.form.address){const t=e.filter((t=>"name"===t.name));if(t.length>0){const e=await this.$connex.thor.account(this.form.address).method(t[0]).call();e.reverted||e.vmError||!e.decoded||(this.form.name=e.decoded[0])}}}filterContractsByName(t){if(this.nameInputDirty=!0,!t)return void(this.filteredContracts=[]);const e=t.toLowerCase();this.filteredContracts=this.allContracts.filter((t=>t.name.toLowerCase().includes(e)))}async submit(){if(this.form.category&&"uncategorized"===this.form.category.trim().toLowerCase())return void this.$buefy.toast.open({message:'Category name "Uncategorized" is reserved. Please choose another name.',type:"is-danger",duration:2500,position:"is-bottom"});if(!this.checkform())return;let t;const e=this.isEdit&&(this.item?.category||"")!==(this.form.category||"");if(!this.isEdit||e){const s=this.$connex.thor.genesis.id,a=await v.contracts.filter((t=>(t.network===s||void 0===t.network)&&(t.category||"")===(this.form.category||"")&&(!e||t.id!==this.item?.id))).toArray(),i=a.reduce(((t,e)=>Math.max(t,e.order||0)),-1);t=i+1}else t=this.item?.order;const s={name:this.form.name,address:this.form.address.toLowerCase(),abi:JSON.parse(this.form.abi),network:this.$connex.thor.genesis.id,createdTime:Date.now(),category:this.form.category||void 0,order:t};try{let t;this.isEdit?(t=this.form.id,await v.contracts.where("id").equals(this.form.id).modify(s)):t=await v.contracts.add(s),this.$emit("finished",{category:this.form.category||"",contractId:t,isNewContract:!this.isEdit})}catch(a){$e.error(a)}}async fetchABIFromSourcify(){if(!this.form.address)return;const t=this.getSourcifyChainID();if(t){this.fetchingABI=!0,this.fetchStatus="Checking for proxy...";try{const t=this.form.address.toLowerCase();let s=null;try{s=await this.getImplementationAddress(t)}catch(e){$e.warn("Proxy detection failed, continuing with original address:",e)}if(s){this.fetchStatus="Proxy detected! Fetching implementation ABI...";const t=await this.loadABI(s);if(t)return void this.$buefy.toast.open({message:`Implementation ABI loaded! (${s.slice(0,10)}...)`,type:"is-success",duration:3e3,position:"is-bottom"});this.fetchStatus="Implementation not found, trying proxy address..."}this.fetchStatus="Fetching ABI from Sourcify...";const a=await this.loadABI(t);a?s?this.$buefy.toast.open({message:`âš ï¸ Loaded Proxy ABI (implementation ${s.slice(0,10)}... not verified)`,type:"is-warning",duration:4e3,position:"is-bottom"}):this.$buefy.toast.open({message:"ABI loaded successfully!",type:"is-success",duration:2500,position:"is-bottom"}):this.$buefy.toast.open({message:"Could not find ABI on Sourcify for this contract",type:"is-warning",duration:3e3,position:"is-bottom"})}catch(s){$e.error("Error fetching ABI:",s),this.$buefy.toast.open({message:`Error fetching ABI: ${s instanceof Error?s.message:"Unknown error"}`,type:"is-danger",duration:3e3,position:"is-bottom"})}finally{this.fetchingABI=!1,this.fetchStatus=""}}else this.$buefy.toast.open({message:"Sourcify is not supported for this network (Solo/Local)",type:"is-warning",duration:3e3,position:"is-bottom"})}async getImplementationFromSourcify(t){const e=this.getSourcifyChainID();if(!e)return null;try{const s=await fetch(`https://sourcify.dev/server/check-by-addresses?addresses=${t}&chainIds=${e}`);if(s.ok){const a=await s.json();if(a&&a[0]&&"perfect"===a[0].status){const s=await fetch(`https://sourcify.dev/server/repository/contracts/full_match/${e}/${t}/metadata.json`);if(s.ok){const t=await s.json();if(t.settings?.compilationTarget){const e=Object.values(t.settings.compilationTarget)[0];"string"===typeof e&&(e.toLowerCase().includes("proxy")||e.toLowerCase().includes("upgradeable"))}}}}}catch(s){$e.warn("Sourcify metadata check failed:",s)}return null}async getImplementationAddress(t){try{const s="0x360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc",a="0xc5f16f0fcc639fa48a6947836d9850f504798523bf8c9a3a87d5876cf622bcf7",i="0x7050c9e0f4ca769c69bd3a8ef740bc37934f8e2c036e5a723fd8ee048ed3f8c3";try{const e=await this.$connex.thor.account(t).getStorage(s);if(e&&e.value&&"0x0000000000000000000000000000000000000000000000000000000000000000"!==e.value){const t="0x"+e.value.slice(-40);if("0x0000000000000000000000000000000000000000"!==t)return t}}catch(e){$e.warn("EIP-1967 check failed:",e)}try{const e=await this.$connex.thor.account(t).getStorage(a);if(e&&e.value&&"0x0000000000000000000000000000000000000000000000000000000000000000"!==e.value){const t="0x"+e.value.slice(-40);if("0x0000000000000000000000000000000000000000"!==t)return t}}catch(e){$e.warn("EIP-1822 check failed:",e)}try{const e=await this.$connex.thor.account(t).getStorage(i);if(e&&e.value&&"0x0000000000000000000000000000000000000000000000000000000000000000"!==e.value){const t="0x"+e.value.slice(-40);if("0x0000000000000000000000000000000000000000"!==t)return t}}catch(e){$e.warn("OZ old slot check failed:",e)}try{const e={constant:!0,inputs:[],name:"implementation",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},s=await this.$connex.thor.account(t).method(e).call();if(s&&!s.reverted&&s.decoded&&s.decoded[0]){const t=s.decoded[0].toLowerCase();if("0x0000000000000000000000000000000000000000"!==t)return t}}catch(e){$e.warn("implementation() method check failed:",e)}try{const e={constant:!0,inputs:[],name:"getImplementation",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},s=await this.$connex.thor.account(t).method(e).call();if(s&&!s.reverted&&s.decoded&&s.decoded[0]){const t=s.decoded[0].toLowerCase();if("0x0000000000000000000000000000000000000000"!==t)return t}}catch(e){$e.warn("getImplementation() method check failed:",e)}return null}catch(s){return $e.error("Error detecting proxy:",s),null}}getSourcifyChainID(){const t=this.$connex.thor.genesis.id;return"0x00000000851caf3cfdb6e899cf5958bfb1ac3413d346d43539627e6be7ec1b4a"===t?"100009":"0x000000000b2bce3c70bc649a02749e8687721b09ed2e15997f466536b20bb127"===t?"100010":null}async loadABI(t){const e=this.getSourcifyChainID();if(!e)return!1;try{let s=await fetch(`https://sourcify.dev/server/repository/contracts/full_match/${e}/${t}/metadata.json`);if(200===s.status){const t=await s.json();return this.form.abi=JSON.stringify(t.output.abi,null,2),!0}if(s=await fetch(`https://sourcify.dev/server/repository/contracts/partial_match/${e}/${t}/metadata.json`),200===s.status){const t=await s.json();return this.form.abi=JSON.stringify(t.output.abi,null,2),!0}}catch(s){$e.error("Error loading ABI from Sourcify:",s)}return!1}checkform(){return this.checkABI(),this.checkAddress(),this.checkName(),!this.formMessage.name.isError&&!this.formMessage.address.isError&&!this.formMessage.abi.isError}checkABI(){if(this.form.abi)try{JSON.parse(this.form.abi),this.formMessage.abi.isError=!1,this.formMessage.abi.message=""}catch(t){this.formMessage.abi.isError=!0,this.formMessage.abi.message=t.name+": "+t.message}else this.formMessage.abi.isError=!0,this.formMessage.abi.message="ABI is required"}checkAddress(){this.form.address?dt.h.test(this.form.address)?(this.formMessage.address.isError=!1,this.formMessage.address.message=""):(this.formMessage.address.isError=!0,this.formMessage.address.message="Invalid address"):(this.formMessage.address.isError=!0,this.formMessage.address.message="Address is required")}checkName(){this.form.name?this.form.name.length<1||this.form.name.length>40?(this.formMessage.name.isError=!0,this.formMessage.name.message="Requires between 1 - 40 characters"):(this.formMessage.name.isError=!1,this.formMessage.name.message=""):(this.formMessage.name.isError=!0,this.formMessage.name.message="Name is required")}};(0,d.Cg)([(0,u.kv)({default:!1})],Ee.prototype,"isImport",void 0),(0,d.Cg)([(0,u.kv)({default:null})],Ee.prototype,"item",void 0),(0,d.Cg)([(0,u.ox)("nameInput")],Ee.prototype,"onNameInputChange",null),(0,d.Cg)([(0,u.ox)("form.abi")],Ee.prototype,"onAbiChange",null),Ee=(0,d.Cg)([u.uA],Ee);var Ne=Ee,Me=Ne,De=(0,j.A)(Me,Gt,Jt,!1,null,"81adfe8e",null),Oe=De.exports,Re=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("Panel",{attrs:{tabs:t.tabs,title:t.item.name},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[e("template",{slot:"panel-content"},[e("form",{directives:[{name:"show",rawName:"v-show",value:t.activeTab===t.tabs[0],expression:"activeTab === tabs[0]"}],on:{reset:function(e){return e.target!==e.currentTarget?null:(e.preventDefault(),t.reset.apply(null,arguments))}}},[e("b-field",{staticClass:"item-content",attrs:{horizontal:"",message:"Special address to call the method, it's not the param of the method",label:"Caller"}},[e("b-input",{attrs:{"custom-class":"is-family-monospace has-text-weight-semibold",placeholder:"Optional: Address"},model:{value:t.caller,callback:function(e){t.caller=e},expression:"caller"}})],1),t._l(t.item.inputs,(function(s,a){return e("b-field",{key:a,staticClass:"item-content",attrs:{horizontal:"",label:s.name}},["bool"===s.type?e("div",[e("b-radio",{attrs:{name:"True","native-value":!0},model:{value:t.params[a],callback:function(e){t.$set(t.params,a,e)},expression:"params[index]"}},[t._v(" True ")]),e("b-radio",{attrs:{name:"False","native-value":!1},model:{value:t.params[a],callback:function(e){t.$set(t.params,a,e)},expression:"params[index]"}},[t._v(" False ")])],1):e("b-input",{ref:"input",refInFor:!0,attrs:{"custom-class":"is-family-monospace has-text-weight-semibold",required:"",name:s.name,readonly:t.prototype&&"_self"===s.name,placeholder:s.type},model:{value:t.params[a],callback:function(e){t.$set(t.params,a,e)},expression:"params[index]"}})],1)})),t.payable?e("b-field",{staticClass:"item-content",attrs:{horizontal:"",label:"value"}},[e("b-field",{attrs:{grouped:""}},[e("b-input",{attrs:{"custom-class":"is-family-monospace has-text-weight-semibold",type:"text",placeholder:"vet"===t.valueUnit?"number(vet)":"number(wei)",expanded:""},model:{value:t.displayValue,callback:function(e){t.displayValue="string"===typeof e?e.trim():e},expression:"displayValue"}}),e("p",{staticClass:"control"}),e("div",{staticClass:"buttons has-addons unit-toggle-group"},[e("button",{staticClass:"button unit-toggle-btn",class:{"is-active":"vet"===t.valueUnit},attrs:{type:"button"},on:{click:function(e){return t.setValueUnit("vet")}}},[t._v(" VET ")]),e("button",{staticClass:"button unit-toggle-btn",class:{"is-active":"wei"===t.valueUnit},attrs:{type:"button"},on:{click:function(e){return t.setValueUnit("wei")}}},[t._v(" WEI ")])]),e("p")],1)],1):t._e(),e("b-field",{staticClass:"item-content",attrs:{horizontal:""}},[e("div",{staticClass:"buttons has-addons"},[e("button",{staticClass:"button is-rounded is-primary is-outlined",attrs:{type:"button"},on:{click:function(e){return t.addShortCut(t.item.name)}}},[t._v("Shortcut")]),t.couldExc?e("button",{staticClass:"button is-rounded is-primary is-outlined",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.executeFC.apply(null,arguments)}}},[t._v("Execute")]):t._e(),e("button",{staticClass:"button is-rounded is-primary is-outlined",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.callFC.apply(null,arguments)}}},[t._v("Call")]),t.params.length?e("button",{staticClass:"button is-rounded is-primary is-outlined",attrs:{type:"reset"}},[t._v("Reset")]):t._e()])]),t.request?e("b-field",{attrs:{label:"Request"}},[e("pre",{staticStyle:{width:"100%","white-space":"break-spaces","word-break":"break-all"}},[t._v(t._s(t.request))])]):t._e(),t.resp?e("b-field",{attrs:{label:"Response"}},[e("pre",{staticStyle:{width:"100%","white-space":"break-spaces","word-break":"break-all"}},[t._v(t._s(t.resp))])]):t._e(),t.txid||t.receipt?e("b-field",{attrs:{label:"Receipt"}},[e("pre",{staticStyle:{width:"100%","white-space":"break-spaces","word-break":"break-all"},domProps:{innerHTML:t._s(t.receiptDisplay)}})]):t._e()],2),e("div",{directives:[{name:"show",rawName:"v-show",value:t.activeTab===t.tabs[1],expression:"activeTab === tabs[1]"}]},[e("pre",[t._v(t._s(t.item))])])])],2)},Be=[],Pe=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("b-collapse",{staticClass:"panel",attrs:{open:t.isOpen},on:{"update:open":t.onupdate},scopedSlots:t._u([{key:"trigger",fn:function(s){return e("div",{staticClass:"panel-heading"},[e("div",{staticClass:"level"},[e("div",{staticClass:"level-left"},[e("div",{staticClass:"level-item"},[e("strong",[t._v(t._s(t.title))])]),e("div",{staticClass:"level-item"})]),e("div",{staticClass:"level-right"},[e("div",{staticClass:"level-item"},[e("b-icon",{attrs:{size:"is-small",icon:s.open?"caret-up":"caret-down"}})],1)])])])}}])},[t.tabs.length>1?e("p",{staticClass:"panel-tabs custom-tabs",staticStyle:{"justify-content":"left"}},t._l(t.tabs,(function(s,a){return e("a",{key:a,class:{"is-active":t.activeTab===s},on:{click:function(e){return e.stopPropagation(),t.switchTab(s)}}},[t._v(t._s(s))])})),0):t._e(),e("div",{staticClass:"panel-block is-block"},[t._t("panel-content")],2)])},Fe=[];let Le=class extends u.lD{constructor(){super(...arguments),this.isOpen=!1,this.activeTab=this.value}onchange(t){this.activeTab=t}toggle(t){this.isOpen=!0===t||!1===t?t:!this.isOpen}onupdate(t){this.isOpen=t}switchTab(t){this.activeTab=t,this.$emit("input",t)}};(0,d.Cg)([(0,u.kv)({default:0})],Le.prototype,"value",void 0),(0,d.Cg)([(0,u.kv)({default:Array})],Le.prototype,"tabs",void 0),(0,d.Cg)([(0,u.kv)({default:""})],Le.prototype,"title",void 0),(0,d.Cg)([(0,u.ox)("value")],Le.prototype,"onchange",null),Le=(0,d.Cg)([u.uA],Le);var ze=Le,Ue=ze,Ve=(0,j.A)(Ue,Pe,Fe,!1,null,"7105dd68",null),je=Ve.exports;let qe=class extends u.lD{constructor(){super(...arguments),this.value=null,this.resp=null,this.request=null,this.method=null,this.params=new Array(this.item.inputs.length),this.caller="",this.receipt=null,this.txid=null,this.receiptStatus=null,this.receiptPollingInterval=null,this.receiptPollingTimeout=null}callFC(){this.resetOutputs(),this.validate()&&this.readMethod()}reset(){const t=this.$refs.input||[];t.forEach((t=>{t.$parent.newType="",t.$parent.newMessage=""})),this.params.forEach(((t,e)=>{this.prototype&&"_self"===this.item.inputs[e].name||this.$set(this.params,e,"")})),this.resetOutputs()}resetOutputs(){this.request=null,this.resp=null,this.receipt=null,this.txid=null,this.receiptStatus=null,this.stopReceiptPolling()}executeFC(){this.resetOutputs(),this.validate()&&this.writeMethod()}initMethod(t,e){const s=this.$connex.thor.account(this.prototype?"0x000000000000000000000050726f746f74797065":t.toLowerCase());this.method=s.method(e)}validate(){const t=this.$refs.input||[];return t.forEach((t=>{t.checkHtml5Validity()})),!t.some((t=>!1===t.isValid))}get payable(){return this.item.payable||"payable"===this.item.stateMutability}get hexValue(){return BN(this.payable&&this.value||0).multipliedBy(1e18).toFixed(0).toString(16)}async readMethod(){try{const t=this.params.map(((t,e)=>this.item.inputs[e].type.endsWith("]")?JSON.parse(t):t));this.request=this.method.value(this.hexValue).asClause(...t),this.caller?this.resp=await this.method.value(this.hexValue).caller(this.caller).call(...t):this.resp=await this.method.value(this.hexValue).call(...t)}catch(t){BUS.$alert(t.message)}}async writeMethod(){try{const t=this.params.map(((t,e)=>this.item.inputs[e].type.endsWith("]")?JSON.parse(t):t)),e=this.method.value(this.hexValue).asClause(...t);this.request=e;const s=await this.$connex.vendor.sign("tx",[{...e,comment:this.item.name}]).comment(`inspect-${this.address}`).request();s&&s.txid&&(this.txid=s.txid,this.receiptStatus="pending",this.startReceiptPolling(s.txid))}catch(t){const e=t.message||"",s=t.name||"",a=e.toLowerCase().includes("rejected")||e.toLowerCase().includes("cancelled")||e.toLowerCase().includes("cancel")||e.toLowerCase().includes("denied")||s.toLowerCase().includes("rejected")||s.toLowerCase().includes("cancelled")||s.toLowerCase().includes("cancel");a||(BUS.$alert(t.message),this.receiptStatus="error")}}startReceiptPolling(t){this.stopReceiptPolling();const e=6e4,s=Date.now();this.receiptPollingInterval=window.setInterval((async()=>{try{const a=await this.$connex.thor.transaction(t).getReceipt();if(a)return this.receipt=a,this.receiptStatus="completed",void this.stopReceiptPolling();Date.now()-s>e&&(this.receiptStatus="error",this.stopReceiptPolling())}catch(a){Date.now()-s>e&&(this.receiptStatus="error",this.stopReceiptPolling())}}),1e3),this.receiptPollingTimeout=window.setTimeout((()=>{"pending"===this.receiptStatus&&(this.receiptStatus="error",this.stopReceiptPolling())}),e)}stopReceiptPolling(){null!==this.receiptPollingInterval&&(clearInterval(this.receiptPollingInterval),this.receiptPollingInterval=null),null!==this.receiptPollingTimeout&&(clearTimeout(this.receiptPollingTimeout),this.receiptPollingTimeout=null)}beforeDestroy(){this.stopReceiptPolling()}};(0,d.Cg)([(0,u.kv)({default:null})],qe.prototype,"item",void 0),(0,d.Cg)([(0,u.kv)()],qe.prototype,"address",void 0),(0,d.Cg)([(0,u.kv)({default:!1})],qe.prototype,"prototype",void 0),qe=(0,d.Cg)([u.uA],qe);var He=qe;let Ge=class extends((0,u.Xe)(He)){constructor(){super(...arguments),this.tabs=["Inputs","Description"],this.activeTab="Inputs",this.valueUnit="vet"}get displayValue(){if(!this.value)return"";try{const t=BN(this.value);if(t.isNaN()||!t.isFinite())return this.value;if("wei"===this.valueUnit)return t.multipliedBy("1000000000000000000").toFixed(0,BN.ROUND_DOWN);{const e=t.toFixed(18,BN.ROUND_DOWN);return e.replace(/\.?0+$/,"")||"0"}}catch{return this.value}}set displayValue(t){if(t)if("wei"===this.valueUnit){if(!/^\d+$/.test(t))return;try{const e=BN(t);if(e.isNaN()||!e.isFinite())return;const s=e.dividedBy("1000000000000000000").toFixed(18,BN.ROUND_DOWN);this.value=s.replace(/\.?0+$/,"")||"0"}catch{}}else{if(!/^\d*\.?\d*$/.test(t))return;this.value=t}else this.value=null}setValueUnit(t){this.valueUnit=t}created(){if(this.activeTab=this.tabs[0],this.prototype){const t=this.item.inputs.findIndex((t=>"_self"===t.name));this.params[t]=this.address}this.initMethod(this.address,this.item)}get couldExc(){return!(!0===this.item.constant||["view","pure"].includes(this.item.stateMutability))}get receiptDisplay(){if(!this.txid&&!this.receipt)return"";let t="";if("pending"===this.receiptStatus)t+="Status: Pending\n",t+="Waiting for transaction confirmation...\n\n";else if("error"===this.receiptStatus)t+="Status: Error\n",t+="Failed to retrieve receipt (timeout or transaction not found)\n\n";else if("completed"===this.receiptStatus&&this.receipt){const e=this.receipt.reverted?"Reverted":"Completed",s=this.receipt.reverted?"#ff3860":"#23d160";t+=`Status: <span style="color: ${s};">${e}</span>\n\n`}return this.txid&&(t+=`Transaction ID: ${this.txid}\n`,t+=`Explorer: ${this.$explorerTx}${this.txid}\n\n`),this.receipt&&(t+=`Gas Used: ${this.receipt.gasUsed}\n`,t+=`Reverted: ${this.receipt.reverted?"Yes":"No"}\n`,this.receipt.meta&&this.receipt.meta.blockNumber&&(t+=`Block Number: ${this.receipt.meta.blockNumber}\n`),this.receipt.meta&&this.receipt.meta.blockID&&(t+=`Block ID: ${this.receipt.meta.blockID}\n`),this.receipt.gasPayer&&(t+=`Gas Payer: ${this.receipt.gasPayer}\n`),this.receipt.paid&&(t+=`Paid: ${this.receipt.paid}\n`),this.receipt.reward&&(t+=`Reward: ${this.receipt.reward}\n`)),t.trim()}addShortCut(t){this.$buefy.dialog.prompt({title:"Add Shortcut",message:"Input a shortcut",inputAttrs:{placeholder:"Filter name",value:t,maxlength:30,required:!0},onConfirm:t=>{this.saveShortCut(t)}})}async saveShortCut(t){const e=await v.contracts.where("address").equals(this.address).first()||null;await v.shortCuts.add({name:t,address:e.address,contractName:e.name,fromPrototype:this.prototype,createdTime:Date.now(),abi:this.item,network:this.$connex.thor.genesis.id,type:this.couldExc?"write":"read"}),BUS.$emit("added-shortcut"),this.$buefy.toast.open({message:"Added success!",type:"is-success"})}};Ge=(0,d.Cg)([(0,u.uA)({components:{Panel:je}})],Ge);var Je=Ge,We=Je,Ye=(0,j.A)(We,Re,Be,!1,null,"62c61c3b",null),Xe=Ye.exports,Qe=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("Panel",{attrs:{title:"Fallback"}},[e("template",{slot:"panel-content"},[e("pre",[t._v(t._s(t.fb))])])],2)},Ke=[];let Ze=class extends u.lD{};(0,d.Cg)([(0,u.kv)({default:null})],Ze.prototype,"fb",void 0),Ze=(0,d.Cg)([(0,u.uA)({components:{Panel:je}})],Ze);var ts=Ze,es=ts,ss=(0,j.A)(es,Qe,Ke,!1,null,null,null),as=ss.exports,is=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("Panel",{attrs:{tabs:t.tabs,title:t.item.name},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[e("template",{slot:"panel-content"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.activeTab===t.tabs[0],expression:"activeTab === tabs[0]"}]},[t._l(t.filters,(function(s,a){return e("b-field",{key:a,staticClass:"item-content",attrs:{horizontal:"",label:s.name}},[e("b-input",{ref:"input",refInFor:!0,attrs:{placeholder:s.type},model:{value:t.params[s.name],callback:function(e){t.$set(t.params,s.name,e)},expression:"params[v.name]"}})],1)})),e("b-field",{staticClass:"item-content",attrs:{horizontal:""}},[e("div",{staticClass:"buttons has-addons"},[e("button",{staticClass:"button is-rounded is-primary is-outlined",attrs:{type:"button"},on:{click:function(e){return t.addFilter(t.item.name)}}},[t._v("As a view")]),e("button",{staticClass:"button is-rounded is-primary is-outlined",attrs:{type:"button"},on:{click:function(e){return t.onRefresh(0)}}},[t._v("Execute")]),t.filters.length?e("button",{staticClass:"button is-rounded is-primary is-outlined",attrs:{type:"button"},on:{click:t.reset}},[t._v("Reset")]):t._e()])])],2),e("div",{directives:[{name:"show",rawName:"v-show",value:t.activeTab===t.tabs[1],expression:"activeTab === tabs[1]"}]},[e("pre",[t._v(t._s(t.item))])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.activeTab===t.tabs[2],expression:"activeTab === tabs[2]"}]},[e("nav",{staticClass:"navbar is-transparent",staticStyle:{"margin-bottom":"2px"}},[e("div",{staticClass:"navbar-item"},[e("div",{staticClass:"buttons has-addons"},[e("b-button",{staticClass:"is-primary",attrs:{tag:"button","icon-left":"sync-alt"},on:{click:t.onRefresh}}),e("b-button",{staticClass:"is-primary",attrs:{tag:"button",disabled:this.page<1,"icon-left":"chevron-left"},on:{click:t.onPrev}}),e("b-button",{staticClass:"is-primary",attrs:{tag:"button",disabled:t.list.length<5,"icon-left":"chevron-right"},on:{click:t.onNext}})],1)]),e("div",{staticClass:"navbar-item"},[t._v(t._s(t.ranges))])]),e("b-loading",{attrs:{"is-full-page":!0,active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),t._l(t.list,(function(s,a){return[e("EventShowCard",{key:5*t.page+a,attrs:{item:s,params:t.item.inputs}},[e("span",{attrs:{slot:"title"},slot:"title"},[t._v("#"+t._s(5*t.page+a+1))])])]}))],2)])],2)},ns=[],rs=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"box"},[e("div",[e("div",{staticClass:"level event-header",staticStyle:{"margin-bottom":"10px",padding:"5px 10px","border-radius":"5px"}},[e("div",{staticClass:"level-left"},[e("span",{staticClass:"is-family-secondary display-6 has-text-weight-semibold event-text"},[t._t("title")],2),e("span",{staticClass:"is-family-secondary display-6 has-text-weight-semibold event-text",staticStyle:{"margin-left":"20px"}},[t._v(" #Block "),e("a",{attrs:{target:"_blank",href:`${t.$explorerBlock}${t.item.meta.blockID}`}},[t._v(t._s(t.item.meta.blockNumber))])]),e("span",{staticClass:"is-family-secondary display-6 event-text",staticStyle:{"margin-left":"20px"}},[t._v(t._s(t._f("datetime")(1e3*t.item.meta.blockTimestamp)))])]),e("div",{staticClass:"level-right"},[e("a",{staticClass:"is-family-monospace display-6 has-text-weight-semibold",attrs:{target:"_blank",href:`${t.$explorerTx}${t.item.meta.txID}`}},[t._v(t._s(t._f("addr")(t.item.meta.txID)))])])]),e("b-tabs",{staticClass:"my-content event-tabs",attrs:{animated:!1,size:"is-small"},model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}},[e("b-tab-item",{attrs:{label:"Decoded"}},[e("b-table",{attrs:{data:t.data},scopedSlots:t._u([{key:"default",fn:function(s){return[e("b-table-column",{attrs:{width:"20",label:"#",field:"id"}},[t._v(t._s(s.row.id))]),e("b-table-column",{attrs:{width:"170",label:"Name",field:"name"}},[t._v(t._s(s.row.name))]),e("b-table-column",{attrs:{width:"220",label:"Type",field:"type"}},[e("div",{staticStyle:{display:"flex","align-items":"center",gap:"0.5rem"}},[e("span",[t._v(t._s(s.row.type))]),s.row.indexed?e("span",{staticClass:"indexed-badge"},[t._v("indexed")]):t._e()])]),e("b-table-column",{staticStyle:{"max-width":"380px","word-wrap":"break-word"},attrs:{label:"Data",field:"value"}},["address"===s.row.type?e("a",{staticClass:"has-text-weight-semibold is-family-monospace display-6",attrs:{target:"_blank",href:`${t.$explorerAccount}${s.row.value}`}},[t._v(t._s(t._f("toChecksumAddress")(s.row.value)))]):e("span",{staticClass:"has-text-weight-semibold is-family-monospace display-6 event-data-text"},[t._v(t._s(s.row.value))])])]}}])})],1),e("b-tab-item",{attrs:{label:"Raw"}},[e("div",[e("b-field",{attrs:{"custom-class":"my-label","label-position":"inside",horizontal:"",label:"Topics"}},[e("ul",t._l(t.item.topics,(function(s,a){return e("li",{key:t.item.meta.blockID+a,staticClass:"is-family-monospace display-6 has-text-weight-semibold event-data-text"},[e("span",[t._v("["+t._s(a)+"]")]),t._v(" "+t._s(s)+" ")])})),0)]),e("b-field",{attrs:{"custom-class":"my-label","label-position":"on-border",horizontal:"",label:"Data"}},[e("p",{staticClass:"has-text-weight-semibold display-6 is-family-monospace event-data-text",staticStyle:{"word-break":"break-all"}},[t._v(t._s(t.item.data))])])],1)])],1)],1)])},os=[];let cs=class extends u.lD{constructor(){super(...arguments),this.tabIndex=0,this.columns=[{label:"ID",field:"index"},{label:"Name",field:"name"},{label:"Type",field:"type"},{label:"Data",field:"value"}]}onItemChange(){this.data=this.params.map(((t,e)=>({id:e,name:t.name,type:t.type,indexed:t.indexed,value:this.item.decoded[t.name]})))}created(){this.onItemChange()}};(0,d.Cg)([(0,u.kv)(Object)],cs.prototype,"item",void 0),(0,d.Cg)([(0,u.kv)(Array)],cs.prototype,"params",void 0),(0,d.Cg)([(0,u.ox)("item"),(0,u.ox)("params")],cs.prototype,"onItemChange",null),cs=(0,d.Cg)([u.uA],cs);var ls=cs,ds=ls,us=(0,j.A)(ds,rs,os,!1,null,null,null),ps=us.exports;let hs=class extends u.lD{constructor(){super(...arguments),this.page=0,this.list=[],this.params={},this.tabs=["Filters","Description","Datas"],this.activeTab="",this.isLoading=!1}created(){this.filters.forEach((t=>{this.params[t.name]=""})),this.activeTab=this.tabs[0];const t=this.$connex.thor.account(this.address);this.event=t.event(this.item)}onHighlightChange(t){t&&this.$nextTick((()=>{const t=this.$children[0];t&&t.toggle&&t.toggle(!0)}))}get filters(){return this.item.inputs.filter((t=>t.indexed))}get ranges(){return 5*this.page+(this.list.length?1:0)+" - "+(5*this.page+this.list.length)}onTabChange(){"Datas"===this.activeTab&&this.getResult(this.page)}onNext(){this.page++,this.getResult(this.page)}onPrev(){this.page>0&&(this.page--,this.getResult(this.page))}onRefresh(){this.page=0,this.getResult(0)}addFilter(t){this.$buefy.dialog.prompt({title:"Add quick view",message:"Input a filter name",inputAttrs:{placeholder:"Filter name",value:t,maxlength:30,required:!0},onConfirm:t=>{this.saveFilter(t)}})}reset(){this.params={}}async saveFilter(t){const e=await v.contracts.where("address").equals(this.address).first()||null;await v.filters.add({name:t,address:e.address,contractName:e.name,fromPrototype:this.prototype,createdTime:Date.now(),network:this.$connex.thor.genesis.id,abi:this.item}),BUS.$emit("added-filter"),this.$buefy.toast.open({message:"Added success!",type:"is-success"})}async getResult(t){if(this.isLoading)return;this.isLoading=!0,this.activeTab=this.tabs[2];const e=[];for(const a in this.params)if(this.params.hasOwnProperty(a)){const t=this.params[a];t&&e.push({[a]:t})}try{this.list=await this.event.filter(e).order("desc").apply(5*t,5)}catch(s){BUS.$alert(s.message)}finally{this.isLoading=!1}}};(0,d.Cg)([(0,u.kv)({default:null})],hs.prototype,"item",void 0),(0,d.Cg)([(0,u.kv)()],hs.prototype,"address",void 0),(0,d.Cg)([(0,u.kv)({default:!1})],hs.prototype,"prototype",void 0),(0,d.Cg)([(0,u.kv)({default:!1})],hs.prototype,"isHighlighted",void 0),(0,d.Cg)([(0,u.ox)("isHighlighted")],hs.prototype,"onHighlightChange",null),(0,d.Cg)([(0,u.ox)("activeTab")],hs.prototype,"onTabChange",null),hs=(0,d.Cg)([(0,u.uA)({components:{Panel:je,EventShowCard:ps}})],hs);var ms=hs,fs=ms,bs=(0,j.A)(fs,is,ns,!1,null,"a2b46556",null),gs=bs.exports,vs=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("Panel",{attrs:{title:t.$attrs.title}},[e("template",{slot:"panel-content"},[e("pre",{staticStyle:{"max-height":"500px",overflow:"auto"}},[t._v(t._s(t.item))])])],2)},ys=[];let Cs=class extends u.lD{};(0,d.Cg)([(0,u.kv)({default:null})],Cs.prototype,"item",void 0),Cs=(0,d.Cg)([(0,u.uA)({components:{Panel:je}})],Cs);var ws=Cs,xs=ws,_s=(0,j.A)(xs,vs,ys,!1,null,null,null),ks=_s.exports,As=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"roles-tab"},[t.hasAccessControl?t._e():e("b-message",{staticClass:"access-control-warning",attrs:{type:"is-warning"}},[e("p",[e("strong",[t._v("Limited AccessControl support")])]),e("p",{staticClass:"is-size-7"},[t._v("This contract's ABI doesn't include the full AccessControl interface (hasRole, RoleGranted, RoleRevoked events).")])]),t.loading?e("div",{staticClass:"loading-state"},[e("b-loading",{attrs:{"is-full-page":!1,active:!0,"can-cancel":!1}}),e("p",{staticClass:"has-text-grey"},[t._v("Loading roles...")])],1):t.error?e("div",{staticClass:"error-state"},[e("b-message",{attrs:{type:"is-danger"}},[e("p",[e("strong",[t._v("Error loading roles")])]),e("p",[t._v(t._s(t.error))]),e("b-button",{attrs:{type:"is-primary",size:"is-small"},on:{click:t.loadData}},[t._v("Retry")])],1)],1):0!==t.roles.length||t.loading?e("div",{staticClass:"roles-list"},t._l(t.roles,(function(s){return e("RoleCard",{key:s.roleHash,attrs:{roleHash:s.roleHash,roleName:s.roleName,holders:s.holders,events:t.getEventsForRole(s.roleHash),expanded:!!t.expandedRoles[s.roleHash]},on:{toggle:function(e){return t.toggleRole(s.roleHash)}}})})),1):e("div",{staticClass:"empty-state"},[e("b-message",{attrs:{type:"is-info"}},[e("p",[t._v("No roles found for this contract.")]),e("p",{staticClass:"is-size-7"},[t._v("This may be because no RoleGranted events have been emitted yet, or the roles have all been revoked.")])])],1)],1)},Is=[],Ss=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("b-collapse",{staticClass:"panel role-card",attrs:{open:t.expanded,"aria-id":"role-"+t.roleHash},scopedSlots:t._u([{key:"trigger",fn:function(s){return e("div",{staticClass:"panel-heading",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.$emit("toggle")}}},[e("div",{staticClass:"level"},[e("div",{staticClass:"level-left"},[e("div",{staticClass:"level-item"},[e("strong",{staticClass:"role-name"},[t._v(t._s(t.displayRoleName))])]),e("div",{staticClass:"level-item"},[e("b-tag",{attrs:{type:"is-info",rounded:""}},[t._v(t._s(t.holders.length)+" holder"+t._s(1!==t.holders.length?"s":""))])],1)]),e("div",{staticClass:"level-right"},[e("div",{staticClass:"level-item role-hash-display"},[e("code",{staticClass:"is-size-7"},[t._v(t._s(t.truncatedHash))])]),e("div",{staticClass:"level-item"},[e("b-icon",{attrs:{size:"is-small",icon:s.open?"caret-up":"caret-down"}})],1)])])])}}])},[e("div",{staticClass:"panel-block is-block role-content"},[t.holders.length>0?e("div",{staticClass:"holders-section"},[e("p",{staticClass:"holders-title"},[t._v("Holders:")]),e("div",{staticClass:"holders-list"},t._l(t.holders,(function(s,a){return e("div",{key:a,staticClass:"holder-item"},[e("a",{staticClass:"holder-address-link",attrs:{href:`${t.$explorerAccount}${s}`,target:"_blank"},on:{click:function(t){t.stopPropagation()}}},[e("code",{staticClass:"holder-address"},[t._v(t._s(s))])]),e("b-button",{staticClass:"copy-btn",attrs:{type:"is-text",size:"is-small","icon-left":"copy"},on:{click:function(e){return e.stopPropagation(),t.copyAddress(s)}}})],1)})),0)]):e("div",{staticClass:"no-holders"},[e("p",{staticClass:"has-text-grey"},[t._v("No current holders for this role")])]),t.events.length>0?e("RoleActivityList",{staticClass:"role-activity",attrs:{events:t.events}}):t._e()],1)])},Ts=[],$s=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"role-activity-list"},[e("div",{staticClass:"activity-header"},[e("h5",{staticClass:"activity-title"},[t._v("Activity")]),e("b-field",[e("b-select",{attrs:{size:"is-small",placeholder:"All events"},model:{value:t.selectedEventType,callback:function(e){t.selectedEventType=e},expression:"selectedEventType"}},[e("option",{domProps:{value:null}},[t._v("All events")]),e("option",{attrs:{value:"granted"}},[t._v("Granted")]),e("option",{attrs:{value:"revoked"}},[t._v("Revoked")])])],1)],1),0===t.filteredEvents.length?e("div",{staticClass:"no-events"},[e("p",{staticClass:"has-text-grey is-size-7"},[t._v("No activity found")])]):e("div",{staticClass:"events-list"},[t._l(t.paginatedEvents,(function(s,a){return e("div",{key:`${s.txId}-${s.account}-${a}`,staticClass:"event-item"},[e("span",{class:["event-action","granted"===s.type?"is-success":"is-danger"]},[t._v(" "+t._s("granted"===s.type?"Granted":"Revoked")+" ")]),e("span",{staticClass:"event-text"},[t._v("to")]),e("a",{staticClass:"address-link",attrs:{href:`${t.$explorerAccount}${s.account}`,target:"_blank",title:s.account}},[t._v(t._s(t._f("addr")(s.account)))]),e("span",{staticClass:"event-text"},[t._v("by")]),e("a",{staticClass:"address-link",attrs:{href:`${t.$explorerAccount}${s.sender}`,target:"_blank",title:s.sender}},[t._v(t._s(t._f("addr")(s.sender)))]),s.timestamp?e("span",{staticClass:"event-time",attrs:{title:t.formatFullDate(s.timestamp)}},[t._v(t._s(t.formatRelativeTime(s.timestamp)))]):t._e(),e("a",{staticClass:"tx-link",attrs:{href:`${t.$explorerTx}${s.txId}`,target:"_blank",title:"View transaction"}},[e("b-icon",{attrs:{icon:"external-link-alt",size:"is-small"}})],1)])})),t.hasMoreEvents?e("div",{staticClass:"load-more-container"},[e("b-button",{attrs:{type:"is-text",size:"is-small"},on:{click:t.loadMore}},[t._v(" Load more ("+t._s(t.filteredEvents.length-t.paginatedEvents.length)+" remaining) ")])],1):t._e()],2)])},Es=[];let Ns=class extends u.lD{constructor(){super(...arguments),this.selectedEventType=null,this.displayCount=5}get filteredEvents(){return this.selectedEventType?this.events.filter((t=>t.type===this.selectedEventType)):this.events}get paginatedEvents(){return this.filteredEvents.slice(0,this.displayCount)}get hasMoreEvents(){return this.filteredEvents.length>this.displayCount}onFilterChange(){this.displayCount=5}loadMore(){this.displayCount+=5}copyAddress(t){navigator.clipboard.writeText(t).then((()=>{this.$buefy.toast.open({message:"Address copied to clipboard",type:"is-success",duration:2e3})})).catch((()=>{this.$buefy.toast.open({message:"Failed to copy address",type:"is-danger",duration:2e3})}))}formatRelativeTime(t){const e=Math.floor(Date.now()/1e3),s=e-t;if(s<0)return"just now";const a=Math.floor(s/60),i=Math.floor(a/60),n=Math.floor(i/24),r=Math.floor(n/30),o=Math.floor(n/365);return s<60?"just now":a<60?`${a}m ago`:i<24?`${i}h ago`:n<30?`${n}d ago`:r<12?`${r}mo ago`:`${o}y ago`}formatFullDate(t){return new Date(1e3*t).toLocaleString()}};(0,d.Cg)([(0,u.kv)({default:()=>[]})],Ns.prototype,"events",void 0),(0,d.Cg)([(0,u.ox)("selectedEventType")],Ns.prototype,"onFilterChange",null),Ns=(0,d.Cg)([u.uA],Ns);var Ms=Ns,Ds=Ms,Os=(0,j.A)(Ds,$s,Es,!1,null,"066275d0",null),Rs=Os.exports;let Bs=class extends u.lD{get displayRoleName(){return this.roleName||"Unknown role"}get truncatedHash(){return this.truncateHash(this.roleHash)}truncateHash(t){return t?t.length<=16?t:`${t.slice(0,10)}...${t.slice(-6)}`:""}copyAddress(t){navigator.clipboard.writeText(t).then((()=>{this.$buefy.toast.open({message:"Address copied to clipboard",type:"is-success",duration:2e3})})).catch((()=>{this.$buefy.toast.open({message:"Failed to copy address",type:"is-danger",duration:2e3})}))}};(0,d.Cg)([(0,u.kv)({required:!0})],Bs.prototype,"roleHash",void 0),(0,d.Cg)([(0,u.kv)({default:null})],Bs.prototype,"roleName",void 0),(0,d.Cg)([(0,u.kv)({default:()=>[]})],Bs.prototype,"holders",void 0),(0,d.Cg)([(0,u.kv)({default:()=>[]})],Bs.prototype,"events",void 0),(0,d.Cg)([(0,u.kv)({default:!1})],Bs.prototype,"expanded",void 0),Bs=(0,d.Cg)([(0,u.uA)({components:{RoleActivityList:Rs}})],Bs);var Ps=Bs,Fs=Ps,Ls=(0,j.A)(Fs,Ss,Ts,!1,null,"04ddb318",null),zs=Ls.exports,Us=s(8926);const Vs=["MINTER_ROLE","PAUSER_ROLE","PROPOSAL_EXECUTOR_ROLE","GOVERNOR_FUNCTIONS_SETTINGS_ROLE","CONTRACTS_ADDRESS_MANAGER_ROLE","DECAY_SETTINGS_MANAGER_ROLE","Proposer","Executor","GOVERNANCE_ROLE","VOTE_REGISTRAR_ROLE","ROUND_STARTER_ROLE","IMPACT_KEY_MANAGER_ROLE","SETTINGS_MANAGER_ROLE","WHITELISTER_ROLE","ACTION_REGISTRAR_ROLE","ACTION_SCORE_MANAGER_ROLE","SIGNALER_ROLE","ROLE_GRANTER","BURNER_ROLE","GRANTS_APPROVER_ROLE","GRANTS_REJECTOR_ROLE","LEVEL_OPERATOR_ROLE","UPGRADER_ROLE","DISTRIBUTOR_ROLE","MANAGER_ROLE","POOL_ADMIN_ROLE","TOKEN_MANAGER_MIGRATOR_ROLE","OPERATOR_ROLE","LOST_REWARDS_WHITELISTER_ROLE","WHITELISTED_ROLE","WHITELIST_ADMIN_ROLE","NODE_WEIGHT_MANAGER_ROLE","EXECUTOR_ROLE","PROPOSAL_STATE_MANAGER_ROLE"];function js(t){const e=(0,Us.S)(t);return"0x"+e.toString("hex")}function qs(){const t=new Map;t.set("DEFAULT_ADMIN_ROLE","0x"+"0".repeat(64));for(const e of Vs)t.set(e,js(e));return t}const Hs=qs();function Gs(){const t=new Map;for(const[e,s]of Hs.entries())t.set(s.toLowerCase(),e);return t}const Js=Gs();function Ws(t){const e=t.toLowerCase().startsWith("0x")?t.toLowerCase():"0x"+t.toLowerCase();return Js.get(e)??null}const Ys={anonymous:!1,inputs:[{indexed:!0,name:"role",type:"bytes32"},{indexed:!0,name:"account",type:"address"},{indexed:!0,name:"sender",type:"address"}],name:"RoleGranted",type:"event"},Xs={anonymous:!1,inputs:[{indexed:!0,name:"role",type:"bytes32"},{indexed:!0,name:"account",type:"address"},{indexed:!0,name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},Qs={inputs:[{name:"role",type:"bytes32"},{name:"account",type:"address"}],name:"hasRole",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"};async function Ks(t,e,s){const a=t.thor.account(e),i=t.thor.status.head.number,n={unit:"block",from:s??0,to:i},r=a.event(Ys),o=r.filter([{}]);o.range(n).order("desc");const c=a.event(Xs),l=c.filter([{}]);l.range(n).order("desc");const d=256,u=[];let p=0,h=!0;while(h){const t=await o.apply(p,d);for(const e of t)u.push({type:"granted",roleHash:e.decoded["role"],account:e.decoded["account"],sender:e.decoded["sender"],blockNumber:e.meta.blockNumber,txId:e.meta.txID});h=t.length===d,p+=d}p=0,h=!0;while(h){const t=await l.apply(p,d);for(const e of t)u.push({type:"revoked",roleHash:e.decoded["role"],account:e.decoded["account"],sender:e.decoded["sender"],blockNumber:e.meta.blockNumber,txId:e.meta.txID});h=t.length===d,p+=d}u.sort(((t,e)=>e.blockNumber-t.blockNumber));const m=new Set(u.map((t=>t.blockNumber))),f=new Map,b=Array.from(m),g=10;for(let v=0;v<b.length;v+=g){const e=b.slice(v,v+g),s=await Promise.all(e.map((async e=>{const s=await ea(t,e);return{blockNum:e,ts:s}})));for(const{blockNum:t,ts:a}of s)null!==a&&f.set(t,a)}for(const v of u){const t=f.get(v.blockNumber);void 0!==t&&(v.timestamp=t)}return u}async function Zs(t,e,s,a,i){const n=t.thor.account(e),r=n.method(Qs);try{const t=await r.call(a,i);return!t.reverted&&t.decoded["0"]}catch{return!1}}function ta(t){if(!Array.isArray(t))return!1;let e=!1,s=!1,a=!1;for(const i of t){const t=i;"function"===t.type&&"hasRole"===t.name&&t.inputs&&2===t.inputs.length&&"bytes32"===t.inputs[0].type&&"address"===t.inputs[1].type&&(e=!0),"event"===t.type&&"RoleGranted"===t.name&&(s=!0),"event"===t.type&&"RoleRevoked"===t.name&&(a=!0)}return e&&s&&a}async function ea(t,e){const s=await t.thor.block(e).get();return s?s.timestamp:null}var sa=s(6763);let aa=class extends u.lD{constructor(){super(...arguments),this.roles=[],this.events=[],this.loading=!1,this.error=null,this.expandedRoles={}}get hasAccessControl(){return ta(this.abi)}async mounted(){this.$nextTick((()=>{this.loadData()}))}async onContractAddressChange(){await this.loadData()}async loadData(){this.loading=!0,this.error=null,this.roles=[],this.events=[];try{this.events=await Ks(this.$connex,this.contractAddress);const t=this.extractRoleHolderCandidates(),e=new Set([...t.keys()]),s=[];for(const a of e){const e=t.get(a)||new Set,i=[];for(const t of e){const e=await Zs(this.$connex,this.contractAddress,this.abi,a,t);e&&i.push(t)}(i.length>0||t.has(a))&&s.push({roleHash:a,roleName:this.lookupRoleName(a),holders:i})}this.roles=s.sort(((t,e)=>{if(t.holders.length>0&&0===e.holders.length)return-1;if(0===t.holders.length&&e.holders.length>0)return 1;const s=t.roleName||"zzz"+t.roleHash,a=e.roleName||"zzz"+e.roleHash;return s.localeCompare(a)}))}catch(t){sa.error("Error loading roles:",t),this.error=t instanceof Error?t.message:"Failed to load roles"}finally{this.loading=!1}}extractRoleHolderCandidates(){const t=new Map;for(const e of this.events){const s=e.roleHash.toLowerCase();t.has(s)||t.set(s,new Set),t.get(s).add(e.account.toLowerCase())}return t}lookupRoleName(t){return Ws(t.toLowerCase())}toggleRole(t){this.$set(this.expandedRoles,t,!this.expandedRoles[t])}getEventsForRole(t){return this.events.filter((e=>e.roleHash.toLowerCase()===t.toLowerCase()))}};(0,d.Cg)([(0,u.kv)({required:!0})],aa.prototype,"contractAddress",void 0),(0,d.Cg)([(0,u.kv)({required:!0})],aa.prototype,"abi",void 0),(0,d.Cg)([(0,u.kv)({required:!0})],aa.prototype,"network",void 0),(0,d.Cg)([(0,u.ox)("contractAddress")],aa.prototype,"onContractAddressChange",null),aa=(0,d.Cg)([(0,u.uA)({components:{RoleCard:zs}})],aa);var ia=aa,na=ia,ra=(0,j.A)(na,As,Is,!1,null,"15d6a92f",null),oa=ra.exports,ca=[{constant:!1,inputs:[{name:"_self",type:"address"},{name:"_newMaster",type:"address"}],name:"setMaster",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_self",type:"address"},{name:"_user",type:"address"}],name:"isUser",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_self",type:"address"},{name:"_key",type:"bytes32"}],name:"storageFor",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_self",type:"address"},{name:"_blockNumber",type:"uint256"}],name:"energy",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_self",type:"address"},{name:"_user",type:"address"}],name:"removeUser",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_self",type:"address"}],name:"currentSponsor",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_self",type:"address"},{name:"_credit",type:"uint256"},{name:"_recoveryRate",type:"uint256"}],name:"setCreditPlan",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_self",type:"address"},{name:"_sponsor",type:"address"}],name:"selectSponsor",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_self",type:"address"},{name:"_blockNumber",type:"uint256"}],name:"balance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_self",type:"address"}],name:"sponsor",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_self",type:"address"}],name:"creditPlan",outputs:[{name:"credit",type:"uint256"},{name:"recoveryRate",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_self",type:"address"},{name:"_user",type:"address"}],name:"addUser",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_self",type:"address"}],name:"hasCode",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_self",type:"address"}],name:"master",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_self",type:"address"},{name:"_user",type:"address"}],name:"userCredit",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_self",type:"address"}],name:"unsponsor",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_self",type:"address"},{name:"_sponsor",type:"address"}],name:"isSponsor",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"}],la=[{anonymous:!1,inputs:[{indexed:!1,name:"newMaster",type:"address"}],name:"$Master",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"credit",type:"uint256"},{indexed:!1,name:"recoveryRate",type:"uint256"}],name:"$CreditPlan",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"user",type:"address"},{indexed:!1,name:"action",type:"bytes32"}],name:"$User",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"sponsor",type:"address"},{indexed:!1,name:"action",type:"bytes32"}],name:"$Sponsor",type:"event"}];let da=class extends u.lD{constructor(){super(...arguments),this.protoTabs=[{text:"Prototype-Read",count:10,visible:!0},{text:"Prototype-Write",count:7,visible:!0},{text:"Prototype-Event",count:4,visible:!0}]}get prList(){return this._abi.filter((t=>"function"===t.type&&t.constant))}get pwList(){return this._abi.filter((t=>"function"===t.type&&!t.constant))}get peList(){return this._abiEvent}initAbi(){this._abi=ca,this._abiEvent=la}};da=(0,d.Cg)([u.uA],da);var ua=da,pa=s(6763);let ha=class extends((0,u.Xe)(ua)){constructor(){super(...arguments),this.tabIndex=0,this.tabs=[],this.abi=[],this.code="",this.name="",this.caller="",this.isProtoType=!0,this.isModalActive=!1,this.highlightedItem=""}get filterList(){const t=this.abi;return t.filter((t=>t.name&&this.name&&t.name.toString().toLowerCase().indexOf(this.name.toLowerCase())>=0))}get readList(){return this.abi.filter((t=>"function"===t.type&&(!0===t.constant||["pure","view"].includes(t.stateMutability))))}get writeList(){return this.abi.filter((t=>"function"===t.type&&(!1===t.constant||!["pure","view"].includes(t.stateMutability))))}get eventList(){return this.abi.filter((t=>"event"===t.type))}get fb(){return this.abi.find((t=>"fallback"===t.type))}get network(){return this.$connex.thor.genesis.id}onContractChange(t,e){t&&(e&&e.id===t.id&&e.address===t.address&&JSON.stringify(e.abi)===JSON.stringify(t.abi)||this.loadContractData())}onTabChange(){this.highlightedItem=""}async loadContractData(){this.abi=this.contract.abi,this.tabs=[{text:"Read",count:this.readList.length,visible:!!this.readList.length},{text:"Write",count:this.writeList.length,visible:!!this.writeList.length},{text:"Code & ABI",count:"",visible:!0},{text:"Events",count:this.eventList.length,visible:!!this.eventList.length},{text:"Roles",count:"",visible:!0},{text:"Fallback",count:"",visible:!!this.fb}],this.tabs=this.tabs.concat(this.protoTabs),await this.getCode(this.contract.address||"");const t=this.tabIndex>=0&&this.tabIndex<this.tabs.length&&this.tabs[this.tabIndex]?.visible;t||(this.tabIndex=this.tabs.findIndex((t=>t.visible)))}editContract(){this.isModalActive=!0}onCancelEdit(){this.isModalActive=!1}async onFinishEdit(t){this.isModalActive=!1,this.$emit("contract-updated",this.contract.id)}exportContract(){const t=s(7968),e=new Blob([JSON.stringify({name:this.contract.name,abi:this.contract.abi,address:this.contract.address})],{type:"text/plain"});t.saveAs(e,`${this.contract.address}.json`)}deleteContract(){this.$emit("delete-contract",this.contract)}submitABI(){window.open("https://github.com/vechain/b32/new/master/ABIs","_blank")}async getCode(t){try{if(t){const e=await this.$connex.thor.account(t).getCode();this.code=e.code}}catch(e){pa.error(e)}}created(){this.initAbi()}onSearchSelect(t){this.highlightedItem=t.name;const e={cb:2,fb:5,read:0,write:1,event:3};let s=t.type;if("function"===s){const e=!0===t.constant||["pure","view"].includes(t.stateMutability);s=e?"read":"write"}this.tabIndex=e[s],this.$nextTick((()=>{setTimeout((()=>{const e=this.$refs[t.name];e&&e[0]&&(e[0].$children[0].toggle(!0),setTimeout((()=>{e[0].$el.scrollIntoView({behavior:"smooth",block:"center"})}),100))}),50)}))}};(0,d.Cg)([(0,u.kv)({required:!0})],ha.prototype,"contract",void 0),(0,d.Cg)([(0,u.ox)("contract",{immediate:!0,deep:!0})],ha.prototype,"onContractChange",null),(0,d.Cg)([(0,u.ox)("tabIndex")],ha.prototype,"onTabChange",null),ha=(0,d.Cg)([(0,u.uA)({components:{Contract:Nt,EditContract:Oe,FunctionCard:Xe,FallbackCard:as,DescCard:ks,EventCard:gs,RolesTab:oa}})],ha);var ma=ha,fa=ma,ba=(0,j.A)(fa,qt,Ht,!1,null,"17ed4c7b",null),ga=ba.exports,va=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"modal-card modern-import-type-modal",staticStyle:{width:"100%"}},[e("header",{staticClass:"modal-card-head modern-header"},[e("div",{staticClass:"header-content"},[e("div",{staticClass:"header-icon-wrapper"},[e("b-icon",{attrs:{icon:"upload",size:"is-medium"}})],1),t._m(0)])]),e("section",{staticClass:"modal-card-body modern-body"},[e("div",{staticClass:"selection-grid"},[e("button",{staticClass:"import-option-card",on:{click:function(e){return t.$emit("select-files")}}},[e("div",{staticClass:"option-icon-wrapper"},[e("b-icon",{attrs:{icon:"file",size:"is-medium"}})],1),t._m(1)]),e("button",{staticClass:"import-option-card",on:{click:function(e){return t.$emit("select-folder")}}},[e("div",{staticClass:"option-icon-wrapper"},[e("b-icon",{attrs:{icon:"folder-open",size:"is-medium"}})],1),t._m(2)]),e("button",{staticClass:"import-option-card",on:{click:function(e){return t.$emit("select-builtin")}}},[e("div",{staticClass:"option-icon-wrapper"},[e("b-icon",{attrs:{icon:"database",size:"is-medium"}})],1),t._m(3)])]),t._m(4),e("div",{staticClass:"dropzone",class:{"is-dragging":t.isDragging},on:{dragover:function(e){return e.preventDefault(),t.handleDragOver.apply(null,arguments)},dragleave:t.handleDragLeave,drop:function(e){return e.preventDefault(),t.handleDrop.apply(null,arguments)}}},[e("div",{staticClass:"dropzone-content"},[e("div",{staticClass:"dropzone-icon"},[e("b-icon",{attrs:{icon:"upload",size:"is-medium"}})],1),t._m(5)])]),e("div",{staticClass:"info-message"},[e("b-icon",{attrs:{icon:"lightbulb",size:"is-small"}}),t._m(6)],1)]),e("footer",{staticClass:"modal-card-foot modern-footer"},[e("button",{staticClass:"button is-outlined",attrs:{type:"button"},on:{click:function(e){return t.$emit("cancel")}}},[t._v("Cancel")])])])},ya=[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"header-text"},[e("h1",{staticClass:"modal-title"},[t._v("Choose Import Type")]),e("p",{staticClass:"modal-subtitle"},[t._v("How would you like to import your contracts?")])])},function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"option-text"},[e("h3",[t._v("Select Files")]),e("p",[t._v("Import individual contract files (.json)")])])},function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"option-text"},[e("h3",[t._v("Select Folder")]),e("p",[t._v("Import all contracts from a folder")])])},function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"option-text"},[e("h3",[t._v("Built-in Contracts")]),e("p",[t._v("VeChain contracts (VTHO, B3TR, etc.)")])])},function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"divider-section"},[e("div",{staticClass:"divider-line"}),e("span",{staticClass:"divider-text"},[t._v("or drag and drop")]),e("div",{staticClass:"divider-line"})])},function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"dropzone-text"},[e("p",{staticClass:"dropzone-title"},[t._v("Drop files or folders here")]),e("p",{staticClass:"dropzone-subtitle"},[t._v("Supports JSON files (.json) and contract folders")])])},function(){var t=this,e=t._self._c;t._self._setupProxy;return e("p",[e("strong",[t._v("Tip:")]),t._v(" You can import multiple files or an entire contracts folder. Only valid JSON files (.json) will be processed. ")])}],Ca=s(6763);let wa=class extends u.lD{constructor(){super(...arguments),this.isDragging=!1}handleDragOver(){this.isDragging=!0}handleDragLeave(t){const e=t.relatedTarget;e&&e.closest(".dropzone")||(this.isDragging=!1)}async handleDrop(t){this.isDragging=!1;const e=t.dataTransfer?.items;if(!e||0===e.length)return void Ca.log("No items in drop event");Ca.log("Items dropped:",e.length);const s=[];for(let i=0;i<e.length;i++){const t=e[i],a=t.webkitGetAsEntry?.();if(a){if(Ca.log("Processing entry:",a.name,"isDirectory:",a.isDirectory),a.isDirectory){const t=await this.readDirectoryRecursively(a);s.push(...t)}else if(a.isFile){const t=await this.readFileEntry(a);t&&s.push(t)}}else{const e=t.getAsFile();e&&s.push(e)}}if(Ca.log("Total files collected:",s.length),0===s.length)return;const a=e.length>0&&e[0].webkitGetAsEntry?.()?.isDirectory;this.$emit("files-dropped",{files:s,isFromFolder:a})}async readFileEntry(t){return new Promise((e=>{t.file((t=>e(t)),(t=>{Ca.error("Error reading file entry:",t),e(null)}))}))}async readDirectoryRecursively(t){const e=[],s=t.createReader(),a=await new Promise((t=>{const e=[],a=()=>{s.readEntries((s=>{0===s.length?t(e):(e.push(...s),a())}),(s=>{Ca.error("Error reading directory:",s),t(e)}))};a()}));for(const i of a)if(i.isFile){const t=await this.readFileEntry(i);t&&e.push(t)}else if(i.isDirectory){const t=await this.readDirectoryRecursively(i);e.push(...t)}return e}};wa=(0,d.Cg)([u.uA],wa);var xa=wa,_a=xa,ka=(0,j.A)(_a,va,ya,!1,null,"cfd1b944",null),Aa=ka.exports,Ia=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"modal-card modern-import-modal",staticStyle:{width:"100%"}},[t._m(0),e("section",{staticClass:"modal-card-body modern-body"},[t.parsedContracts.length>0?e("div",{staticClass:"summary-banner"},[e("div",{staticClass:"summary-row"},[e("div",{staticClass:"summary-title"},[t._v("Import summary")]),e("div",{staticClass:"summary-items"},[e("span",{staticClass:"summary-chip"},[e("span",{staticClass:"count-number"},[t._v(t._s(t.parsedContracts.length))]),t._v(" file"+t._s(1!==t.parsedContracts.length?"s":"")+" detected ")]),t.validCount>0?e("span",{staticClass:"summary-chip"},[e("span",{staticClass:"count-number"},[t._v(t._s(t.validCount))]),t._v(" ready ")]):t._e(),t.contractsNeedingAddress>0?e("span",{staticClass:"summary-chip is-warning"},[e("span",{staticClass:"count-number"},[t._v(t._s(t.contractsNeedingAddress))]),t._v(" need address ")]):t._e(),t.errorCount>0?e("span",{staticClass:"summary-chip is-danger"},[e("span",{staticClass:"count-number"},[t._v(t._s(t.errorCount))]),t._v(" error"+t._s(1!==t.errorCount?"s":"")+" ")]):t._e(),t.skippedCount>0?e("span",{staticClass:"summary-chip is-muted"},[e("span",{staticClass:"count-number"},[t._v(t._s(t.skippedCount))]),t._v(" skipped ")]):t._e()])]),t.contractsNeedingAddress>0||t.errorCount>0?e("div",{staticClass:"summary-attention"},[e("b-icon",{attrs:{icon:"exclamation-triangle",size:"is-small"}}),e("span",[t._v(" Fix "+t._s(t.errorCount)+" error"+t._s(1!==t.errorCount?"s":"")+" and add "+t._s(t.contractsNeedingAddress)+" address"+t._s(1!==t.contractsNeedingAddress?"es":"")+" to import all. ")])],1):t._e(),t.skippedCount>0&&t.skippedReasons?e("div",{staticClass:"summary-subtext"},[t._v(" Skipped: "+t._s(t.skippedReasons)+" ")]):t._e()]):t._e(),0===t.validContracts.length&&0===t.errorContracts.length?e("div",{staticClass:"empty-state"},[e("b-icon",{attrs:{icon:"inbox",size:"is-large","custom-class":"has-text-grey-light"}}),e("p",{staticClass:"has-text-grey"},[t._v("No valid contract files found")]),t.skippedCount>0?e("p",{staticClass:"is-size-7 has-text-grey-light mt-2"},[t._v(" "+t._s(t.skippedCount)+" file(s) were automatically skipped ")]):t._e()],1):e("div",[e("div",{staticClass:"selection-control-bar"},[e("label",{staticClass:"select-all-control"},[e("b-checkbox",{attrs:{value:t.isAllSelected},on:{input:t.toggleSelectAll}}),e("span",{staticClass:"select-all-label"},[t._v("Select All")])],1),e("div",{staticClass:"selected-badge"},[t._v(" "+t._s(t.selectedCount)+" selected ")])]),e("div",{staticClass:"contract-cards-list"},t._l(t.displayedContracts,(function(s,a){return e("div",{key:a,staticClass:"contract-card",class:{"is-selected":t.selectedContracts[s.filename],"needs-address":s.success&&!s.contract?.address,"has-errors":!s.success}},[e("div",{staticClass:"card-header",on:{click:function(e){return t.toggleExpand(s.filename)}}},[e("div",{staticClass:"card-checkbox",on:{click:function(t){t.stopPropagation()}}},[e("b-checkbox",{attrs:{disabled:!s.success},on:{input:function(e){return t.onContractSelectionChange(s.filename,e)}},model:{value:t.selectedContracts[s.filename],callback:function(e){t.$set(t.selectedContracts,s.filename,e)},expression:"selectedContracts[result.filename]"}})],1),e("div",{staticClass:"card-content"},[e("div",{staticClass:"card-title-row"},[e("h3",{staticClass:"card-title"},[t._v(t._s(s.contract?.name||"Unknown"))]),s.contract?.name?.includes("(Built-in)")?e("span",{staticClass:"badge badge-builtin"},[e("b-icon",{attrs:{icon:"database",size:"is-small"}}),t._v(" Built-in ")],1):s.isHardhatArtifact?e("span",{staticClass:"badge badge-network"},[t._v(" Hardhat ")]):t._e(),s.contract?.address?e("span",{staticClass:"badge badge-success"},[e("b-icon",{attrs:{icon:"check-circle",size:"is-small"}}),t._v(" Ready ")],1):s.success?e("span",{staticClass:"badge badge-warning"},[e("b-icon",{attrs:{icon:"exclamation-circle",size:"is-small"}}),t._v(" Address Required ")],1):e("span",{staticClass:"badge badge-error"},[e("b-icon",{attrs:{icon:"exclamation-triangle",size:"is-small"}}),t._v(" Error ")],1)]),e("div",{staticClass:"card-filename"},[t._v(t._s(s.filename))])]),e("div",{staticClass:"card-expand-icon"},[e("b-icon",{class:{"is-rotated":t.expandedCards[s.filename]},attrs:{icon:"chevron-down",size:"is-small"}})],1)]),t.expandedCards[s.filename]?e("div",{staticClass:"card-body"},[!s.contract?.address&&s.success?e("div",{staticClass:"address-input-container"},[e("label",{staticClass:"input-label"},[t._v("Contract Address")]),e("b-field",{attrs:{type:t.contractAddressErrors[s.filename]?"is-danger":"",message:t.contractAddressErrors[s.filename]}},[e("b-input",{attrs:{placeholder:"0x...","custom-class":"is-family-monospace",size:"is-small"},on:{input:function(e){return t.validateContractAddress(s.filename)},blur:function(e){return t.validateContractAddress(s.filename)}},model:{value:t.contractAddresses[s.filename],callback:function(e){t.$set(t.contractAddresses,s.filename,e)},expression:"contractAddresses[result.filename]"}})],1),!t.contractAddressErrors[s.filename]&&t.contractAddresses[s.filename]?e("p",{staticClass:"success-message"},[e("b-icon",{attrs:{icon:"check-circle",size:"is-small"}}),t._v(" Address configured ")],1):t._e()],1):t._e(),s.contract?.address?e("div",{staticClass:"address-display"},[e("label",{staticClass:"input-label"},[t._v("Contract address")]),e("div",{staticClass:"address-value"},[t._v(t._s(s.contract.address))])]):t._e(),!s.success&&s.errors.length>0?e("div",{staticClass:"error-container"},[e("div",{staticClass:"error-header"},[e("b-icon",{attrs:{icon:"exclamation-circle",size:"is-small"}}),e("span",[t._v(t._s(s.errors.length)+" error(s)")])],1),e("div",{staticClass:"error-items"},t._l(s.errors,(function(s,a){return e("div",{key:a,staticClass:"error-item"},[e("div",{staticClass:"error-message"},[e("strong",[t._v("Problem:")]),t._v(" "+t._s(s)+" ")]),t.getErrorFix(s)?e("div",{staticClass:"error-fix"},[e("b-icon",{attrs:{icon:"lightbulb",size:"is-small"}}),e("div",[e("strong",[t._v("How to fix:")]),t._v(" "+t._s(t.getErrorFix(s))+" ")])],1):t._e()])})),0)]):t._e()]):t._e()])})),0)])]),e("footer",{staticClass:"modal-card-foot modern-footer"},[e("div",{staticClass:"footer-left"},[e("button",{staticClass:"button is-outlined",attrs:{type:"button"},on:{click:function(e){return t.$emit("cancel")}}},[t._v("Cancel")])]),e("div",{staticClass:"footer-right"},[e("div",{staticClass:"footer-category"},[e("label",{staticClass:"footer-category-label"},[t._v("Set a category for the contracts")]),e("b-autocomplete",{attrs:{data:t.filteredCategories,placeholder:"Uncategorized",clearable:"",size:"is-small"},on:{typing:t.filterCategories},model:{value:t.categoryForAll,callback:function(e){t.categoryForAll=e},expression:"categoryForAll"}},[e("template",{slot:"empty"},[t._v("Type to create new category")])],2)],1),e("button",{staticClass:"button is-primary",attrs:{type:"button",disabled:!t.canImport},on:{click:t.handleImport}},[t._v(" "+t._s(t.importButtonLabel)+" ")])])])])},Sa=[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("header",{staticClass:"modal-card-head modern-header"},[e("div",{staticClass:"header-content"},[e("div",{staticClass:"header-left"},[e("h1",{staticClass:"modal-title"},[t._v("Import Preview")]),e("p",{staticClass:"modal-subtitle"},[t._v("Review and configure contracts before import")])])])])}];let Ta=class extends u.lD{constructor(){super(...arguments),this.selectedContracts={},this.categoryForAll="",this.filteredCategories=[],this.contractAddresses={},this.contractAddressErrors={},this.expandedCards={}}get isAllSelected(){return this.validContracts.length>0&&this.validContracts.every((t=>this.selectedContracts[t.filename]))}get validContracts(){return this.parsedContracts.filter((t=>t.success&&!t.skipped))}get errorContracts(){return this.parsedContracts.filter((t=>!t.success&&!t.skipped))}get skippedContracts(){return this.parsedContracts.filter((t=>t.skipped))}get displayedContracts(){return[...this.validContracts,...this.errorContracts]}get selectedCount(){return Object.values(this.selectedContracts).filter((t=>t)).length}get selectedResults(){return this.displayedContracts.filter((t=>this.selectedContracts[t.filename]))}get selectedMissingAddressCount(){return this.selectedResults.filter((t=>t.success&&!t.contract?.address)).length}get contractsNeedingAddress(){return this.validContracts.filter((t=>!t.contract?.address)).length}get canImport(){for(const t of this.selectedResults)if(!t.contract?.address){const e=this.contractAddresses[t.filename];if(!e||""===e.trim()||this.contractAddressErrors[t.filename])return!1}return this.selectedResults.length>0}get importButtonLabel(){if(0===this.selectedCount)return"Select contracts to import";if(this.selectedMissingAddressCount>0)return"Add missing addresses to import";const t=1===this.selectedCount?"Import Contract":"Import Contracts";return`${t} (${this.selectedCount})`}get errorCount(){return this.errorContracts.length}get validCount(){return this.validContracts.length}get skippedCount(){return this.skippedContracts.length}get skippedReasons(){const t=new Map;return this.skippedContracts.forEach((e=>{const s=e.skipReason||"Unknown";t.set(s,(t.get(s)||0)+1)})),Array.from(t.entries()).map((([t,e])=>e>1?`${e} ${t}s`:t)).join(", ")}mounted(){this.isBuiltInMode||this.validContracts.forEach((t=>{this.$set(this.selectedContracts,t.filename,!0)})),this.filteredCategories=this.existingCategories,this.validContracts.forEach((t=>{t.contract?.address||(this.$set(this.contractAddresses,t.filename,""),this.$set(this.contractAddressErrors,t.filename,""),this.$set(this.expandedCards,t.filename,!0))}))}toggleExpand(t){this.$set(this.expandedCards,t,!this.expandedCards[t])}toggleSelectAll(){this.isAllSelected?this.deselectAll():this.selectAll()}validateContractAddress(t){const e=this.contractAddresses[t];return e&&""!==e.trim()?e.startsWith("0x")?42!==e.length?(this.$set(this.contractAddressErrors,t,"Address must be 42 characters"),!1):/^0x[0-9a-fA-F]{40}$/.test(e)?(this.$set(this.contractAddressErrors,t,""),!0):(this.$set(this.contractAddressErrors,t,"Invalid hexadecimal address"),!1):(this.$set(this.contractAddressErrors,t,"Address must start with 0x"),!1):(this.$set(this.contractAddressErrors,t,"Address is required"),!1)}filterCategories(t){this.filteredCategories=this.existingCategories.filter((e=>e.toLowerCase().includes(t.toLowerCase())))}selectAll(){this.validContracts.forEach((t=>{this.$set(this.selectedContracts,t.filename,!0),t.contract?.address||this.validateContractAddress(t.filename)}))}deselectAll(){this.validContracts.forEach((t=>{this.$set(this.selectedContracts,t.filename,!1),t.contract?.address||this.$set(this.contractAddressErrors,t.filename,"")}))}onContractSelectionChange(t,e){e?this.validateContractAddress(t):this.$set(this.contractAddressErrors,t,"")}getErrorFix(t){return t.includes("Invalid JSON")?"Use a JSON validator to check your file syntax. Look for missing commas, quotes, or brackets.":t.includes("Unrecognized file format")?"Ensure your file follows either the standard format or Hardhat artifact format as shown in the instructions.":t.includes("Missing")||t.includes("required")?"Add the missing field to your JSON file. Check the import instructions for the required format.":t.includes("Invalid")&&t.includes("address")?'The address must be a valid hexadecimal string starting with "0x" and 42 characters long.':t.includes("Invalid")&&t.includes("ABI")?"Ensure the ABI is properly formatted as a JSON array of function/event definitions.":""}handleImport(){let t=!0;const e=this.displayedContracts.filter((t=>this.selectedContracts[t.filename]));if(e.forEach((e=>{e.contract?.address||this.validateContractAddress(e.filename)||(t=!1)})),!t)return;const s=e.map((t=>{const e={...t.contract};return e.address||(e.address=this.contractAddresses[t.filename]),this.categoryForAll&&""!==this.categoryForAll.trim()&&(e.category=this.categoryForAll.trim()),e}));this.$emit("import-selected",s)}};(0,d.Cg)([(0,u.kv)({required:!0})],Ta.prototype,"parsedContracts",void 0),(0,d.Cg)([(0,u.kv)({default:()=>[]})],Ta.prototype,"existingCategories",void 0),(0,d.Cg)([(0,u.kv)({default:!1})],Ta.prototype,"isBuiltInMode",void 0),Ta=(0,d.Cg)([u.uA],Ta);var $a=Ta,Ea=$a,Na=(0,j.A)(Ea,Ia,Sa,!1,null,"220e1aa2",null),Ma=Na.exports;function Da(t){return t&&"object"===typeof t&&t._format&&t._format.startsWith("hh-sol-artifact")}function Oa(t){if(!t||"object"!==typeof t)return!1;if(Da(t)){const e=t.contractName||"";if(/^I[A-Z]/.test(e))return!0;const s=t.sourceName||"",a=["/interfaces/","/libraries/","/deprecated/","/mock/","/mocks/","interfaces/","libraries/","deprecated/","mock/","mocks/"];if(a.some((t=>s.includes(t))))return!0;const i=t.bytecode||"";if(!i||"0x"===i||i.length<10)return!0}return!1}function Ra(t){return t&&"object"===typeof t&&!t._format&&(t.address||t.abi||t.name)}function Ba(t,e=!1){const s=[];if(t.name||t.contractName||s.push({field:"name",message:"Missing contract name",fix:'Add a "name" field with the contract name'}),t.abi)if("string"===typeof t.abi)try{JSON.parse(t.abi)}catch(a){s.push({field:"abi",message:"Invalid ABI format - not valid JSON",fix:"Ensure the ABI is valid JSON. It should be an array of function/event definitions"})}else Array.isArray(t.abi)||"object"===typeof t.abi||s.push({field:"abi",message:"Invalid ABI format - must be an array or object",fix:"The ABI should be a JSON array of function/event definitions"});else s.push({field:"abi",message:"Missing ABI field",fix:'Add an "abi" field containing the contract ABI as a JSON array'});return e||t.address?t.address&&"string"!==typeof t.address?s.push({field:"address",message:"Invalid address format",fix:'The address must be a string in hexadecimal format (e.g., "0x1234...")'}):t.address&&!t.address.startsWith("0x")&&s.push({field:"address",message:'Address must start with "0x"',fix:'Prepend "0x" to the address'}):s.push({field:"address",message:"Missing contract address",fix:'Add an "address" field with the deployed contract address (e.g., "0x...")'}),s}function Pa(t,e,s=!1){const a={success:!1,errors:[],filename:e};if(e.endsWith(".dbg.json"))return a.skipped=!0,a.skipReason="Debug file",a;let i;try{i=JSON.parse(t)}catch(l){return a.errors.push(`Invalid JSON format: ${l.message}`),a}if(s&&Oa(i)){a.skipped=!0;const t=i.sourceName||"",e=i.contractName||"";return t.includes("/deprecated/")||t.startsWith("deprecated/")?a.skipReason="Deprecated":t.includes("/mock")||t.startsWith("mock")?a.skipReason="Mock":t.includes("/libraries/")||t.startsWith("libraries/")?a.skipReason="Library":t.includes("/interfaces/")||t.startsWith("interfaces/")||/^I[A-Z]/.test(e)?a.skipReason="Interface":a.skipReason="Non-deployable",a.contract={name:i.contractName||i.name||"Unknown",address:"",abi:[]},a}const n=Da(i),r=Ra(i);if(!n&&!r)return a.errors.push("Unrecognized file format. Expected either a standard contract JSON (with address, name, abi fields) or a Hardhat artifact (with _format field)"),a;a.isHardhatArtifact=n;let o={};o=n?{name:i.contractName||"",abi:i.abi,address:""}:{name:i.name||"",address:i.address||"",abi:i.abi,category:i.category,network:i.network};const c=Ba(o,n);return c.length>0?(a.errors=c.map((t=>t.message)),a.contract=o,a):(a.success=!0,a.contract=o,a)}function Fa(t,e=!1){return Promise.all(t.filter((t=>t.name.endsWith(".json")&&!t.name.endsWith(".dbg.json"))).map((t=>new Promise((s=>{const a=new FileReader;a.onloadend=()=>{const i=a.result||"";s(Pa(i,t.name,e))},a.onerror=()=>{s({success:!1,errors:["Failed to read file"],filename:t.name})},a.readAsText(t)})))))}var La=s(6763);class za{static async processFiles(t,e=!1){return await Fa(t,e)}static async importContract(t,e){if(!t.address)return void La.error("Contract missing address:",t);const s={...t,network:t.network||e},a=await v.contracts.filter((t=>!(!t.address||!s.address||t.address.toLowerCase()!==s.address.toLowerCase()))).first();a?await v.contracts.update(a.id,{name:s.name,abi:s.abi,category:s.category,network:s.network}):await v.contracts.add({...s,createdTime:Date.now()})}static async importContracts(t,e){let s=0;for(const i of t)try{await this.importContract(i,e),s++}catch(a){La.error("Failed to import contract:",i.name,a)}return s}static exportContractToJson(t){const e=s(7968),a=new Blob([JSON.stringify({name:t.name,abi:t.abi,address:t.address,category:t.category,network:t.network},null,2)],{type:"application/json"}),i=`${t.name||t.address}.json`;e.saveAs(a,i)}}var Ua=s(6763);const Va=new Map;class ja{static async fetchAbi(t){if(Va.has(t))return Va.get(t);try{const e=await fetch(t);if(!e.ok)throw new Error(`Failed to fetch ABI: ${e.statusText}`);const s=await e.json();return Va.set(t,s),s}catch(e){throw Ua.error("Error fetching ABI from",t,e),e}}static async getBuiltInContracts(t){const e=Se.map((async e=>{try{let s;s="string"===typeof e.abi?await this.fetchAbi(e.abi):e.abi;let a="";const i=Te[t];if(i)for(const[t,r]of Object.entries(i))if(r.name===e.name&&!t.startsWith("Enter ")){a=t;break}const n={success:!0,errors:[],filename:`${e.name}.json`,contract:{name:e.name,address:a,abi:s}};return n}catch(s){const t=s.message||"Unknown error",a=t.startsWith("Failed to fetch ABI:")?t:`Failed to fetch ABI: ${t}`;return{success:!1,errors:[a],filename:`${e.name}.json`,contract:{name:e.name,address:"",abi:[]}}}})),s=await Promise.all(e);return s.sort(((t,e)=>{const s=t.contract?.name||"",a=e.contract?.name||"";return s.localeCompare(a)})),s}static isAddressForDifferentNetwork(t,e){const s=Object.keys(Te);for(const a of s){if(a===e)continue;const s=Te[a];if(s[t])return!0}return!1}static getNetworkName(t){const e={"0x00000000851caf3cfdb6e899cf5958bfb1ac3413d346d43539627e6be7ec1b4a":"Mainnet","0x000000000b2bce3c70bc649a02749e8687721b09ed2e15997f466536b20bb127":"Testnet"};return e[t]||"Custom Network"}}var qa=s(6763);let Ha=class extends u.lD{constructor(){super(...arguments),this.isloading=!0,this.isModalActive=!1,this.currentItem=null,this.contracts=[],this.isImport=!1,this.categoryOrder={},this.categoryToExpand=null,this.openContracts=[],this.activeContractId=null,this.pinnedTabs=new Set,this.isMobileView=!1,this.isSidebarOpen=!1,this.showTypeModal=!1,this.showPreviewModal=!1,this.parsedContracts=[],this.isBuiltInMode=!1}get activeContract(){return null===this.activeContractId?null:this.contracts.find((t=>t.id===this.activeContractId))||null}get existingCategories(){const t=new Set;return this.contracts.forEach((e=>{e.category&&""!==e.category.trim()&&t.add(e.category)})),Array.from(t).sort()}getContractById(t){return this.contracts.find((e=>e.id===t))||null}getContractKey(t){const e=this.contracts.find((e=>e.id===t));if(!e)return String(t);const s=e.abi?JSON.stringify(e.abi).slice(0,50):"";return`${t}-${e.address}-${s}`}handleOpenContract(t){this.openContract(t),this.isMobileView&&this.closeSidebar()}toggleSidebar(){this.isSidebarOpen=!this.isSidebarOpen}closeSidebar(){this.isSidebarOpen=!1}checkMobileView(){this.isMobileView=window.innerWidth<768,this.isMobileView||(this.isSidebarOpen=!1)}openContract(t){const e=this.openContracts.find((e=>e.id===t.id));if(e)return this.activeContractId=t.id,void this.saveTabState();const s={id:t.id,name:t.name||"Unnamed Contract",address:t.address};this.openContracts.push(s),this.activeContractId=t.id,this.saveTabState()}selectTab(t){this.activeContractId=t,this.saveTabState()}closeTab(t){if(this.pinnedTabs.has(t))return void this.$buefy.toast.open({message:"Unpin the tab before closing it",type:"is-warning",duration:2e3,position:"is-bottom"});const e=this.openContracts.findIndex((e=>e.id===t));if(-1!==e){if(this.openContracts.splice(e,1),this.activeContractId===t)if(this.openContracts.length>0){const t=Math.min(e,this.openContracts.length-1);this.activeContractId=this.openContracts[t].id}else this.activeContractId=null;this.saveTabState()}}pinTab(t){this.pinnedTabs.add(t),this.pinnedTabs=new Set(this.pinnedTabs),this.saveTabState()}unpinTab(t){this.pinnedTabs.delete(t),this.pinnedTabs=new Set(this.pinnedTabs),this.saveTabState()}saveTabState(){const t=this.openContracts.map((t=>t.id)),e=Array.from(this.pinnedTabs);localStorage.setItem("inspector-open-contracts",JSON.stringify(t)),localStorage.setItem("inspector-active-contract",JSON.stringify(this.activeContractId)),localStorage.setItem("inspector-pinned-contracts",JSON.stringify(e))}async loadTabState(){try{const t=localStorage.getItem("inspector-open-contracts"),e=localStorage.getItem("inspector-active-contract"),s=localStorage.getItem("inspector-pinned-contracts");if(t){const e=JSON.parse(t);for(const t of e){const e=this.contracts.find((e=>e.id===t));e&&this.openContracts.push({id:e.id,name:e.name||"Unnamed Contract",address:e.address})}}if(e){const t=JSON.parse(e);t&&this.openContracts.find((e=>e.id===t))&&(this.activeContractId=t)}if(s){const t=JSON.parse(s);this.pinnedTabs=new Set(t.filter((t=>this.openContracts.find((e=>e.id===t)))))}}catch(t){qa.error("Failed to load tab state:",t)}}async handleContractUpdate(t){await this.list();const e=this.contracts.find((e=>e.id===t));if(e){const s=this.openContracts.find((e=>e.id===t));s&&(s.name=e.name||"Unnamed Contract",s.address=e.address)}}handleDeleteFromPanel(t){this.$buefy.dialog.confirm({title:"Remove",message:`Are you sure want to remove ${t.name} contract`,cancelText:"Cancel",confirmText:"YES",type:"is-danger",scroll:"clip",onConfirm:async()=>{await v.contracts.where("id").equals(t.id).delete(),this.closeTab(t.id),await this.list()}})}async created(){this.$ga.page("/inspector/contracts");const t=this.$buefy.loading.open({container:null});this.loadCategoryOrder(),await this.list(),await this.loadTabState(),this.prepare(),t.close(),v.subscribe("contracts",(()=>{this.list()}))}mounted(){this.checkMobileView(),window.addEventListener("resize",this.checkMobileView)}beforeDestroy(){window.removeEventListener("resize",this.checkMobileView)}async prepare(){const{action:t,address:e,id:s}=this.$route.query;switch(t){case"add":this.currentItem={address:e},this.open();break;case"edit":if(s){const t=await v.contracts.where("id").equals(parseInt(s,10)).first();t&&(this.currentItem=t,this.isImport=!1,this.open())}break;default:break}}handleContractSaved(t){this.categoryToExpand=t.category,this.reload(t.isNewContract?t.contractId:null)}async reload(t=null){const e=this.categoryToExpand;if(this.currentItem=null,this.categoryToExpand=null,await this.list(),this.isModalActive=!1,null!==e&&this.$nextTick((()=>{const t=this.$refs.sidebar;t&&t.expandCategory&&t.expandCategory(e)})),null!==t){const e=this.contracts.find((e=>e.id===t));e&&this.$nextTick((()=>{this.openContract(e)}))}}exportJson(t){za.exportContractToJson(t)}remove(t){this.$buefy.dialog.confirm({title:"Remove",message:`Are you sure want to remove ${t.name} contract`,cancelText:"Cancel",confirmText:"YES",type:"is-danger",scroll:"clip",onConfirm:async()=>{await v.contracts.delete(t.id);const e=this.openContracts.findIndex((e=>e.id===t.id));-1!==e&&this.closeTab(t.id),this.reload()}})}open(){this.isModalActive=!0}close(){this.isModalActive=!1}async list(){const t=this.$connex.thor.genesis.id;this.contracts=await v.contracts.filter((e=>e.network===t||void 0===e.network)).toArray(),this.isloading=!1}addItem(){this.currentItem=null,this.isImport=!1,this.open()}onCancel(){this.currentItem=null,this.close()}edit(t){this.currentItem=t,this.isImport=!1,this.open()}handleShowImportInstructions(){this.showTypeModal=!0}handleSelectFiles(){this.showTypeModal=!1;const t=this.$refs.sidebar;t&&t.triggerFileUpload&&t.triggerFileUpload("files")}handleSelectFolder(){this.showTypeModal=!1;const t=this.$refs.sidebar;t&&t.triggerFileUpload&&t.triggerFileUpload("folder")}async handleSelectBuiltIn(){this.showTypeModal=!1;const t=this.$buefy.loading.open({container:null});try{const t=this.$connex.thor.genesis.id,e=await ja.getBuiltInContracts(t);if(0===e.length)return void this.$buefy.toast.open({message:"No built-in contracts available for this network",type:"is-info"});this.parsedContracts=e,this.isBuiltInMode=!0,this.showPreviewModal=!0}catch(e){this.$buefy.toast.open({message:`Error loading built-in contracts: ${e.message}`,type:"is-danger"})}finally{t.close()}}async handleFilesDropped(t){qa.log("handleFilesDropped called with",t.files.length,"files, isFromFolder:",t.isFromFolder),this.showTypeModal=!1,this.isBuiltInMode=!1,await this.processFiles(t.files,t.isFromFolder||!1)}async handleFilesSelected(t){const e=this.$refs.sidebar,s="folder"===e?.lastUploadMode;await this.processFiles(t,s)}async processFiles(t,e){if(0===t.length)return;const s=this.$buefy.loading.open({container:null});try{const s=await za.processFiles(t,e);if(this.parsedContracts=s,this.isBuiltInMode=!1,0===s.length)return void this.$buefy.toast.open({message:"No valid contract files found",type:"is-warning"});this.showPreviewModal=!0}catch(a){this.$buefy.toast.open({message:`Error processing files: ${a.message}`,type:"is-danger"})}finally{s.close()}}async handleImportSelected(t){if(this.showPreviewModal=!1,0===t.length)return;const e=this.$connex.thor.genesis.id,s=await za.importContracts(t,e);this.$buefy.toast.open({message:`Successfully imported ${s} contract(s)`,type:"is-success"}),await this.reload()}async handleDropContract(t){const{contract:e,targetCategory:s,targetIndex:a}=t,i=e.category||"",n=this.contracts.filter((t=>(t.category||"")===i)).sort(((t,e)=>(t.order||0)-(e.order||0))),r=n.findIndex((t=>t.id===e.id));i===s&&r===a||(i!==s&&await v.contracts.where("id").equals(e.id).modify({category:s||void 0}),await this.reorderAfterDrop(s,e,a),await this.list())}async reorderAfterDrop(t,e,s){const a=this.contracts.filter((e=>(e.category||"")===t)).sort(((t,e)=>(t.order||0)-(e.order||0))),i=a.findIndex((t=>t.id===e.id));-1!==i&&a.splice(i,1),a.splice(s,0,e);for(let n=0;n<a.length;n++)await v.contracts.where("id").equals(a[n].id).modify({order:n})}loadCategoryOrder(){const t=localStorage.getItem("categoryOrder");if(t)try{this.categoryOrder=JSON.parse(t)}catch(e){this.categoryOrder={}}}saveCategoryOrder(){localStorage.setItem("categoryOrder",JSON.stringify(this.categoryOrder))}ensureAllCategoriesHaveOrder(){const t=new Set;this.contracts.forEach((e=>{t.add(e.category||"")}));const e=Array.from(t);let s=!1;e.forEach(((t,e)=>{void 0===this.categoryOrder[t]&&(this.$set(this.categoryOrder,t,e),s=!0)})),s&&this.saveCategoryOrder()}moveCategoryUp(t){this.ensureAllCategoriesHaveOrder();const e=Array.from(new Set(this.contracts.map((t=>t.category||"")))).sort(((t,e)=>{const s=this.categoryOrder[t]??9999,a=this.categoryOrder[e]??9999;return s!==a?s-a:t?e?t.localeCompare(e):-1:1})),s=e.indexOf(t);if(s>0){const a=e[s-1],i=this.categoryOrder[t],n=this.categoryOrder[a];this.$set(this.categoryOrder,t,n),this.$set(this.categoryOrder,a,i),this.saveCategoryOrder()}}moveCategoryDown(t){this.ensureAllCategoriesHaveOrder();const e=Array.from(new Set(this.contracts.map((t=>t.category||"")))).sort(((t,e)=>{const s=this.categoryOrder[t]??9999,a=this.categoryOrder[e]??9999;return s!==a?s-a:t?e?t.localeCompare(e):-1:1})),s=e.indexOf(t);if(s<e.length-1){const a=e[s+1],i=this.categoryOrder[t],n=this.categoryOrder[a];this.$set(this.categoryOrder,t,n),this.$set(this.categoryOrder,a,i),this.saveCategoryOrder()}}async renameCategory(t){this.$buefy.dialog.prompt({message:"Enter new category name",inputAttrs:{value:t,maxlength:50},trapFocus:!0,onConfirm:async e=>{const s=(e||"").trim();if("uncategorized"!==s.toLowerCase()){if(s&&s!==t){const e=this.contracts.filter((e=>e.category===t));for(const t of e)await v.contracts.where("id").equals(t.id).modify({category:s});void 0!==this.categoryOrder[t]&&(this.$set(this.categoryOrder,s,this.categoryOrder[t]),this.$delete(this.categoryOrder,t),this.saveCategoryOrder()),await this.list()}}else this.$buefy.toast.open({message:'Category name "Uncategorized" is reserved. Please choose another name.',type:"is-danger",duration:2500,position:"is-bottom"})}})}};Ha=(0,d.Cg)([(0,u.uA)({components:{Sidebar:Bt,TabBar:jt,ContractDetailPanel:ga,EditContract:Oe,ImportTypeModal:Aa,ImportPreviewModal:Ma}})],Ha);var Ga=Ha,Ja=Ga,Wa=(0,j.A)(Ja,wt,xt,!1,null,"ccc0e3dc",null),Ya=Wa.exports,Xa=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"section",staticStyle:{"max-width":"1000px",margin:"auto"}},[e("div",{staticClass:"container"},[e("form",{on:{submit:function(e){return e.preventDefault(),t.sendCode.apply(null,arguments)}}},[e("b-field",{attrs:{type:{"is-danger":t.errors.has("code")},message:t.errors.first("code"),label:"Byte Code"}},[e("b-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0,bytecode:!0},expression:"{required: true, bytecode: true}"}],attrs:{name:"code",rows:"10",type:"textarea"},model:{value:t.code,callback:function(e){t.code="string"===typeof e?e.trim():e},expression:"code"}})],1),e("b-field",{attrs:{type:{"is-danger":t.errors.has("vet")},message:t.errors.first("vet"),label:"Vet"}},[e("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"vet",expression:"'vet'"}],attrs:{placeholder:"number (optional)",name:"vet",type:"text"},model:{value:t.vet,callback:function(e){t.vet="string"===typeof e?e.trim():e},expression:"vet"}})],1),e("b-field",{attrs:{label:"Valid Hex value (wei)"}},[e("span",{staticClass:"is-family-monospace has-text-weight-semibold"},[t._v(t._s(t.haxValue))])]),e("b-field",{attrs:{label:"Valid Integer value (wei)"}},[e("span",{staticClass:"is-family-monospace has-text-weight-semibold"},[t._v(t._s(t.numberValue))])]),e("b-field",{staticClass:"is-clearfix"},[e("button",{staticClass:"is-pulled-right button is-primary",attrs:{type:"submit"}},[t._v("Send")])])],1)])])},Qa=[];let Ka=class extends u.lD{constructor(){super(...arguments),this.code="",this.vet=null}get haxValue(){const t=BN(this.vet);return t.isNaN()||t.isNegative()?"0x0":"0x"+BN(t.multipliedBy(1e18).toFixed(0)).toString(16)}get numberValue(){const t=BN(this.vet);return t.isNaN()||t.isNegative()?"0":t.multipliedBy(1e18).toFixed(0)}async checkForm(){const t=await this.$validator.validateAll();return t}async sendCode(){if(await this.checkForm())try{const t=await this.$connex.vendor.sign("tx",[{value:this.haxValue||0,data:this.code,to:null}]).comment("Inspector deploy contract").request();window.open(`${this.$explorerTx}${t.txid}`)}catch(t){this.$buefy.toast.open({type:"is-danger",message:`${t.name}: ${t.message}`,position:"is-top",duration:3e3})}}created(){this.$ga.page("/inspector/deploy")}};Ka=(0,d.Cg)([u.uA],Ka);var Za=Ka,ti=Za,ei=(0,j.A)(ti,Xa,Qa,!1,null,null,null),si=ei.exports,ai=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("section",{staticClass:"section contract-detail"},[t.contract?e("div",{staticClass:"container"},[e("Contract",{attrs:{isShort:!1,item:t.contract},on:{edit:t.editContract,export:t.exportContract,delete:t.deleteContract,submitABI:t.submitABI}}),e("section",{staticStyle:{"margin-top":"20px"}},[e("b-field",{attrs:{grouped:""}},[e("b-field",{attrs:{expanded:""}},[e("b-field",{staticClass:"is-pulled-right"},[e("b-autocomplete",{attrs:{rounded:"",data:t.filterList,placeholder:"Func/Event Name"},on:{select:t.onSearchSelect},scopedSlots:t._u([{key:"default",fn:function(s){return[e("div",[e("span",{staticClass:"is-size-6"},[t._v(t._s(s.option.name))])]),e("span",{staticClass:"has-text-grey"},[t._v(t._s(s.option.type))])]}}],null,!1,1256192932),model:{value:t.name,callback:function(e){t.name=e},expression:"name"}},[e("template",{slot:"empty"},[t._v("No results found")])],2)],1)],1)],1),e("b-tabs",{staticClass:"block",model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}},t._l(t.tabs,(function(s,a){return e("b-tab-item",{key:a,attrs:{visible:s.visible}},[e("span",{attrs:{slot:"header"},slot:"header"},[t._v(" "+t._s(s.text)+" "),s.count?e("span",{staticClass:"is-size-7"},[t._v("("+t._s(s.count)+")")]):t._e()])])})),1),e("div",{directives:[{name:"show",rawName:"v-show",value:0===t.tabIndex,expression:"tabIndex === 0"}]},t._l(t.readList,(function(s,a){return e("FunctionCard",{key:a,ref:s.name,refInFor:!0,staticStyle:{"margin-bottom":"20px"},attrs:{id:s.name,address:t.contract.address,item:s}})})),1),e("div",{directives:[{name:"show",rawName:"v-show",value:1===t.tabIndex,expression:"tabIndex === 1"}]},t._l(t.writeList,(function(s,a){return e("FunctionCard",{key:a,ref:s.name,refInFor:!0,staticStyle:{"margin-bottom":"20px"},attrs:{address:t.contract.address,item:s}})})),1),e("div",{directives:[{name:"show",rawName:"v-show",value:2===t.tabIndex,expression:"tabIndex === 2"}]},[e("DescCard",{staticStyle:{"margin-bottom":"20px"},attrs:{item:t.abi,title:"ABI"}}),t.code?e("DescCard",{staticClass:"code-pre",staticStyle:{"margin-bottom":"20px"},attrs:{item:t.code,title:"Code"}}):t._e()],1),e("div",{directives:[{name:"show",rawName:"v-show",value:3===t.tabIndex,expression:"tabIndex === 3"}]},t._l(t.eventList,(function(s,a){return e("EventCard",{key:a,staticStyle:{"margin-bottom":"20px"},attrs:{address:t.contract.address,item:s,title:s.name}})})),1),e("div",{directives:[{name:"show",rawName:"v-show",value:4===t.tabIndex,expression:"tabIndex === 4"}]},[e("RolesTab",{attrs:{contractAddress:t.contract.address,abi:t.abi,network:t.network}})],1),e("div",{directives:[{name:"show",rawName:"v-show",value:5===t.tabIndex,expression:"tabIndex === 5"}]},[e("FallbackCard",{attrs:{fb:t.fb}})],1),e("div",{directives:[{name:"show",rawName:"v-show",value:6===t.tabIndex,expression:"tabIndex === 6"}]},t._l(t.prList,(function(s,a){return e("FunctionCard",{key:a,ref:s.name,refInFor:!0,staticStyle:{"margin-bottom":"20px"},attrs:{prototype:!0,address:t.contract.address,item:s}})})),1),e("div",{directives:[{name:"show",rawName:"v-show",value:7===t.tabIndex,expression:"tabIndex === 7"}]},t._l(t.pwList,(function(s,a){return e("FunctionCard",{key:a,ref:s.name,refInFor:!0,staticStyle:{"margin-bottom":"20px"},attrs:{prototype:!0,address:t.contract.address,item:s}})})),1),e("div",{directives:[{name:"show",rawName:"v-show",value:8===t.tabIndex,expression:"tabIndex === 8"}]},t._l(t.peList,(function(s,a){return e("EventCard",{key:a,ref:s.name,refInFor:!0,staticStyle:{"margin-bottom":"20px"},attrs:{prototype:!0,address:t.contract.address,item:s}})})),1)],1)],1):t._e(),e("b-modal",{attrs:{width:640,canCancel:[],active:t.isModalActive},on:{"update:active":function(e){t.isModalActive=e}}},[e("EditContract",{attrs:{item:t.contract,isImport:!1},on:{cancel:t.onCancelEdit,finished:t.onFinishEdit}})],1)],1)},ii=[],ni=s(6763);let ri=class extends((0,u.Xe)(ua)){constructor(){super(...arguments),this.contract=null,this.tabIndex=0,this.tabs=[],this.abi=[],this.code="",this.name="",this.caller="",this.isProtoType=!0,this.isModalActive=!1}get filterList(){const t=this.abi;return t.filter((t=>t.name&&this.name&&t.name.toString().toLowerCase().indexOf(this.name.toLowerCase())>=0))}get readList(){return this.abi.filter((t=>"function"===t.type&&(!0===t.constant||["pure","view"].includes(t.stateMutability))))}get writeList(){return this.abi.filter((t=>"function"===t.type&&(!1===t.constant||!["pure","view"].includes(t.stateMutability))))}get eventList(){return this.abi.filter((t=>"event"===t.type))}get fb(){return this.abi.find((t=>"fallback"===t.type))}get hasAccessControl(){return ta(this.abi)}get network(){return this.$connex.thor.genesis.id}async getDetail(t){if(this.contract=await v.contracts.where("id").equals(parseInt(t,10)).or("address").equals(t).first()||null,this.contract)this.abi=this.contract.abi;else{this.$buefy.toast.open({duration:3e3,message:"No item got",position:"is-top",queue:!1,type:"is-info"});setTimeout((()=>{this.$router.push({name:"contracts"})}),3100)}}editContract(){this.isModalActive=!0}onCancelEdit(){this.isModalActive=!1}async onFinishEdit(t){this.isModalActive=!1;const e=this.$route.query.id||this.$route.query.address;await this.getDetail(e),this.tabs=[{text:"Read",count:this.readList.length,visible:!!this.readList.length},{text:"Write",count:this.writeList.length,visible:!!this.writeList.length},{text:"Code & ABI",count:"",visible:!0},{text:"Events",count:this.eventList.length,visible:!!this.eventList.length},{text:"Roles",count:"",visible:!0},{text:"Fallback",count:"",visible:!!this.fb}],this.tabs=this.tabs.concat(this.protoTabs)}exportContract(){const t=s(7968),e=new Blob([JSON.stringify({name:this.contract.name,abi:this.contract.abi,address:this.contract.address})],{type:"text/plain"});t.saveAs(e,`${this.contract.address}.json`)}deleteContract(){this.$buefy.dialog.confirm({title:"Remove",message:`Are you sure want to remove ${this.contract.name} contract`,cancelText:"Cancel",confirmText:"YES",type:"is-danger",scroll:"clip",onConfirm:async()=>{await v.contracts.where("id").equals(this.contract.id).delete(),this.$router.push({name:"contracts"})}})}submitABI(){window.open("https://github.com/vechain/b32/new/master/ABIs","_blank")}async getCode(t){try{if(t){const e=await this.$connex.thor.account(t).getCode();this.code=e.code}}catch(e){ni.error(e)}}async created(){this.$ga.page("/inspector/contract/detail"),this.initAbi();const t=this.$route.query.id||this.$route.query.address;await this.getDetail(t),this.tabs=[{text:"Read",count:this.readList.length,visible:!!this.readList.length},{text:"Write",count:this.writeList.length,visible:!!this.writeList.length},{text:"Code & ABI",count:"",visible:!0},{text:"Events",count:this.eventList.length,visible:!!this.eventList.length},{text:"Roles",count:"",visible:!0},{text:"Fallback",count:"",visible:!!this.fb}],this.tabs=this.tabs.concat(this.protoTabs),await this.getCode(this.contract.address||""),this.tabIndex=this.tabs.findIndex((t=>t.visible))}onSearchSelect(t){const e={cb:2,fb:4,read:0,write:1,event:3};let s=t.type;"function"===s&&(s=t.constant?"read":"write"),this.tabIndex=e[s];const a=this.$refs[t.name];a[0].$children[0].toggle(!0),a[0].$el.scrollIntoView()}};ri=(0,d.Cg)([(0,u.uA)({components:{Contract:Nt,EditContract:Oe,FunctionCard:Xe,FallbackCard:as,DescCard:ks,EventCard:gs,RolesTab:oa}})],ri);var oi=ri,ci=oi,li=(0,j.A)(ci,ai,ii,!1,null,null,null),di=li.exports,ui=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("section",[e("div",{staticClass:"log-container"},[e("div",{staticClass:"columns is-multiline"},[t._l(t.params,(function(s,a){return e("div",{key:a,staticClass:"column is-one-third"},[e("b-field",{attrs:{label:s.name}},[e("b-input",{attrs:{placeholder:s.type},model:{value:t.conditions[s.name],callback:function(e){t.$set(t.conditions,s.name,e)},expression:"conditions[v.name]"}})],1)],1)})),e("div",{staticClass:"column is-one-third"},[e("b-field",{attrs:{label:"Order"}},[e("b-select",{attrs:{expanded:"",placeholder:"Order"},model:{value:t.page.order,callback:function(e){t.$set(t.page,"order",e)},expression:"page.order"}},[e("option",{domProps:{value:!1}},[t._v("ASC")]),e("option",{domProps:{value:!0}},[t._v("DESC")])])],1)],1)],2),e("nav",{staticClass:"navbar is-transparent",staticStyle:{"margin-bottom":"2px","z-index":"20"}},[e("div",{staticClass:"navbar-start"},[e("div",{staticClass:"navbar-item",staticStyle:{"padding-left":"0"}},[e("b-field",{staticStyle:{width:"350px"},attrs:{horizontal:""}},[e("template",{slot:"label"},[e("div",{staticStyle:{width:"100px","text-align":"left"}},[t._v("Block Range")])]),e("b-input",{attrs:{placeholder:"from"},model:{value:t.blockFrom,callback:function(e){t.blockFrom=e},expression:"blockFrom"}}),e("b-input",{attrs:{placeholder:"to"},model:{value:t.blockTo,callback:function(e){t.blockTo=e},expression:"blockTo"}})],2)],1)]),e("div",{staticClass:"navbar-end"},[e("div",{staticClass:"navbar-item"},[t._v(t._s(t.ranges))]),e("div",{staticClass:"navbar-item"},[e("div",{staticClass:"buttons has-addons"},[e("button",{staticClass:"button",attrs:{disabled:t.page.num<1},on:{click:t.prePage}},[e("b-icon",{attrs:{icon:"angle-left"}})],1),e("button",{staticClass:"button",attrs:{disabled:t.list.length<t.page.size},on:{click:t.nextPage}},[e("b-icon",{attrs:{icon:"angle-right"}})],1)])]),e("div",{staticClass:"navbar-item"},[e("button",{staticClass:"button is-primary is-outlined",on:{click:t.search}},[t._v("Search")])])])]),e("b-loading",{staticClass:"log-loading",attrs:{"is-full-page":!1,active:t.isLoading,"can-cancel":!0},on:{"update:active":function(e){t.isLoading=e}}}),t._l(t.list,(function(s,a){return[e("EventShowCard",{key:s.meta.txID+t.page.num,attrs:{item:s,params:t.abi.inputs}},[e("span",{attrs:{slot:"title"},slot:"title"},[t._v("#"+t._s(t.page.num*t.page.size+a+1))])])]}))],2)])},pi=[];let hi=class extends u.lD{constructor(){super(...arguments),this.isLoading=!0,this.conditions={},this.page={num:0,size:10,order:!0},this.blockFrom=null,this.blockTo=null,this.list=[],this.metadata=!1,this.params=[]}setParams(){this.params=this.abi.inputs.filter((t=>t.indexed))}get ranges(){return"#"+(this.page.num*this.page.size+(this.list.length?1:0))+" - #"+(this.page.num*this.page.size+this.list.length)}async onRouterChange(){await this.init(),this.getList(0)}onSizeChanged(t){t||(this.page.size=5),this.search()}onOrderChanged(){this.search()}async init(){this.filter=await v.filters.where("id").equals(parseInt(this.$route.params.id,10)).first()||null;const t=this.$connex.thor.account(this.filter.address);this.abi=this.filter.abi?this.filter.abi:"",this.event=t.event(this.abi),this.setParams()}search(){this.page.num=0,this.getList(0)}prePage(){this.page.num>0&&(this.page.num--,this.getList(this.page.num))}nextPage(){this.page.num++,this.getList(this.page.num)}async getList(t){this.isLoading=!0;const e=[];for(const a in this.conditions)if(this.conditions.hasOwnProperty(a)){const t=this.conditions[a];t&&e.push({[a]:t})}try{this.list=await this.event.filter(e).order(this.page.order?"desc":"asc").range(this.getBlcokRange()).apply(t*this.page.size,this.page.size)}catch(s){BUS.$alert(s.message)}finally{this.isLoading=!1}}getBlcokRange(){const t=this.blockFrom||0,e=this.blockTo||this.$connex.thor.status.head.number;return{unit:"block",from:BN(t).toNumber(),to:BN(e).toNumber()}}async created(){this.$ga.page("/inspector/view/list"),await this.init(),this.getList(0)}};(0,d.Cg)([(0,u.ox)("$route")],hi.prototype,"onRouterChange",null),(0,d.Cg)([(0,u.ox)("page.size")],hi.prototype,"onSizeChanged",null),(0,d.Cg)([(0,u.ox)("page.order")],hi.prototype,"onOrderChanged",null),hi=(0,d.Cg)([(0,u.uA)({components:{EventShowCard:ps}})],hi);var mi=hi,fi=mi,bi=(0,j.A)(fi,ui,pi,!1,null,"1219d4b9",null),gi=bi.exports,vi=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("section",{staticClass:"section"},[e("div",{staticClass:"container"},[e("b-table",{attrs:{detailed:"","per-page":t.perPage,"current-page":t.currentPage,data:t.list,paginated:"","backend-pagination":"",total:t.count},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"page-change":t.onPageChange},scopedSlots:t._u([{key:"default",fn:function(s){return[e("b-table-column",{attrs:{centered:"",label:"ID"}},[t._v(t._s(s.row.id))]),e("b-table-column",{attrs:{label:"Name"}},[e("router-link",{attrs:{to:{name:"filter_view",params:{id:s.row.id}}}},[t._v(t._s(s.row.name))])],1),e("b-table-column",{attrs:{label:"Contract"}},[e("router-link",{attrs:{to:{name:"contract_detail",query:{address:s.row.address}}}},[t._v(" "+t._s(s.row.contractName)+" ")]),e("b-tooltip",{attrs:{label:"Prototype"}},[s.row.fromPrototype?e("b-icon",{staticStyle:{"margin-left":"5px"},attrs:{icon:"code-branch",size:"is-small"}}):t._e()],1)],1),e("b-table-column",{attrs:{label:"Address"}},[e("span",{staticClass:"is-family-monospace has-text-weight-semibold"},[t._v(t._s(t._f("addr")(t._f("toChecksumAddress")(s.row.address))))])]),e("b-table-column",{attrs:{centered:"",label:"Operations"}},[e("div",{staticClass:"buttons has-addons is-centered"},[e("button",{staticClass:"button is-rounded control is-small",on:{click:function(e){return t.edit(s.row)}}},[e("b-icon",{attrs:{size:"is-small",icon:"edit"}})],1),e("button",{staticClass:"button is-rounded control is-small",on:{click:function(e){return t.remove(s.row)}}},[e("b-icon",{attrs:{size:"is-small",icon:"trash-alt"}})],1)])])]}},{key:"detail",fn:function(s){return[e("pre",[t._v(t._s(s.row.abi))])]}}])})],1)])},yi=[];let Ci=class extends u.lD{constructor(){super(...arguments),this.list=[],this.perPage=10,this.currentPage=1,this.count=0,this.columns=[{label:"ID",field:"id",centered:!0},{label:"From Contract",field:"contractName",centered:!0},{label:"Name",field:"name",centered:!0},{label:"Address",field:"address",centered:!0}]}get network(){return this.$connex.thor.genesis.id}async created(){this.$ga.page("/inspector/view/mgt"),this.onPageChange(1),this.count=await v.filters.filter((t=>t.network===this.network||void 0===t.network)).count()}edit(t){this.$buefy.dialog.prompt({title:"Edit quick view",message:"Edit filter name",inputAttrs:{placeholder:"Filter name",value:t.name,maxlength:30,required:!0},onConfirm:e=>{v.filters.update(t.id,{name:e}).then((()=>{this.onPageChange(this.currentPage)}))}})}remove(t){this.$buefy.dialog.confirm({title:"Remove",message:`Are you sure want to remove '${t.name}' contract`,cancelText:"Cancel",confirmText:"YES",type:"is-danger",scroll:"clip",onConfirm:()=>{v.filters.delete(t.id).then((()=>{this.onPageChange(this.currentPage)}))}})}async onPageChange(t){this.list=await v.filters.filter((t=>t.network===this.network||void 0===t.network)).offset((t-1)*this.perPage).limit(this.perPage).toArray()}};Ci=(0,d.Cg)([u.uA],Ci);var wi=Ci,xi=wi,_i=(0,j.A)(xi,vi,yi,!1,null,null,null),ki=_i.exports,Ai=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("section",{staticClass:"section"},[e("div",{staticClass:"container"},[e("b-field",{attrs:{grouped:""}},[e("b-field",{attrs:{expanded:""}},[e("b-field",{staticClass:"is-pulled-right"},[e("b-input",{attrs:{icon:"search",type:"text",placeholder:"Name"}}),e("p",{staticClass:"control"},[e("button",{staticClass:"button is-primary"},[t._v("Search")])])],1)],1)],1),e("b-table",{attrs:{detailed:"","per-page":t.perPage,"current-page":t.currentPage,data:t.list,paginated:"","backend-pagination":"",total:t.count},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"page-change":t.onPageChange},scopedSlots:t._u([{key:"default",fn:function(s){return[e("b-table-column",{attrs:{centered:"",label:"ID"}},[t._v(t._s(s.row.id))]),e("b-table-column",{attrs:{label:"Name"}},[t._v(t._s(s.row.name))]),e("b-table-column",{attrs:{label:"Contract"}},[e("router-link",{attrs:{to:{name:"contract_detail",query:{address:s.row.address}}}},[t._v(t._s(s.row.contractName))]),e("b-tooltip",{attrs:{label:"Prototype"}},[s.row.fromPrototype?e("b-icon",{staticStyle:{"margin-left":"5px"},attrs:{icon:"code-branch",size:"is-small"}}):t._e()],1)],1),e("b-table-column",{attrs:{label:"Type"}},[t._v(t._s(s.row.type))]),e("b-table-column",{attrs:{label:"Address"}},[e("b-tooltip",{attrs:{label:t._f("toChecksumAddress")(s.row.address)}},[e("span",{staticClass:"is-family-monospace has-text-weight-semibold"},[t._v(t._s(t._f("addr")(t._f("toChecksumAddress")(s.row.address))))])])],1),e("b-table-column",{attrs:{centered:"",label:"Operations"}},[e("div",{staticClass:"buttons has-addons is-centered"},[e("button",{staticClass:"button is-rounded control is-small",on:{click:function(e){return t.edit(s.row)}}},[e("b-icon",{attrs:{size:"is-small",icon:"edit"}})],1),e("button",{staticClass:"button is-rounded control is-small",on:{click:function(e){return t.remove(s.row)}}},[e("b-icon",{attrs:{size:"is-small",icon:"trash-alt"}})],1)])])]}},{key:"detail",fn:function(t){return[e("SampleFuncCard",{attrs:{caller:"caller",prototype:t.row.fromPrototype,item:t.row.abi,address:t.row.address}})]}}])})],1)])},Ii=[],Si=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"func-card"},[e("p",{staticClass:"panel-tabs",staticStyle:{"justify-content":"left"}},t._l(t.tabs,(function(s,a){return e("a",{key:a,class:{"is-active":t.activeTab===s},on:{click:function(e){return e.stopPropagation(),t.switchTab(s)}}},[t._v(t._s(s))])})),0),e("div",{staticClass:"card-content"},[e("form",{directives:[{name:"show",rawName:"v-show",value:t.activeTab===t.tabs[0],expression:"activeTab === tabs[0]"}],ref:"form",on:{reset:function(e){return e.preventDefault(),t.reset.apply(null,arguments)}}},[e("b-field",{staticClass:"item-content",attrs:{horizontal:"",message:"Special address to call the method, it's not the param of the method",label:"Caller"},model:{value:t.caller,callback:function(e){t.caller=e},expression:"caller"}},[e("b-input",{attrs:{placeholder:"Optional: Address"}})],1),t._l(t.item.inputs,(function(s,a){return e("b-field",{key:a,staticClass:"item-content",attrs:{horizontal:"",label:s.name}},[e("b-input",{ref:"input",refInFor:!0,attrs:{readonly:t.prototype&&"_self"===s.name,required:"",placeholder:s.type},model:{value:t.params[a],callback:function(e){t.$set(t.params,a,e)},expression:"params[index]"}})],1)})),t.item.payable?e("b-field",{staticClass:"item-content",attrs:{horizontal:"",label:"value"}},[e("b-input",{attrs:{type:"number",placeholder:"number"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1):t._e(),e("b-field",{staticClass:"item-content"},[e("div",{staticClass:"buttons has-addons"},[t.item.constant?t._e():e("button",{staticClass:"button is-rounded is-primary is-outlined",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.executeFC.apply(null,arguments)}}},[t._v("Execute")]),e("button",{staticClass:"button is-rounded is-primary is-outlined",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.callFC.apply(null,arguments)}}},[t._v("Call")]),e("button",{staticClass:"button is-rounded is-primary is-outlined",attrs:{type:"reset"}},[t._v("Reset")])])]),t.request?e("b-field",{attrs:{label:"Request"}},[e("pre",{staticStyle:{width:"100%","white-space":"break-spaces","word-break":"break-all"}},[t._v(t._s(t.request))])]):t._e(),t.resp?e("b-field",{attrs:{label:"Response"}},[e("pre",{staticStyle:{width:"100%","white-space":"break-spaces","word-break":"break-all"}},[t._v(t._s(t.resp))])]):t._e(),t.txid||t.receipt?e("b-field",{attrs:{label:"Receipt"}},[e("pre",{staticStyle:{width:"100%","white-space":"break-spaces","word-break":"break-all"},domProps:{innerHTML:t._s(t.receiptDisplay)}})]):t._e()],2),e("div",{directives:[{name:"show",rawName:"v-show",value:t.activeTab===t.tabs[1],expression:"activeTab === tabs[1]"}]},[e("pre",[t._v(t._s(t.item))])])])])},Ti=[];let $i=class extends((0,u.Xe)(He)){constructor(){super(...arguments),this.tabs=["Inputs","Description"],this.activeTab=""}created(){this.activeTab=this.tabs[0];const t=this.$connex.thor.account(this.address);if(this.method=t.method(this.item),this.prototype){const t=this.item.inputs.findIndex((t=>"_self"===t.name));this.params[t]=this.address}}switchTab(t){this.activeTab=t}get receiptDisplay(){if(!this.txid&&!this.receipt)return"";let t="";if("pending"===this.receiptStatus)t+="Status: Pending\n",t+="Waiting for transaction confirmation...\n\n";else if("error"===this.receiptStatus)t+="Status: Error\n",t+="Failed to retrieve receipt (timeout or transaction not found)\n\n";else if("completed"===this.receiptStatus&&this.receipt){const e=this.receipt.reverted?"Reverted":"Completed",s=this.receipt.reverted?"#ff3860":"#23d160";t+=`Status: <span style="color: ${s};">${e}</span>\n\n`}return this.txid&&(t+=`Transaction ID: ${this.txid}\n`,t+=`Explorer: ${this.$explorerTx}${this.txid}\n\n`),this.receipt&&(t+=`Gas Used: ${this.receipt.gasUsed}\n`,t+=`Reverted: ${this.receipt.reverted?"Yes":"No"}\n`,this.receipt.meta&&this.receipt.meta.blockNumber&&(t+=`Block Number: ${this.receipt.meta.blockNumber}\n`),this.receipt.meta&&this.receipt.meta.blockID&&(t+=`Block ID: ${this.receipt.meta.blockID}\n`),this.receipt.gasPayer&&(t+=`Gas Payer: ${this.receipt.gasPayer}\n`),this.receipt.paid&&(t+=`Paid: ${this.receipt.paid}\n`),this.receipt.reward&&(t+=`Reward: ${this.receipt.reward}\n`)),t.trim()}};(0,d.Cg)([(0,u.kv)({default:!1})],$i.prototype,"prototype",void 0),$i=(0,d.Cg)([(0,u.uA)({components:{Panel:je}})],$i);var Ei=$i,Ni=Ei,Mi=(0,j.A)(Ni,Si,Ti,!1,null,"2ece36bc",null),Di=Mi.exports;let Oi=class extends u.lD{constructor(){super(...arguments),this.list=[],this.count=0,this.perPage=10,this.currentPage=1,this.caller=""}async created(){this.$ga.page("/view/scs"),await this.onPageChange(1),await this.countList()}get network(){return this.$connex.thor.genesis.id}async countList(){this.count=await v.shortCuts.filter((t=>t.network===this.network||void 0===t.network)).count()}async onPageChange(t){this.list=await v.shortCuts.filter((t=>t.network===this.network||void 0===t.network)).offset((t-1)*this.perPage).limit(this.perPage).toArray()}edit(t){this.$buefy.dialog.prompt({title:"Edit Shortcut",message:"Edit shortcut name",inputAttrs:{placeholder:"Shortcut name",value:t.name,maxlength:30,required:!0},onConfirm:e=>{v.shortCuts.update(t.id,{name:e}).then((()=>{this.onPageChange(this.currentPage)}))}})}remove(t){this.$buefy.dialog.confirm({title:"Remove",message:`Are you sure want to remove '${t.name}' contract`,cancelText:"Cancel",confirmText:"YES",type:"is-danger",scroll:"clip",onConfirm:()=>{v.shortCuts.delete(t.id).then((()=>{this.onPageChange(this.currentPage)}))}})}};Oi=(0,d.Cg)([(0,u.uA)({components:{SampleFuncCard:Di}})],Oi);var Ri=Oi,Bi=Ri,Pi=(0,j.A)(Bi,Ai,Ii,!1,null,null,null),Fi=Pi.exports;u.lD.use(ht.A);const Li=new ht.A({mode:"hash",routes:[{name:"root",redirect:{name:"contracts"},path:"/"},{name:"notSupport",component:Ct,path:"/not-support"},{name:"contracts",component:Ya,path:"/contracts"},{name:"deploy",component:si,path:"/deploy"},{name:"contract_detail",component:di,path:"/contract/detail"},{name:"filter_view",component:gi,path:"/view/:id/list"},{name:"filter_mgt",component:ki,path:"/view/mgt"},{name:"short_cuts",component:Fi,path:"/view/scs"},{path:"*",redirect:{name:"contracts"}}]});var zi=Li,Ui=s(2102),Vi=s.n(Ui),ji=s(6281),qi=s.n(ji);const Hi=async t=>{const{address:e,genesisId:s,name:a,abi:i}=t;await v.contracts.filter((t=>t.address.toLowerCase()===e.toLowerCase())).delete();const n={abi:i,address:e.toLowerCase(),name:a,createdTime:Date.now(),network:s};await v.contracts.add(n)},Gi=async()=>{const t=await fetch("/abis/contracts.json");if(!t.ok)return;const e=await t.json();for(const s of e)await Hi(s)};var Ji=s(6763);function Wi(t){const e=t?t+"/":t;a["default"].prototype.$explorerAccount=`https://insight.vecha.in/#/${e}accounts/`,a["default"].prototype.$explorerBlock=`https://insight.vecha.in/#/${e}blocks/`,a["default"].prototype.$explorerTx=`https://insight.vecha.in/#/${e}txs/`}async function Yi(){if(window.connex)Ji.log("Connex ok",window.connex),a["default"].prototype.$connex=new(qi())({network:window.connex.thor.genesis,node:"",noV1Compat:!1,noExtension:!k}),Wi("");else{const e=w?"solo":"main",s=localStorage.getItem("last-net")||e;if(Ji.log("net",s),["test","main","solo"].includes(s))Wi(s),a["default"].prototype.$connex=A(s);else if(T(s)){const e=$(s);if(e)try{const t=await B(e);if(t){const e={number:0,id:t.genesisId,size:0,parentID:"0x0000000000000000000000000000000000000000000000000000000000000000",timestamp:0,gasLimit:0,beneficiary:"0x0000000000000000000000000000000000000000",gasUsed:0,totalScore:0,txsRoot:"0x0000000000000000000000000000000000000000000000000000000000000000",txsFeatures:0,stateRoot:"0x0000000000000000000000000000000000000000000000000000000000000000",receiptsRoot:"0x0000000000000000000000000000000000000000000000000000000000000000",signer:"0x0000000000000000000000000000000000000000",isTrunk:!0,transactions:[]},s=t.nodeUrl.endsWith("/")?t.nodeUrl:t.nodeUrl+"/";a["default"].prototype.$explorerAccount=`${s}accounts/`,a["default"].prototype.$explorerBlock=`${s}blocks/`,a["default"].prototype.$explorerTx=`${s}transactions/`,a["default"].prototype.$connex=new(qi())({network:e,node:t.nodeUrl,noExtension:!k})}else Ji.error("Custom network not found, falling back to mainnet"),localStorage.setItem("last-net","main"),Wi("main"),a["default"].prototype.$connex=A("main")}catch(t){Ji.error("Failed to load custom network:",t),localStorage.setItem("last-net","main"),Wi("main"),a["default"].prototype.$connex=A("main")}}else{const t=localStorage.getItem("custom-node"),e=JSON.parse(localStorage.getItem("custom-network")||"");if(t&&e){if("0x000000000b2bce3c70bc649a02749e8687721b09ed2e15997f466536b20bb127"===e.id)Wi("test");else if("0x00000000851caf3cfdb6e899cf5958bfb1ac3413d346d43539627e6be7ec1b4a"===e.id)Wi("main");else{const e=t.endsWith("/")?t:t+"/";a["default"].prototype.$explorerAccount=`${e}accounts/`,a["default"].prototype.$explorerBlock=`${e}blocks/`,a["default"].prototype.$explorerTx=`${e}transactions/`}a["default"].prototype.$connex=new(qi())({network:e,node:t})}}}Gi(),new a["default"]({router:zi,render:t=>t(lt)}).$mount("#app")}a["default"].use(n.Ay,{defaultIconPack:"fas"}),a["default"].use(r.Ay,{events:"blur",validity:!0}),a["default"].use(Vi(),{id:"UA-132391998-2",disabled:!0}),a["default"].config.productionTip=!1,Yi()},7790:function(){},2634:function(){},5340:function(){},9838:function(){}},e={};function s(a){var i=e[a];if(void 0!==i)return i.exports;var n=e[a]={id:a,loaded:!1,exports:{}};return t[a].call(n.exports,n,n.exports,s),n.loaded=!0,n.exports}s.m=t,function(){var t=[];s.O=function(e,a,i,n){if(!a){var r=1/0;for(d=0;d<t.length;d++){a=t[d][0],i=t[d][1],n=t[d][2];for(var o=!0,c=0;c<a.length;c++)(!1&n||r>=n)&&Object.keys(s.O).every((function(t){return s.O[t](a[c])}))?a.splice(c--,1):(o=!1,n<r&&(r=n));if(o){t.splice(d--,1);var l=i();void 0!==l&&(e=l)}}return e}n=n||0;for(var d=t.length;d>0&&t[d-1][2]>n;d--)t[d]=t[d-1];t[d]=[a,i,n]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var a in e)s.o(e,a)&&!s.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){s.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={524:0};s.O.j=function(e){return 0===t[e]};var e=function(e,a){var i,n,r=a[0],o=a[1],c=a[2],l=0;if(r.some((function(e){return 0!==t[e]}))){for(i in o)s.o(o,i)&&(s.m[i]=o[i]);if(c)var d=c(s)}for(e&&e(a);l<r.length;l++)n=r[l],s.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return s.O(d)},a=self["webpackChunkinspector_app"]=self["webpackChunkinspector_app"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=s.O(void 0,[504],(function(){return s(9460)}));a=s.O(a)})();
//# sourceMappingURL=app-legacy.fe0a42d7.js.map