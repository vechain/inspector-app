(function(){var t={9849:function(t,e,s){"use strict";var a=s(5471);const i=s(1594);Object.defineProperty(window,"BUS",{value:new a["default"],enumerable:!0,writable:!1}),window.BUS.$alert=t=>{BUS.$buefy.dialog.confirm({title:"Error",type:"is-danger",message:`${t}`,hasIcon:!0,cancelText:"Close",confirmText:"Open an issue",onConfirm:()=>{window.open("https://github.com/vechain/inspector-app/issues","_blank")}})},Object.defineProperty(window,"BN",{value:i,enumerable:!0,writable:!1});var n=s(4915),r=s(5261);r.Dr.extend("bytecode",{getMessage:t=>`${t} field is invalid.`,validate:t=>{const e=/^(0x|0X)[a-fA-F0-9]+$/;return e.test(t)&&t.length%2===0}}),r.Dr.extend("vet",{getMessage:t=>`${t} field is invalid, (positive number and limited to 18 decimal places).`,validate:t=>{const e=BN(t),s=BN(e.multipliedBy(1e18));return s.isInteger()&&!s.isNegative()}});const o={en:{attributes:{code:"Byte Code"}}};r.Dr.localize(o);var l=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("body",{staticClass:"has-navbar-fixed-top"},[e("Navbar",{staticClass:"is-fixed-top"}),e("div",{staticClass:"router-view"},[e("router-view")],1)],1)},c=[],d=s(1635),u=s(8657),p=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("nav",{staticClass:"navbar is-dark",attrs:{role:"navigation","aria-label":"main navigation"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"navbar-brand is-marginless"},[e("h2",{staticClass:"subtitle has-text-white is-2",staticStyle:{"padding-left":"20px"}},[t._v("Inspector")]),e("a",{staticClass:"navbar-burger",class:{"is-active":t.burgerActive},attrs:{role:"button"},on:{click:function(e){t.burgerActive=!t.burgerActive}}},[e("span",{attrs:{"aria-hidden":"true"}}),e("span",{attrs:{"aria-hidden":"true"}}),e("span",{attrs:{"aria-hidden":"true"}})])]),e("div",{staticClass:"navbar-menu",class:{"is-active":t.burgerActive}},[e("div",{staticStyle:{width:"40px"}}),e("div",{staticClass:"navbar-start"},[t._l(t.routes,(function(s,a){return e("router-link",{key:a,staticClass:"navbar-item",attrs:{exact:"",to:{name:s.name}}},[t._v(t._s(s.text))])})),t.views.length?e("div",{staticClass:"navbar-item has-dropdown is-hoverable"},[e("a",{staticClass:"navbar-link"},[t._v("Views")]),e("div",{staticClass:"navbar-dropdown"},[e("router-link",{staticClass:"navbar-item",attrs:{to:{name:"filter_mgt"}}},[t._v("All")]),e("hr",{staticClass:"navbar-divider"}),t._l(t.views,(function(s,a){return e("router-link",{key:a,staticClass:"navbar-item",attrs:{to:{name:"filter_view",params:{id:s.id}}}},[t._v(t._s(s.name))])}))],2)]):t._e(),t.shortCuts?e("router-link",{staticClass:"navbar-item",attrs:{"active-class":"has-background-grey-dark",to:{name:"short_cuts"}}},[t._v("Shortcuts")]):t._e()],2),e("div",{staticClass:"navbar-end",staticStyle:{"padding-right":"20px"}},[1===t.networks.length?e("b-tag",{staticStyle:{margin:"auto 0px"},attrs:{size:"is-medium",type:"is-warning"}},[t._v(t._s(t.networks[0].label))]):t._e(),t.networks.length>1?e("b-dropdown",{staticStyle:{"vertical-align":"top"},attrs:{size:"sm",text:t.network,"toggle-class":"py-0 px-1"}},[e("template",{slot:"trigger"},[e("b-button",{staticClass:"navbar-item",attrs:{type:"is-dark",label:t.network,"icon-right":"caret-down"}})],1),t._l(t.switchableNetworks,(function(s,a){return e("b-dropdown-item",{key:a,attrs:{value:s.name},on:{click:function(e){return t.onChange(s.name)}}},[t._v(t._s(s.label))])}))],2):t._e(),e("a",{staticClass:"navbar-item",attrs:{href:"https://github.com/vechain/inspector-app",target:"_blank"}},[t._v("GitHub")])],1)])])])},m=[],h=s(7054),b=(s(8760),s(6763));class f extends h.A{constructor(){super("inspect"),this.version(2).stores({contracts:"++id, &address, name",filters:"++id, address, name, contractName",shortCuts:"++id, address, name, contractName"}),this.version(3).stores({shortCuts:"++id, address, name, contractName, fromPrototype",filters:"++id, address, name, contractName, fromPrototype"}),this.version(4).stores({contracts:"++id, &address, name, network"}),this.version(5).stores({contracts:"++id, address, name, network"}),this.version(6).stores({contracts:"++id, address, name, network, category, order"}),this.open().catch((t=>{b.error(t)}))}subscribe(t,e){const s=this.on("changes"),a=s=>{s=s.filter((e=>e.table===t)),s.length>0&&e(s)};return s.subscribe(a),{unsubscribe:()=>s.unsubscribe(a)}}}const y=new f;var g=y,v=s(6130);const C=()=>{if({NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_IS_DOCKER){const t="VUE_APP_SOLO_URL_PLACEHOLDER";return t}return{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_SOLO_URL},x=!!C(),w={main:"https://mainnet.vechain.org",test:"https://testnet.vechain.org",solo:C()||"http://localhost:8669",custom:""},_={number:0,id:"0x00000000c05a20fbca2bf6ae3affba6af4a74b800b585bf7a4988aba7aea69f6",size:170,parentID:"0xffffffff53616c757465202620526573706563742c20457468657265756d2100",timestamp:1530316800,gasLimit:1e7,beneficiary:"0x0000000000000000000000000000000000000000",gasUsed:0,totalScore:0,txsRoot:"0x45b0cfc220ceec5b7c1c62c4d4193d38e4eba48e8815729ce75f9c0ab0e4c1c0",txsFeatures:0,stateRoot:"0x93de0ffb1f33bc0af053abc2a87c4af44594f5dcb1cb879dd823686a15d68550",receiptsRoot:"0x45b0cfc220ceec5b7c1c62c4d4193d38e4eba48e8815729ce75f9c0ab0e4c1c0",signer:"0x0000000000000000000000000000000000000000",isTrunk:!0,transactions:[]},k=!!window.vechain;function A(t){if(t){const e=w[t];return"solo"==t?new v.A({node:e,network:_,noExtension:!k}):new v.A({node:e,network:t,noExtension:!k})}{const t=window.connex;return t?new v.A({node:"",network:t.thor.genesis,noExtension:!k}):x?new v.A({node:w.solo,network:_,noExtension:!k}):new v.A({node:w.main,noExtension:!k})}}function I(t){switch(t){case"0x00000000851caf3cfdb6e899cf5958bfb1ac3413d346d43539627e6be7ec1b4a":return"main";case"0x000000000b2bce3c70bc649a02749e8687721b09ed2e15997f466536b20bb127":return"test";case"0x00000000c05a20fbca2bf6ae3affba6af4a74b800b585bf7a4988aba7aea69f6":return"solo";default:return"custom"}}function S(t){switch(t){case"main":return"0x00000000851caf3cfdb6e899cf5958bfb1ac3413d346d43539627e6be7ec1b4a";case"test":return"0x000000000b2bce3c70bc649a02749e8687721b09ed2e15997f466536b20bb127";case"solo":return"0x00000000c05a20fbca2bf6ae3affba6af4a74b800b585bf7a4988aba7aea69f6";default:return""}}let $=class extends u.lD{constructor(){super(...arguments),this.routes=[{name:"contracts",text:"Contracts"},{name:"deploy",text:"Deploy"}],this.burgerActive=!1,this.views=[],this.shortCuts=0,this.node=localStorage.getItem("custom-node"),this.genesis=localStorage.getItem("custom-network")}get hasConnex(){return!!window.connex}get hasCustom(){return!!this.node&&!!this.genesis}get network(){switch(I(this.$connex.thor.genesis.id)){case"main":return"Mainnet";case"test":return"Testnet";case"solo":return"Solonet";default:return"Custom"}}get networks(){return x?[{name:"solo",label:"SoloNet"}]:[{name:"main",label:"Mainnet"},{name:"test",label:"Testnet"},...x?[{name:"solo",label:"Solonet"}]:[]]}get switchableNetworks(){return this.networks.filter((t=>this.$connex.thor.genesis.id!==S(t.name)))}onChange(t){localStorage.setItem("last-net",t),window.location.href=window.location.origin}async getList(){this.views=await g.filters.filter((t=>t.network===this.network||void 0===t.network)).limit(5).toArray()}async countShortCuts(){this.shortCuts=await g.shortCuts.filter((t=>t.network===this.network||void 0===t.network)).count()}};$=(0,d.Cg)([u.uA],$);var T=$,B=T,E=s(1656),D=(0,E.A)(B,p,m,!1,null,"611d79ae",null),O=D.exports;let M=class extends u.lD{created(){this.$ga.page("/inspector")}mounted(){this.$connex||this.$router.push({name:"notSupport"})}};M=(0,d.Cg)([(0,u.uA)({components:{Navbar:O}})],M);var P=M,F=P,N=(0,E.A)(F,l,c,!1,null,null,null),L=N.exports,z=s(3458);u.lD.filter("addr",(t=>{const e=t.startsWith("0x")?t:`0x${t}`;return e.substring(0,8)+"…"+e.substring(e.length-8,e.length)})),u.lD.filter("datetime",(t=>new Date(t).toLocaleString())),u.lD.filter("toChecksumAddress",(t=>{if(t)return z.h.toChecksumed(t)}));var R=s(1394);function V(t,e){const s=(0,R.H)(e.toLowerCase());return"IMG"===t.nodeName?`data:image/svg+xml;utf8,${s}`:`no-repeat url('data:image/svg+xml;utf8,${s}')`}u.lD.directive("ident",{update(t,e){if(e.value!==e.oldValue)if("IMG"===t.nodeName){const s=t;s.src=V(t,e.value)}else t.style.background=V(t,e.value),t.style.backgroundSize="cover"},inserted(t,e){if(e.value!==e.oldValue)if("IMG"===t.nodeName){const s=t;s.src=V(t,e.value)}else t.style.background=V(t,e.value),t.style.backgroundSize="cover"}}),u.lD.directive("inview",{update(t,e,s){const a=document.querySelector(e.value);let i;const n=t.offsetTop,r=t.clientHeight;t.style.transition="margin-top 0.15s",a.onscroll=e=>{window.clearTimeout(i),i=window.setTimeout((()=>{const s=e.target.scrollTop;if(s>n){const e=s-(n-r);t.style.marginTop=(e>0?e:0)+"px"}else t.style.marginTop="0px"}),100)}}});var j=s(173),q=function(){var t=this;t._self._c,t._self._setupProxy;return t._m(0)},U=[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticStyle:{width:"500px",margin:"140px auto","font-size":"25px"}},[t._v(" Inspector only supported for the "),e("strong",{staticStyle:{color:"#26a69a"}},[t._v("Main")]),t._v(" or "),e("strong",{staticStyle:{color:"#26a69a"}},[t._v("Test")]),t._v(" net. if you need other networks, please check on "),e("a",{attrs:{target:"_blank",href:"https://github.com/vechain/inspector-app"}},[e("strong",[t._v("GitHub")])])])}];let J=class extends u.lD{};J=(0,d.Cg)([u.uA],J);var H=J,Q=H,W=(0,E.A)(Q,q,U,!1,null,null,null),X=W.exports,G=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("section",{staticClass:"section"},[e("div",{staticClass:"level container"},[t._m(0),e("div",{staticClass:"level-right"},[e("button",{staticClass:"button is-primary is-outlined",staticStyle:{"margin-right":"10px"},on:{click:t.onImport}},[e("b-icon",{attrs:{icon:"upload"}})],1),e("button",{staticClass:"button is-primary is-outlined",on:{click:t.addItem}},[e("b-icon",{attrs:{icon:"plus"}})],1),e("input",{ref:"files",staticClass:"is-hidden",attrs:{type:"file",accept:"application/json"}})])]),e("div",{staticClass:"container search-container"},[e("b-field",[e("b-input",{attrs:{placeholder:"Search by name or address...",icon:"search","icon-right":"times-circle","icon-right-clickable":"",expanded:""},on:{"icon-right-click":t.clearSearch},model:{value:t.searchQuery,callback:function(e){t.searchQuery=e},expression:"searchQuery"}})],1)],1),t.filteredContracts.length?e("div",{staticClass:"section"},t._l(t.sortedCategories,(function(s){return e("div",{key:s,staticClass:"category-section"},[e("div",{staticClass:"container"},[e("div",{staticClass:"category-header"},[e("h2",{staticClass:"subtitle category-title"},[t._v(" "+t._s(s||"Uncategorized")+" "),s?e("button",{staticClass:"button is-small is-text",on:{click:function(e){return t.renameCategory(s)}}},[e("b-icon",{attrs:{icon:"pen",size:"is-small"}})],1):t._e(),e("span",{staticClass:"tag is-light is-rounded",staticStyle:{"background-color":"#e9ecef"}},[t._v(t._s(t.getCategoryContracts(s).length))])]),e("div",{staticClass:"category-actions"},[e("button",{staticClass:"button is-small is-text",attrs:{disabled:0===t.sortedCategories.indexOf(s),title:"Move category up"},on:{click:function(e){return t.moveCategoryUp(s)}}},[e("b-icon",{attrs:{icon:"chevron-up",size:"is-small"}})],1),e("button",{staticClass:"button is-small is-text",attrs:{disabled:t.sortedCategories.indexOf(s)===t.sortedCategories.length-1,title:"Move category down"},on:{click:function(e){return t.moveCategoryDown(s)}}},[e("b-icon",{attrs:{icon:"chevron-down",size:"is-small"}})],1)])]),e("div",{staticClass:"columns is-variable is-2 is-multiline"},[t._l(t.getCategoryContracts(s),(function(a,i){return e("div",{key:a.id,staticClass:"column is-3-fullhd is-6-desktop is-6-tablet is-12-mobile",class:{"drop-target":t.dropTarget&&t.dropTarget.category===s&&t.dropTarget.index===i},on:{dragover:function(e){return e.preventDefault(),t.handleDragOver(e,s,i)},dragleave:t.handleDragLeave,drop:function(e){return t.handleDrop(e,s,i)}}},[t.dropTarget&&t.dropTarget.category===s&&t.dropTarget.index===i?e("div",{staticClass:"drop-indicator"}):t._e(),e("Contract",{attrs:{variant:"list",item:a},on:{select:function(e){return t.onSelect(a.id)},edit:function(e){return t.edit(a)},dragstart:t.handleDragStartContract,dragend:t.handleDragEndContract,export:function(e){return t.exportJson(a)},delete:function(e){return t.remove(a)}}})],1)})),t.getCategoryContracts(s).length>0&&t.draggedContract?e("div",{staticClass:"column is-3-fullhd is-6-desktop is-6-tablet is-12-mobile drop-zone-end",class:{"drop-target":t.dropTarget&&t.dropTarget.category===s&&t.dropTarget.index===t.getCategoryContracts(s).length},on:{dragover:function(e){e.preventDefault(),t.handleDragOver(e,s,t.getCategoryContracts(s).length)},dragleave:t.handleDragLeave,drop:function(e){t.handleDrop(e,s,t.getCategoryContracts(s).length)}}},[t.dropTarget&&t.dropTarget.category===s&&t.dropTarget.index===t.getCategoryContracts(s).length?e("div",{staticClass:"drop-indicator"}):t._e()]):t._e()],2)])])})),0):t._e(),t.isloading||!t.contracts.length||t.filteredContracts.length?t._e():e("div",{staticClass:"section"},[e("div",{staticClass:"container"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-content has-text-centered is-size-4 has-text-grey-light"},[t._v(' No contracts found matching "'+t._s(t.searchQuery)+'" ')]),e("div",{staticClass:"card-footer"},[e("a",{staticClass:"card-footer-item",on:{click:t.clearSearch}},[t._v("Clear Search")])])])])]),t.isloading||t.contracts.length?t._e():e("div",{staticClass:"section"},[e("div",{staticClass:"container"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-content has-text-centered is-size-2 has-text-grey-light"},[t._v("No contracts here!")]),e("div",{staticClass:"card-footer"},[e("a",{staticClass:"card-footer-item",on:{click:t.addItem}},[t._v("Add")])])])])]),e("b-modal",{attrs:{width:640,canCancel:["outside"],active:t.isModalActive},on:{"update:active":function(e){t.isModalActive=e}}},[e("EditContract",{attrs:{item:t.currentItem,isImport:t.isImport},on:{cancel:t.onCancel,finished:t.reload}})],1)],1)},Y=[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"level-left"},[e("h1",{staticClass:"title level-item"},[t._v("Contracts")])])}],K=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("form",[e("div",{staticClass:"modal-card"},[e("header",{staticClass:"modal-card-head"},[e("span",{staticClass:"modal-card-title"},[t._v(t._s(t.context.title))])]),e("section",{staticClass:"modal-card-body"},[e("b-field",{attrs:{type:t.formMessage.name.isError?"is-danger":"",message:t.formMessage.name.message,label:"name"}},[e("b-autocomplete",{attrs:{data:t.filteredContracts,field:"name",clearable:!0,"open-on-focus":""},on:{blur:t.checkName,select:t.onSelectContract,typing:t.filterContractsByName},scopedSlots:t._u([{key:"default",fn:function({option:s}){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-content"},[e("p",[t._v(t._s(s.name))]),e("p",{staticClass:"is-size-7 has-text-grey-light"},[t._v(t._s(s.address))])])])]}}]),model:{value:t.nameInput,callback:function(e){t.nameInput=e},expression:"nameInput"}})],1),e("b-field",{attrs:{type:t.formMessage.address.isError?"is-danger":"",message:t.formMessage.address.message,label:"address"}},[e("b-input",{attrs:{"custom-class":"is-family-monospace has-text-weight-semibold",message:t.formMessage.address.message,type:"text"},on:{blur:t.checkAddress},model:{value:t.form.address,callback:function(e){t.$set(t.form,"address",e)},expression:"form.address"}})],1),e("b-field",{attrs:{type:t.formMessage.abi.isError?"is-danger":"",message:t.formMessage.abi.message,label:"ABI"}},[e("b-input",{attrs:{message:t.formMessage.abi.message,type:"textarea"},on:{blur:t.checkABI},model:{value:t.form.abi,callback:function(e){t.$set(t.form,"abi",e)},expression:"form.abi"}})],1),e("b-field",[e("button",{staticClass:"button is-info is-light is-fullwidth",class:{"is-loading":t.fetchingABI},attrs:{type:"button",disabled:!t.form.address||t.fetchingABI},on:{click:t.fetchABIFromSourcify}},[t.fetchingABI?t._e():e("b-icon",{attrs:{icon:"download",size:"is-small"}}),e("span",[t._v(t._s(t.fetchingABI?t.fetchStatus:"Fetch Latest ABI from Sourcify"))])],1)]),e("b-field",{attrs:{label:"Category (optional)"}},[e("b-autocomplete",{attrs:{data:t.filteredCategories,placeholder:"Select or create a category","open-on-focus":"",clearable:"","append-to-body":"","max-height":"200"},on:{typing:t.getFilteredCategories},model:{value:t.form.category,callback:function(e){t.$set(t.form,"category",e)},expression:"form.category"}},[e("template",{slot:"empty"},[t._v("Type to create new category")])],2)],1),t.isImport&&t.isEdit?e("b-message",{attrs:{type:"is-warning"}},[t._v(" The contract exists, are you sure to override it? ")]):t._e()],1),e("footer",{staticClass:"modal-card-foot"},[e("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.close.apply(null,arguments)}}},[t._v("Cancel")]),e("button",{staticClass:"button is-primary",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.submit.apply(null,arguments)}}},[t._v(t._s(t.context.btn))])])])])},Z=[];const tt=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"}],et=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"operator",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"owner",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"_approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"}],st={name:"Authority (Built-in)",abi:"https://raw.githubusercontent.com/vechain/b32/refs/heads/master/ABIs/authority.json"},at={name:"VTHO (Built-in)",abi:"https://raw.githubusercontent.com/vechain/b32/refs/heads/master/ABIs/energy.json"},it={name:"Executor (Built-in)",abi:"https://raw.githubusercontent.com/vechain/b32/refs/heads/master/ABIs/executor.json"},nt={name:"Staker (Built-in)",abi:"https://raw.githubusercontent.com/vechain/b32/refs/heads/master/ABIs/staker.json"},rt={name:"Extension (Built-in)",abi:"https://raw.githubusercontent.com/vechain/b32/refs/heads/master/ABIs/extension.json"},ot={name:"Params (Built-in)",abi:"https://raw.githubusercontent.com/vechain/b32/refs/heads/master/ABIs/params.json"},lt={name:"Prototype (Built-in)",abi:"https://raw.githubusercontent.com/vechain/b32/refs/heads/master/ABIs/prototype.json"},ct={name:"B3TR",abi:"https://raw.githubusercontent.com/vechain/b32/refs/heads/master/ABIs/VeBetterDAO-b3tr.json"},dt={name:"B3TR - Governor",abi:"https://raw.githubusercontent.com/vechain/b32/refs/heads/master/ABIs/VeBetterDAO-b3tr-governor.json"},ut={name:"B3TR - Emissions",abi:"https://raw.githubusercontent.com/vechain/b32/refs/heads/master/ABIs/VeBetterDAO-emissions.json"},pt={name:"B3TR - Galaxy Member",abi:"https://raw.githubusercontent.com/vechain/b32/refs/heads/master/ABIs/VeBetterDAO-galaxy-member.json"},mt={name:"B3TR - TimeLock",abi:"https://raw.githubusercontent.com/vechain/b32/refs/heads/master/ABIs/VeBetterDAO-timelock.json"},ht={name:"B3TR - Treasury",abi:"https://raw.githubusercontent.com/vechain/b32/refs/heads/master/ABIs/VeBetterDAO-treasury.json"},bt={name:"VOT3",abi:"https://raw.githubusercontent.com/vechain/b32/refs/heads/master/ABIs/VeBetterDAO-vot3.json"},ft={name:"B3TR - VoterRewards",abi:"https://raw.githubusercontent.com/vechain/b32/refs/heads/master/ABIs/VeBetterDAO-voter-rewards.json"},yt={name:"B3TR - X2EarnApps",abi:"https://raw.githubusercontent.com/vechain/b32/refs/heads/master/ABIs/VeBetterDAO-x-2-earn-apps.json"},gt={name:"B3TR - X2EarnRewardsPool",abi:"https://raw.githubusercontent.com/vechain/b32/refs/heads/master/ABIs/VeBetterDAO-x-2-earn-rewards-pool.json"},vt={name:"B3TR - XAllocationPool",abi:"https://raw.githubusercontent.com/vechain/b32/refs/heads/master/ABIs/VeBetterDAO-x-allocation-pool.json"},Ct={name:"B3TR - XAllocationVoting",abi:"https://raw.githubusercontent.com/vechain/b32/refs/heads/master/ABIs/VeBetterDAO-x-allocations-voting.json"},xt={name:"B3TR - VeBetterPassport",abi:"https://raw.githubusercontent.com/vechain/b32/refs/heads/master/ABIs/VeBetterDAO-ve-better-passport.json"},wt={"Enter ERC20 Address":{name:"ERC20",abi:tt},"Enter ERC721 Address":{name:"ERC721",abi:et},"0x0000000000000000000000417574686f72697479":st,"0x0000000000000000000000000000456e65726779":at,"0x0000000000000000000000004578656375746f72":it,"0x0000000000000000000000457874656e73696f6e":rt,"0x0000000000000000000000000000506172616d73":ot,"0x000000000000000000000050726f746f74797065":lt,"0x00000000000000000000000000005374616b6572":nt},_t={"0x00000000851caf3cfdb6e899cf5958bfb1ac3413d346d43539627e6be7ec1b4a":{...wt,"0x5ef79995FE8a89e0812330E4378eB2660ceDe699":ct,"0x1c65C25fABe2fc1bCb82f253fA0C916a322f777C":dt,"0xDf94739bd169C84fe6478D8420Bb807F1f47b135":ut,"0x93B8cD34A7Fc4f53271b9011161F7A2B5fEA9D1F":pt,"0x7B7EaF620d88E38782c6491D7Ce0B8D8cF3227e4":mt,"0xD5903BCc66e439c753e525F8AF2FeC7be2429593":ht,"0x76Ca782B59C74d088C7D2Cce2f211BC00836c602":bt,"0x838A33AF756a6366f93e201423E1425f67eC0Fa7":ft,"0x8392B7CCc763dB03b47afcD8E8f5e24F9cf0554D":yt,"0x6Bee7DDab6c99d5B2Af0554EaEA484CE18F52631":gt,"0x4191776F05f4bE4848d3f4d587345078B439C7d3":vt,"0x89A00Bb0947a30FF95BEeF77a66AEdE3842Fe5B7":Ct,"0x35a267671d8EDD607B2056A9a13E7ba7CF53c8b3":xt},"0x000000000b2bce3c70bc649a02749e8687721b09ed2e15997f466536b20bb127":{...wt,"0xbf64cf86894Ee0877C4e7d03936e35Ee8D8b864F":ct,"0xDF5E114D391CAC840529802fe8D01f6bdeBE41eC":dt,"0x148d21032F4a7b4aeF236E2E9C0c5bF62d10f8EB":ut,"0xCf73039913e05aa1838d5869E72290d2b454C1E8":pt,"0x30ee94F303643902a68aD8A7A6456cA69d763192":mt,"0x039893EBe092A2D22B08E2b029735D211bfF7F50":ht,"0xa704c45971995467696EE9544Da77DD42Bc9706E":bt,"0x2E47fc4aabB3403037fB5E1f38995E7a91Ce8Ed2":ft,"0xcB23Eb1bBD5c07553795b9538b1061D0f4ABA153":yt,"0x5F8f86B8D0Fa93cdaE20936d150175dF0205fB38":gt,"0x9B9CA9D0C41Add1d204f90BA0E9a6844f1843A84":vt,"0x5859ff910d8b0c127364c98E24233b0af7443c1c":Ct}};var kt=s(6763);let At=class extends u.lD{constructor(){super(...arguments),this.formMessage={abi:{isError:!1,message:""},address:{isError:!1,message:""},name:{isError:!1,message:""}},this.form={id:0,name:"",address:"",abi:"",category:""},this.nameInput="",this.filteredContracts=[],this.allContracts=[],this.categories=[],this.filteredCategories=[],this.fetchingABI=!1,this.fetchStatus=""}get context(){const t={title:"Add Contract",btn:"Add"};return this.isEdit&&(t.title="Edit Contract",t.btn=this.isImport?"Override":"Save"),t}get isEdit(){return this.item&&this.item.id}async created(){await this.loadCategories(),this.initForm(),this.loadBuiltinContracts()}loadBuiltinContracts(){const t=this.$connex.thor.genesis.id,e=_t[t]||{};this.allContracts=Object.entries(e).map((([t,e])=>({name:e.name,address:t})))}async onSelectContract(t){if(!t)return;this.form.name=t.name,this.nameInput=t.name,this.form.address=t.address;const e=this.$connex.thor.genesis.id,s=_t[e]||{},a=s[t.address];if(a&&a.abi){if("string"!==typeof a.abi)return void(this.form.abi=JSON.stringify(a.abi,null,2));try{const t=await fetch(a.abi);if(t.ok){const e=await t.json();this.form.abi=JSON.stringify(e,null,2)}}catch(i){kt.error("Failed to load ABI from URL",i)}}}close(){this.$emit("cancel")}async loadCategories(){const t=this.$connex.thor.genesis.id,e=await g.contracts.filter((e=>e.network===t||void 0===e.network)).toArray(),s=new Set;e.forEach((t=>{t.category&&s.add(t.category)})),this.categories=Array.from(s).sort(),this.filteredCategories=this.categories}getFilteredCategories(t){this.filteredCategories=this.categories.filter((e=>e.toLowerCase().indexOf(t.toLowerCase())>=0))}initForm(){const t=this.item;t&&t.address?(this.form.name=t.name||"",this.nameInput=t.name||"",this.form.address=t.address||"",this.form.abi=t.abi?JSON.stringify(t.abi,null,2):"",this.form.id=t.id||0,this.form.category=t.category||""):(this.form={name:"",address:"",abi:"",id:0,category:""},this.nameInput="")}onNameInputChange(t){this.form.name=t}async onAbiChange(t){if(this.form.name)return;let e;try{e=JSON.parse(t)}catch(s){return}if(this.form.address){const t=e.filter((t=>"name"===t.name));if(t.length>0){const e=await this.$connex.thor.account(this.form.address).method(t[0]).call();e.reverted||e.vmError||!e.decoded||(this.form.name=e.decoded[0])}}}filterContractsByName(t){if(!t)return void(this.filteredContracts=[]);const e=t.toLowerCase();this.filteredContracts=this.allContracts.filter((t=>t.name.toLowerCase().includes(e)))}async submit(){if(this.form.category&&"uncategorized"===this.form.category.trim().toLowerCase())return void this.$buefy.toast.open({message:'Category name "Uncategorized" is reserved. Please choose another name.',type:"is-danger",duration:2500,position:"is-bottom"});if(!this.checkform())return;let t;const e=this.isEdit&&(this.item?.category||"")!==(this.form.category||"");if(!this.isEdit||e){const s=this.$connex.thor.genesis.id,a=await g.contracts.filter((t=>(t.network===s||void 0===t.network)&&(t.category||"")===(this.form.category||"")&&(!e||t.id!==this.item?.id))).toArray(),i=a.reduce(((t,e)=>Math.max(t,e.order||0)),-1);t=i+1}else t=this.item?.order;const s={name:this.form.name,address:this.form.address.toLowerCase(),abi:JSON.parse(this.form.abi),network:this.$connex.thor.genesis.id,createdTime:Date.now(),category:this.form.category||void 0,order:t};try{this.isEdit?await g.contracts.where("id").equals(this.form.id).modify(s):await g.contracts.add(s)}catch(a){kt.error(a)}finally{this.$emit("finished")}}async fetchABIFromSourcify(){if(!this.form.address)return;const t=this.getSourcifyChainID();if(t){this.fetchingABI=!0,this.fetchStatus="Checking for proxy...";try{const t=this.form.address.toLowerCase();let s=null;try{s=await this.getImplementationAddress(t)}catch(e){kt.warn("Proxy detection failed, continuing with original address:",e)}if(s){this.fetchStatus="Proxy detected! Fetching implementation ABI...";const t=await this.loadABI(s);if(t)return void this.$buefy.toast.open({message:`Implementation ABI loaded! (${s.slice(0,10)}...)`,type:"is-success",duration:3e3,position:"is-bottom"});this.fetchStatus="Implementation not found, trying proxy address..."}this.fetchStatus="Fetching ABI from Sourcify...";const a=await this.loadABI(t);a?s?this.$buefy.toast.open({message:`⚠️ Loaded Proxy ABI (implementation ${s.slice(0,10)}... not verified)`,type:"is-warning",duration:4e3,position:"is-bottom"}):this.$buefy.toast.open({message:"ABI loaded successfully!",type:"is-success",duration:2500,position:"is-bottom"}):this.$buefy.toast.open({message:"Could not find ABI on Sourcify for this contract",type:"is-warning",duration:3e3,position:"is-bottom"})}catch(s){kt.error("Error fetching ABI:",s),this.$buefy.toast.open({message:`Error fetching ABI: ${s instanceof Error?s.message:"Unknown error"}`,type:"is-danger",duration:3e3,position:"is-bottom"})}finally{this.fetchingABI=!1,this.fetchStatus=""}}else this.$buefy.toast.open({message:"Sourcify is not supported for this network (Solo/Local)",type:"is-warning",duration:3e3,position:"is-bottom"})}async getImplementationFromSourcify(t){const e=this.getSourcifyChainID();if(!e)return null;try{const s=await fetch(`https://sourcify.dev/server/check-by-addresses?addresses=${t}&chainIds=${e}`);if(s.ok){const a=await s.json();if(a&&a[0]&&"perfect"===a[0].status){const s=await fetch(`https://sourcify.dev/server/repository/contracts/full_match/${e}/${t}/metadata.json`);if(s.ok){const t=await s.json();if(t.settings?.compilationTarget){const e=Object.values(t.settings.compilationTarget)[0];"string"===typeof e&&(e.toLowerCase().includes("proxy")||e.toLowerCase().includes("upgradeable"))}}}}}catch(s){kt.warn("Sourcify metadata check failed:",s)}return null}async getImplementationAddress(t){try{const s="0x360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc",a="0xc5f16f0fcc639fa48a6947836d9850f504798523bf8c9a3a87d5876cf622bcf7",i="0x7050c9e0f4ca769c69bd3a8ef740bc37934f8e2c036e5a723fd8ee048ed3f8c3";try{const e=await this.$connex.thor.account(t).getStorage(s);if(e&&e.value&&"0x0000000000000000000000000000000000000000000000000000000000000000"!==e.value){const t="0x"+e.value.slice(-40);if("0x0000000000000000000000000000000000000000"!==t)return t}}catch(e){kt.warn("EIP-1967 check failed:",e)}try{const e=await this.$connex.thor.account(t).getStorage(a);if(e&&e.value&&"0x0000000000000000000000000000000000000000000000000000000000000000"!==e.value){const t="0x"+e.value.slice(-40);if("0x0000000000000000000000000000000000000000"!==t)return t}}catch(e){kt.warn("EIP-1822 check failed:",e)}try{const e=await this.$connex.thor.account(t).getStorage(i);if(e&&e.value&&"0x0000000000000000000000000000000000000000000000000000000000000000"!==e.value){const t="0x"+e.value.slice(-40);if("0x0000000000000000000000000000000000000000"!==t)return t}}catch(e){kt.warn("OZ old slot check failed:",e)}try{const e={constant:!0,inputs:[],name:"implementation",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},s=await this.$connex.thor.account(t).method(e).call();if(s&&!s.reverted&&s.decoded&&s.decoded[0]){const t=s.decoded[0].toLowerCase();if("0x0000000000000000000000000000000000000000"!==t)return t}}catch(e){kt.warn("implementation() method check failed:",e)}try{const e={constant:!0,inputs:[],name:"getImplementation",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},s=await this.$connex.thor.account(t).method(e).call();if(s&&!s.reverted&&s.decoded&&s.decoded[0]){const t=s.decoded[0].toLowerCase();if("0x0000000000000000000000000000000000000000"!==t)return t}}catch(e){kt.warn("getImplementation() method check failed:",e)}return null}catch(s){return kt.error("Error detecting proxy:",s),null}}getSourcifyChainID(){const t=this.$connex.thor.genesis.id;return"0x00000000851caf3cfdb6e899cf5958bfb1ac3413d346d43539627e6be7ec1b4a"===t?"100009":"0x000000000b2bce3c70bc649a02749e8687721b09ed2e15997f466536b20bb127"===t?"100010":null}async loadABI(t){const e=this.getSourcifyChainID();if(!e)return!1;try{let s=await fetch(`https://sourcify.dev/server/repository/contracts/full_match/${e}/${t}/metadata.json`);if(200===s.status){const t=await s.json();return this.form.abi=JSON.stringify(t.output.abi,null,2),!0}if(s=await fetch(`https://sourcify.dev/server/repository/contracts/partial_match/${e}/${t}/metadata.json`),200===s.status){const t=await s.json();return this.form.abi=JSON.stringify(t.output.abi,null,2),!0}}catch(s){kt.error("Error loading ABI from Sourcify:",s)}return!1}checkform(){return this.checkABI(),this.checkAddress(),this.checkName(),!this.formMessage.name.isError&&!this.formMessage.address.isError&&!this.formMessage.abi.isError}checkABI(){if(this.form.abi)try{JSON.parse(this.form.abi),this.formMessage.abi.isError=!1,this.formMessage.abi.message=""}catch(t){this.formMessage.abi.isError=!0,this.formMessage.abi.message=t.name+": "+t.message}else this.formMessage.abi.isError=!0,this.formMessage.abi.message="ABI is required"}checkAddress(){this.form.address?z.h.test(this.form.address)?(this.formMessage.address.isError=!1,this.formMessage.address.message=""):(this.formMessage.address.isError=!0,this.formMessage.address.message="Invalid address"):(this.formMessage.address.isError=!0,this.formMessage.address.message="Address is required")}checkName(){this.form.name?this.form.name.length<1||this.form.name.length>20?(this.formMessage.name.isError=!0,this.formMessage.name.message="Requires between 1 - 20 characters"):(this.formMessage.name.isError=!1,this.formMessage.name.message=""):(this.formMessage.name.isError=!0,this.formMessage.name.message="Name is required")}};(0,d.Cg)([(0,u.kv)({default:!1})],At.prototype,"isImport",void 0),(0,d.Cg)([(0,u.kv)({default:null})],At.prototype,"item",void 0),(0,d.Cg)([(0,u.ox)("nameInput")],At.prototype,"onNameInputChange",null),(0,d.Cg)([(0,u.ox)("form.abi")],At.prototype,"onAbiChange",null),At=(0,d.Cg)([u.uA],At);var It=At,St=It,$t=(0,E.A)(St,K,Z,!1,null,null,null),Tt=$t.exports,Bt=function(){var t=this,e=t._self._c;t._self._setupProxy;return"list"===t.variant?e("div",{staticClass:"contract-card",class:{"is-dragging":t.isDragging},attrs:{draggable:"true"},on:{dragstart:t.handleDragStart,dragend:t.handleDragEnd,click:t.handleCardClick}},[e("div",{staticClass:"contract-header"},[e("div",{staticClass:"contract-info"},[e("div",{staticClass:"contract-avatar"},[e("img",{directives:[{name:"ident",rawName:"v-ident",value:t.item.address,expression:"item.address"}],attrs:{alt:"Contract avatar"}})]),e("div",{staticClass:"contract-details"},[e("h4",{staticClass:"contract-name"},[t._v(t._s(t.item.name||""))]),e("p",{staticClass:"contract-address is-family-monospace"},[t._v(t._s(t._f("addr")(t._f("toChecksumAddress")(t.item.address))))])])]),e("div",{staticClass:"dropdown is-right more-menu",class:{"is-active":t.isMenuOpen},on:{click:function(t){t.stopPropagation()}}},[e("div",{staticClass:"dropdown-trigger"},[e("button",{staticClass:"button is-small is-ghost more-button",attrs:{"aria-haspopup":"true"},on:{click:t.toggleMenu}},[e("b-icon",{attrs:{icon:"ellipsis-v",size:"is-small"}})],1)]),e("div",{staticClass:"dropdown-menu"},[e("div",{staticClass:"dropdown-content"},[e("a",{staticClass:"dropdown-item",on:{click:t.handleEdit}},[e("b-icon",{attrs:{icon:"edit",size:"is-small"}}),e("span",[t._v("Edit")])],1),e("a",{staticClass:"dropdown-item",on:{click:t.handleCopyAddress}},[e("b-icon",{attrs:{icon:"copy",size:"is-small"}}),e("span",[t._v("Copy Address")])],1),e("a",{staticClass:"dropdown-item",on:{click:t.handleExport}},[e("b-icon",{attrs:{icon:"file-export",size:"is-small"}}),e("span",[t._v("Export")])],1),e("hr",{staticClass:"dropdown-divider"}),e("a",{staticClass:"dropdown-item has-text-danger",on:{click:t.handleDelete}},[e("b-icon",{attrs:{icon:"trash-alt",size:"is-small"}}),e("span",[t._v("Delete")])],1)])])])]),e("div",{staticClass:"contract-actions"},[e("button",{staticClass:"button is-small is-outlined action-edit",on:{click:function(e){return e.stopPropagation(),t.handleView.apply(null,arguments)}}},[e("b-icon",{attrs:{icon:"eye",size:"is-small"}}),e("span",[t._v("View")])],1)])]):e("div",{staticClass:"box detail-box",class:{"img-hover":t.$listeners.select}},[e("article",{staticClass:"media"},[e("div",{staticClass:"media-left"},[e("figure",{staticClass:"image is-64x64",class:{"could-hover":t.$listeners.select}},[e("img",{directives:[{name:"ident",rawName:"v-ident",value:t.item.address,expression:"item.address"}],attrs:{alt:"Image"},on:{click:function(e){return e.stopPropagation(),t.$emit("select")}}})])]),e("div",{staticClass:"media-content"},[e("div",{staticClass:"content"},[e("p",[e("strong",[t._v(t._s(t.item.name||""))])]),t.isShort?e("p",{staticClass:"is-family-monospace has-text-weight-semibold display-6"},[t._v(t._s(t._f("addr")(t._f("toChecksumAddress")(t.item.address))))]):e("p",{staticClass:"is-family-monospace has-text-weight-semibold display-6"},[e("a",{attrs:{target:"_blank",href:`${t.$explorerAccount}${t.item.address}`}},[t._v(t._s(t._f("toChecksumAddress")(t.item.address)))])])]),e("nav",{staticClass:"level"},[e("div",{staticClass:"level-left"},[e("div",{staticClass:"level-item"},[t._t("default")],2)])])]),e("div",{staticClass:"media-right"},[e("div",{staticClass:"content"},[e("div",{staticClass:"dropdown is-right detail-more-menu",class:{"is-active":t.isMenuOpen},on:{click:function(t){t.stopPropagation()}}},[e("div",{staticClass:"dropdown-trigger"},[e("button",{staticClass:"button is-small is-ghost",attrs:{"aria-haspopup":"true"},on:{click:t.toggleMenu}},[e("b-icon",{attrs:{icon:"ellipsis-v",size:"is-small"}})],1)]),e("div",{staticClass:"dropdown-menu"},[e("div",{staticClass:"dropdown-content"},[e("a",{staticClass:"dropdown-item",on:{click:t.handleEdit}},[e("b-icon",{attrs:{icon:"edit",size:"is-small"}}),e("span",[t._v("Edit")])],1),e("a",{staticClass:"dropdown-item",on:{click:t.handleCopyAddress}},[e("b-icon",{attrs:{icon:"copy",size:"is-small"}}),e("span",[t._v("Copy Address")])],1),e("a",{staticClass:"dropdown-item",on:{click:t.handleExport}},[e("b-icon",{attrs:{icon:"file-export",size:"is-small"}}),e("span",[t._v("Export")])],1),e("a",{staticClass:"dropdown-item",on:{click:t.handleSubmitABI}},[e("b-icon",{attrs:{icon:"upload",size:"is-small"}}),e("span",[t._v("Submit JSON ABI")])],1),e("hr",{staticClass:"dropdown-divider"}),e("a",{staticClass:"dropdown-item has-text-danger",on:{click:t.handleDelete}},[e("b-icon",{attrs:{icon:"trash-alt",size:"is-small"}}),e("span",[t._v("Delete")])],1)])])]),t._t("right")],2)])])])},Et=[];let Dt=class extends u.lD{constructor(){super(...arguments),this.isMenuOpen=!1,this.isDragging=!1}handleCardClick(){this.$emit("select")}handleEdit(){this.isMenuOpen=!1,this.$emit("edit")}handleView(){this.$emit("select")}handleCopyAddress(){this.isMenuOpen=!1;const t=this.item.address;navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(t).then((()=>{this.$buefy.toast.open({message:"Address copied to clipboard!",type:"is-success",duration:2e3,position:"is-bottom"})})).catch((()=>{this.fallbackCopyToClipboard(t)})):this.fallbackCopyToClipboard(t)}fallbackCopyToClipboard(t){const e=document.createElement("textarea");e.value=t,e.style.position="fixed",e.style.left="-999999px",document.body.appendChild(e),e.select();try{document.execCommand("copy"),this.$buefy.toast.open({message:"Address copied to clipboard!",type:"is-success",duration:2e3,position:"is-bottom"})}catch(s){this.$buefy.toast.open({message:"Failed to copy address",type:"is-danger",duration:2e3,position:"is-bottom"})}document.body.removeChild(e)}handleExport(){this.isMenuOpen=!1,this.$emit("export")}handleDelete(){this.isMenuOpen=!1,this.$emit("delete")}handleSubmitABI(){this.isMenuOpen=!1,this.$emit("submitABI")}toggleMenu(){this.isMenuOpen=!this.isMenuOpen}handleDragStart(t){this.isDragging=!0,t.dataTransfer&&(t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("text/plain",JSON.stringify({id:this.item.id,address:this.item.address}))),this.$emit("dragstart",this.item)}handleDragEnd(t){this.isDragging=!1,this.$emit("dragend")}mounted(){document.addEventListener("click",this.closeMenu)}beforeDestroy(){document.removeEventListener("click",this.closeMenu)}closeMenu(){this.isMenuOpen=!1}};(0,d.Cg)([(0,u.kv)()],Dt.prototype,"item",void 0),(0,d.Cg)([(0,u.kv)({default:"detail"})],Dt.prototype,"variant",void 0),(0,d.Cg)([(0,u.kv)({default:!0})],Dt.prototype,"isShort",void 0),Dt=(0,d.Cg)([u.uA],Dt);var Ot=Dt,Mt=Ot,Pt=(0,E.A)(Mt,Bt,Et,!1,null,"20ad17fc",null),Ft=Pt.exports;let Nt=class extends u.lD{constructor(){super(...arguments),this.isloading=!0,this.isModalActive=!1,this.currentItem=null,this.contracts=[],this.isImport=!1,this.searchQuery="",this.categoryOrder={},this.draggedContract=null,this.dropTarget=null}get filteredContracts(){if(!this.searchQuery.trim())return this.contracts;const t=this.searchQuery.toLowerCase();return this.contracts.filter((e=>{const s=(e.name||"").toLowerCase(),a=e.address.toLowerCase();return s.includes(t)||a.includes(t)}))}get sortedCategories(){const t=new Set;this.filteredContracts.forEach((e=>{t.add(e.category||"")}));const e=Array.from(t).sort(((t,e)=>{const s=this.categoryOrder[t]??9999,a=this.categoryOrder[e]??9999;return s!==a?s-a:t?e?t.localeCompare(e):-1:1}));return e}getCategoryContracts(t){return this.filteredContracts.filter((e=>(e.category||"")===t)).sort(((t,e)=>(t.order||0)-(e.order||0)))}clearSearch(){this.searchQuery=""}onSelect(t){this.$router.push({name:"contract_detail",query:{id:t.toString()}})}async created(){this.$ga.page("/inspector/contracts");const t=this.$buefy.loading.open({container:null});this.loadCategoryOrder(),await this.list(),this.prepare(),t.close(),g.subscribe("contracts",(()=>{this.list()}))}mounted(){const t=this.$refs.files;t.onchange=()=>{const e=t.files&&t.files[0];if(e){const t=new FileReader;t.onloadend=e=>{const s=JSON.parse(t.result||"");if(s){this.currentItem={abi:s.abi,address:s.address,name:s.name};const t=this.contracts.find((t=>t.address.toLowerCase()===s.address.toLowerCase()));t&&(this.currentItem.id=t.id),this.isImport=!0,this.open()}},t.readAsText(e)}}}onImport(){const t=this.$refs.files;t.click()}async prepare(){const{action:t,address:e,id:s}=this.$route.query;switch(t){case"add":this.currentItem={address:e},this.open();break;case"edit":if(s){const t=await g.contracts.where("id").equals(parseInt(s,10)).first();t&&(this.currentItem=t,this.isImport=!1,this.open())}break;default:break}}reload(){this.$refs.files.value="",this.currentItem=null,this.list(),this.isModalActive=!1}exportJson(t){const e=s(7968),a=new Blob([JSON.stringify({name:t.name,abi:t.abi,address:t.address})],{type:"text/plain"});e.saveAs(a,`${t.address}.json`)}remove(t){this.$buefy.dialog.confirm({title:"Remove",message:`Are you sure want to remove ${t.name} contract`,cancelText:"Cancel",confirmText:"YES",type:"is-danger",scroll:"clip",onConfirm:()=>{g.contracts.delete(t.id).then((()=>{this.reload()}))}})}open(){this.isModalActive=!0}close(){this.$refs.files.value="",this.isModalActive=!1}async list(){const t=this.$connex.thor.genesis.id;this.contracts=await g.contracts.filter((e=>e.network===t||void 0===e.network)).toArray(),this.isloading=!1}addItem(){this.currentItem=null,this.isImport=!1,this.open()}onCancel(){this.currentItem=null,this.close()}edit(t){this.currentItem=t,this.isImport=!1,this.open()}handleDragStartContract(t){this.draggedContract=t}handleDragEndContract(){this.draggedContract=null,this.dropTarget=null}handleDragOver(t,e,s){t.preventDefault(),this.draggedContract&&(this.dropTarget={category:e,index:s})}handleDragLeave(t){const e=t.relatedTarget;e&&e.closest(".column")||(this.dropTarget=null)}async handleDrop(t,e,s){if(t.preventDefault(),!this.draggedContract)return;const a=this.draggedContract,i=a.category||"",n=this.getCategoryContracts(i),r=n.findIndex((t=>t.id===a.id));i!==e||r!==s?(i!==e&&await g.contracts.where("id").equals(a.id).modify({category:e||void 0}),await this.reorderAfterDrop(e,a,s),this.dropTarget=null,await this.list()):this.dropTarget=null}async reorderAfterDrop(t,e,s){const a=this.getCategoryContracts(t),i=a.findIndex((t=>t.id===e.id));-1!==i&&a.splice(i,1),a.splice(s,0,e);for(let n=0;n<a.length;n++)await g.contracts.where("id").equals(a[n].id).modify({order:n})}loadCategoryOrder(){const t=localStorage.getItem("categoryOrder");if(t)try{this.categoryOrder=JSON.parse(t)}catch(e){this.categoryOrder={}}}saveCategoryOrder(){localStorage.setItem("categoryOrder",JSON.stringify(this.categoryOrder))}ensureAllCategoriesHaveOrder(){const t=this.sortedCategories;let e=!1;t.forEach(((t,s)=>{void 0===this.categoryOrder[t]&&(this.$set(this.categoryOrder,t,s),e=!0)})),e&&this.saveCategoryOrder()}moveCategoryUp(t){this.ensureAllCategoriesHaveOrder();const e=this.sortedCategories,s=e.indexOf(t);if(s>0){const a=e[s-1],i=this.categoryOrder[t],n=this.categoryOrder[a];this.$set(this.categoryOrder,t,n),this.$set(this.categoryOrder,a,i),this.saveCategoryOrder()}}moveCategoryDown(t){this.ensureAllCategoriesHaveOrder();const e=this.sortedCategories,s=e.indexOf(t);if(s<e.length-1){const a=e[s+1],i=this.categoryOrder[t],n=this.categoryOrder[a];this.$set(this.categoryOrder,t,n),this.$set(this.categoryOrder,a,i),this.saveCategoryOrder()}}async renameCategory(t){this.$buefy.dialog.prompt({message:"Enter new category name",inputAttrs:{value:t,maxlength:50},trapFocus:!0,onConfirm:async e=>{const s=(e||"").trim();if("uncategorized"!==s.toLowerCase()){if(s&&s!==t){const e=this.contracts.filter((e=>e.category===t));for(const t of e)await g.contracts.where("id").equals(t.id).modify({category:s});void 0!==this.categoryOrder[t]&&(this.$set(this.categoryOrder,s,this.categoryOrder[t]),this.$delete(this.categoryOrder,t),this.saveCategoryOrder()),await this.list()}}else this.$buefy.toast.open({message:'Category name "Uncategorized" is reserved. Please choose another name.',type:"is-danger",duration:2500,position:"is-bottom"})}})}async reorderCategoryContracts(t){const e=this.getCategoryContracts(t);for(let s=0;s<e.length;s++)await g.contracts.where("id").equals(e[s].id).modify({order:s})}};Nt=(0,d.Cg)([(0,u.uA)({components:{Contract:Ft,EditContract:Tt}})],Nt);var Lt=Nt,zt=Lt,Rt=(0,E.A)(zt,G,Y,!1,null,"19e96754",null),Vt=Rt.exports,jt=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"section",staticStyle:{"max-width":"1000px",margin:"auto"}},[e("div",{staticClass:"container"},[e("form",{on:{submit:function(e){return e.preventDefault(),t.sendCode.apply(null,arguments)}}},[e("b-field",{attrs:{type:{"is-danger":t.errors.has("code")},message:t.errors.first("code"),label:"Byte Code"}},[e("b-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0,bytecode:!0},expression:"{required: true, bytecode: true}"}],attrs:{name:"code",rows:"10",type:"textarea"},model:{value:t.code,callback:function(e){t.code="string"===typeof e?e.trim():e},expression:"code"}})],1),e("b-field",{attrs:{type:{"is-danger":t.errors.has("vet")},message:t.errors.first("vet"),label:"Vet"}},[e("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"vet",expression:"'vet'"}],attrs:{placeholder:"number (optional)",name:"vet",type:"text"},model:{value:t.vet,callback:function(e){t.vet="string"===typeof e?e.trim():e},expression:"vet"}})],1),e("b-field",{attrs:{label:"Valid Hex value (wei)"}},[e("span",{staticClass:"is-family-monospace has-text-weight-semibold"},[t._v(t._s(t.haxValue))])]),e("b-field",{attrs:{label:"Valid Integer value (wei)"}},[e("span",{staticClass:"is-family-monospace has-text-weight-semibold"},[t._v(t._s(t.numberValue))])]),e("b-field",{staticClass:"is-clearfix"},[e("button",{staticClass:"is-pulled-right button is-primary",attrs:{type:"submit"}},[t._v("Send")])])],1)])])},qt=[];let Ut=class extends u.lD{constructor(){super(...arguments),this.code="",this.vet=null}get haxValue(){const t=BN(this.vet);return t.isNaN()||t.isNegative()?"0x0":"0x"+BN(t.multipliedBy(1e18).toFixed(0)).toString(16)}get numberValue(){const t=BN(this.vet);return t.isNaN()||t.isNegative()?"0":t.multipliedBy(1e18).toFixed(0)}async checkForm(){const t=await this.$validator.validateAll();return t}async sendCode(){if(await this.checkForm())try{const t=await this.$connex.vendor.sign("tx",[{value:this.haxValue||0,data:this.code,to:null}]).comment("Inspector deploy contract").request();window.open(`${this.$explorerTx}${t.txid}`)}catch(t){this.$buefy.toast.open({type:"is-danger",message:`${t.name}: ${t.message}`,position:"is-top",duration:3e3})}}created(){this.$ga.page("/inspector/deploy")}};Ut=(0,d.Cg)([u.uA],Ut);var Jt=Ut,Ht=Jt,Qt=(0,E.A)(Ht,jt,qt,!1,null,null,null),Wt=Qt.exports,Xt=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("section",{staticClass:"section contract-detail"},[t.contract?e("div",{staticClass:"container"},[e("Contract",{attrs:{isShort:!1,item:t.contract},on:{edit:t.editContract,export:t.exportContract,delete:t.deleteContract,submitABI:t.submitABI}}),e("section",{staticStyle:{"margin-top":"20px"}},[e("b-field",{attrs:{grouped:""}},[e("b-field",{attrs:{expanded:""}},[e("b-field",{staticClass:"is-pulled-right"},[e("b-autocomplete",{attrs:{rounded:"",data:t.filterList,placeholder:"Func/Event Name"},on:{select:t.onSearchSelect},scopedSlots:t._u([{key:"default",fn:function(s){return[e("div",[e("span",{staticClass:"is-size-6"},[t._v(t._s(s.option.name))])]),e("span",{staticClass:"has-text-grey"},[t._v(t._s(s.option.type))])]}}],null,!1,1256192932),model:{value:t.name,callback:function(e){t.name=e},expression:"name"}},[e("template",{slot:"empty"},[t._v("No results found")])],2)],1)],1)],1),e("b-tabs",{staticClass:"block",model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}},t._l(t.tabs,(function(s,a){return e("b-tab-item",{key:a,attrs:{visible:s.visible}},[e("span",{attrs:{slot:"header"},slot:"header"},[t._v(" "+t._s(s.text)+" "),s.count?e("span",{staticClass:"is-size-7"},[t._v("("+t._s(s.count)+")")]):t._e()])])})),1),e("div",{directives:[{name:"show",rawName:"v-show",value:0===t.tabIndex,expression:"tabIndex === 0"}]},t._l(t.readList,(function(s,a){return e("FunctionCard",{key:a,ref:s.name,refInFor:!0,staticStyle:{"margin-bottom":"20px"},attrs:{id:s.name,address:t.contract.address,item:s}})})),1),e("div",{directives:[{name:"show",rawName:"v-show",value:1===t.tabIndex,expression:"tabIndex === 1"}]},t._l(t.writeList,(function(s,a){return e("FunctionCard",{key:a,ref:s.name,refInFor:!0,staticStyle:{"margin-bottom":"20px"},attrs:{address:t.contract.address,item:s}})})),1),e("div",{directives:[{name:"show",rawName:"v-show",value:2===t.tabIndex,expression:"tabIndex === 2"}]},[e("DescCard",{staticStyle:{"margin-bottom":"20px"},attrs:{item:t.abi,title:"ABI"}}),t.code?e("DescCard",{staticClass:"code-pre",staticStyle:{"margin-bottom":"20px"},attrs:{item:t.code,title:"Code"}}):t._e()],1),e("div",{directives:[{name:"show",rawName:"v-show",value:3===t.tabIndex,expression:"tabIndex === 3"}]},t._l(t.eventList,(function(s,a){return e("EventCard",{key:a,staticStyle:{"margin-bottom":"20px"},attrs:{address:t.contract.address,item:s,title:s.name}})})),1),e("div",{directives:[{name:"show",rawName:"v-show",value:4===t.tabIndex,expression:"tabIndex === 4"}]},[e("FallbackCard",{attrs:{fb:t.fb}})],1),e("div",{directives:[{name:"show",rawName:"v-show",value:5===t.tabIndex,expression:"tabIndex === 5"}]},t._l(t.prList,(function(s,a){return e("FunctionCard",{key:a,ref:s.name,refInFor:!0,staticStyle:{"margin-bottom":"20px"},attrs:{prototype:!0,address:t.contract.address,item:s}})})),1),e("div",{directives:[{name:"show",rawName:"v-show",value:6===t.tabIndex,expression:"tabIndex === 6"}]},t._l(t.pwList,(function(s,a){return e("FunctionCard",{key:a,ref:s.name,refInFor:!0,staticStyle:{"margin-bottom":"20px"},attrs:{prototype:!0,address:t.contract.address,item:s}})})),1),e("div",{directives:[{name:"show",rawName:"v-show",value:7===t.tabIndex,expression:"tabIndex === 7"}]},t._l(t.peList,(function(s,a){return e("EventCard",{key:a,ref:s.name,refInFor:!0,staticStyle:{"margin-bottom":"20px"},attrs:{prototype:!0,address:t.contract.address,item:s}})})),1)],1)],1):t._e(),e("b-modal",{attrs:{width:640,canCancel:["outside"],active:t.isModalActive},on:{"update:active":function(e){t.isModalActive=e}}},[e("EditContract",{attrs:{item:t.contract,isImport:!1},on:{cancel:t.onCancelEdit,finished:t.onFinishEdit}})],1)],1)},Gt=[],Yt=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("Panel",{attrs:{tabs:t.tabs,title:t.item.name},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[e("template",{slot:"panel-content"},[e("form",{directives:[{name:"show",rawName:"v-show",value:t.activeTab===t.tabs[0],expression:"activeTab === tabs[0]"}],on:{reset:function(e){return e.target!==e.currentTarget?null:(e.preventDefault(),t.reset.apply(null,arguments))}}},[e("b-field",{staticClass:"item-content",attrs:{horizontal:"",message:"Special address to call the method, it's not the param of the method",label:"Caller"}},[e("b-input",{attrs:{"custom-class":"is-family-monospace has-text-weight-semibold",placeholder:"Optional: Address"},model:{value:t.caller,callback:function(e){t.caller=e},expression:"caller"}})],1),t._l(t.item.inputs,(function(s,a){return e("b-field",{key:a,staticClass:"item-content",attrs:{horizontal:"",label:s.name}},["bool"===s.type?e("div",[e("b-radio",{attrs:{name:"True","native-value":!0},model:{value:t.params[a],callback:function(e){t.$set(t.params,a,e)},expression:"params[index]"}},[t._v(" True ")]),e("b-radio",{attrs:{name:"False","native-value":!1},model:{value:t.params[a],callback:function(e){t.$set(t.params,a,e)},expression:"params[index]"}},[t._v(" False ")])],1):e("div",{staticClass:"field has-addons",staticStyle:{width:"100%"}},[e("div",{staticClass:"control is-expanded"},[e("b-input",{ref:"input",refInFor:!0,attrs:{"custom-class":"is-family-monospace has-text-weight-semibold",required:"",name:s.name,readonly:t.prototype&&"_self"===s.name,placeholder:s.type},model:{value:t.params[a],callback:function(e){t.$set(t.params,a,e)},expression:"params[index]"}})],1),t.isUintType(s.type)?e("div",{staticClass:"control"},[e("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(e){return t.convertValue(a)}}},[t._v(" "+t._s(t.getConversionLabel(t.params[a]))+" ")])]):t._e()])])})),t.payable?e("b-field",{staticClass:"item-content",attrs:{horizontal:"",label:"value"}},[e("div",{staticClass:"field has-addons",staticStyle:{width:"100%"}},[e("div",{staticClass:"control is-expanded"},[e("b-input",{attrs:{"custom-class":"is-family-monospace has-text-weight-semibold",type:"text",placeholder:"number(vet)"},model:{value:t.value,callback:function(e){t.value="string"===typeof e?e.trim():e},expression:"value"}})],1),e("div",{staticClass:"control"},[e("button",{staticClass:"button",attrs:{type:"button"},on:{click:t.convertPayableValue}},[t._v(" "+t._s(t.getConversionLabel(t.value))+" ")])])])]):t._e(),e("b-field",{staticClass:"item-content",attrs:{horizontal:""}},[e("div",{staticClass:"buttons has-addons"},[e("button",{staticClass:"button is-rounded is-primary is-outlined",attrs:{type:"button"},on:{click:function(e){return t.addShortCut(t.item.name)}}},[t._v("Shortcut")]),t.couldExc?e("button",{staticClass:"button is-rounded is-primary is-outlined",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.executeFC.apply(null,arguments)}}},[t._v("Execute")]):t._e(),e("button",{staticClass:"button is-rounded is-primary is-outlined",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.callFC.apply(null,arguments)}}},[t._v("Call")]),t.params.length?e("button",{staticClass:"button is-rounded is-primary is-outlined",attrs:{type:"reset"}},[t._v("Reset")]):t._e()])]),t.request?e("b-field",{attrs:{label:"Request"}},[e("pre",{staticStyle:{width:"100%","white-space":"break-spaces","word-break":"break-all"}},[t._v(t._s(t.request))])]):t._e(),t.resp?e("b-field",{attrs:{label:"Response"}},[e("pre",{staticStyle:{width:"100%","white-space":"break-spaces","word-break":"break-all"}},[t._v(t._s(t.resp))])]):t._e()],2),e("div",{directives:[{name:"show",rawName:"v-show",value:t.activeTab===t.tabs[1],expression:"activeTab === tabs[1]"}]},[e("pre",[t._v(t._s(t.item))])])])],2)},Kt=[],Zt=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("b-collapse",{staticClass:"panel",attrs:{open:t.isOpen},on:{"update:open":t.onupdate},scopedSlots:t._u([{key:"trigger",fn:function(s){return e("div",{staticClass:"panel-heading"},[e("div",{staticClass:"level"},[e("div",{staticClass:"level-left"},[e("div",{staticClass:"level-item"},[e("strong",[t._v(t._s(t.title))])]),e("div",{staticClass:"level-item"})]),e("div",{staticClass:"level-right"},[e("div",{staticClass:"level-item"},[e("b-icon",{attrs:{type:"is-primary",size:"is-small",icon:s.open?"caret-up":"caret-down"}})],1)])])])}}])},[t.tabs.length>1?e("p",{staticClass:"panel-tabs",staticStyle:{"justify-content":"left"}},t._l(t.tabs,(function(s,a){return e("a",{key:a,class:{"is-active":t.activeTab===s},on:{click:function(e){return e.stopPropagation(),t.switchTab(s)}}},[t._v(t._s(s))])})),0):t._e(),e("div",{staticClass:"panel-block is-block"},[t._t("panel-content")],2)])},te=[];let ee=class extends u.lD{constructor(){super(...arguments),this.isOpen=!1,this.activeTab=this.value}onchange(t){this.activeTab=t}toggle(t){this.isOpen=!0===t||!1===t?t:!this.isOpen}onupdate(t){this.isOpen=t}switchTab(t){this.activeTab=t,this.$emit("input",t)}};(0,d.Cg)([(0,u.kv)({default:0})],ee.prototype,"value",void 0),(0,d.Cg)([(0,u.kv)({default:Array})],ee.prototype,"tabs",void 0),(0,d.Cg)([(0,u.kv)({default:""})],ee.prototype,"title",void 0),(0,d.Cg)([(0,u.ox)("value")],ee.prototype,"onchange",null),ee=(0,d.Cg)([u.uA],ee);var se=ee,ae=se,ie=(0,E.A)(ae,Zt,te,!1,null,null,null),ne=ie.exports;let re=class extends u.lD{constructor(){super(...arguments),this.value=null,this.resp=null,this.request=null,this.method=null,this.params=new Array(this.item.inputs.length),this.caller=""}callFC(){this.resetOutputs(),this.validate()&&this.readMethod()}reset(){const t=this.$refs.input||[];t.forEach((t=>{t.$parent.newType="",t.$parent.newMessage=""})),this.params.forEach(((t,e)=>{this.prototype&&"_self"===this.item.inputs[e].name||this.$set(this.params,e,"")})),this.resetOutputs()}resetOutputs(){this.request=null,this.resp=null}executeFC(){this.resetOutputs(),this.validate()&&this.writeMethod()}initMethod(t,e){const s=this.$connex.thor.account(this.prototype?"0x000000000000000000000050726f746f74797065":t.toLowerCase());this.method=s.method(e)}validate(){const t=this.$refs.input||[];return t.forEach((t=>{t.checkHtml5Validity()})),!t.some((t=>!1===t.isValid))}get payable(){return this.item.payable||"payable"===this.item.stateMutability}get hexValue(){return BN(this.payable&&this.value||0).multipliedBy(1e18).toFixed(0).toString(16)}async readMethod(){try{const t=this.params.map(((t,e)=>this.item.inputs[e].type.endsWith("]")?JSON.parse(t):t));this.request=this.method.value(this.hexValue).asClause(...t),this.caller?this.resp=await this.method.value(this.hexValue).caller(this.caller).call(...t):this.resp=await this.method.value(this.hexValue).call(...t)}catch(t){BUS.$alert(t.message)}}async writeMethod(){try{const t=this.params.map(((t,e)=>this.item.inputs[e].type.endsWith("]")?JSON.parse(t):t)),e=this.method.value(this.hexValue).asClause(...t);this.request=e,this.$connex.vendor.sign("tx",[{...e,comment:this.item.name}]).comment(`inspect-${this.address}`).request()}catch(t){BUS.$alert(t.message)}}};(0,d.Cg)([(0,u.kv)({default:null})],re.prototype,"item",void 0),(0,d.Cg)([(0,u.kv)()],re.prototype,"address",void 0),(0,d.Cg)([(0,u.kv)({default:!1})],re.prototype,"prototype",void 0),re=(0,d.Cg)([u.uA],re);var oe=re;let le=class extends((0,u.Xe)(oe)){constructor(){super(...arguments),this.tabs=["Inputs","Description"],this.activeTab="Inputs"}created(){if(this.activeTab=this.tabs[0],this.prototype){const t=this.item.inputs.findIndex((t=>"_self"===t.name));this.params[t]=this.address}this.initMethod(this.address,this.item)}get couldExc(){return!(!0===this.item.constant||["view","pure"].includes(this.item.stateMutability))}addShortCut(t){this.$buefy.dialog.prompt({title:"Add Shortcut",message:"Input a shortcut",inputAttrs:{placeholder:"Filter name",value:t,maxlength:30,required:!0},onConfirm:t=>{this.saveShortCut(t)}})}async saveShortCut(t){const e=await g.contracts.where("address").equals(this.address).first()||null;await g.shortCuts.add({name:t,address:e.address,contractName:e.name,fromPrototype:this.prototype,createdTime:Date.now(),abi:this.item,network:this.$connex.thor.genesis.id,type:this.couldExc?"write":"read"}),BUS.$emit("added-shortcut"),this.$buefy.toast.open({message:"Added success!",type:"is-success"})}isUintType(t){return t.startsWith("uint")}getConversionLabel(t){if(!t||""===t.trim())return"to wei";try{const e=t.split(".")[0],s=BigInt(e);return s>BigInt(10)**BigInt(15)?"to ether":"to wei"}catch(e){return"to wei"}}convertValue(t){const e=this.params[t];if(!e||""===e.trim())return;const s=BigInt(10)**BigInt(18);try{const a=BigInt(e);if(a>BigInt(10)**BigInt(15)){const a=BigInt(e.split(".")[0]),i=a/s;this.$set(this.params,t,i.toString())}else{const e=a*s;this.$set(this.params,t,e.toString())}}catch(a){}}convertPayableValue(){if(!this.value||""===this.value.trim())return;const t=BigInt(10)**BigInt(18);try{const e=BigInt(this.value);if(e>BigInt(10)**BigInt(15)){const e=BigInt(this.value.split(".")[0]),s=e/t;this.value=s.toString()}else{const s=e*t;this.value=s.toString()}}catch(e){}}};le=(0,d.Cg)([(0,u.uA)({components:{Panel:ne}})],le);var ce=le,de=ce,ue=(0,E.A)(de,Yt,Kt,!1,null,"805b4e48",null),pe=ue.exports,me=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("Panel",{attrs:{title:"Fallback"}},[e("template",{slot:"panel-content"},[e("pre",[t._v(t._s(t.fb))])])],2)},he=[];let be=class extends u.lD{};(0,d.Cg)([(0,u.kv)({default:null})],be.prototype,"fb",void 0),be=(0,d.Cg)([(0,u.uA)({components:{Panel:ne}})],be);var fe=be,ye=fe,ge=(0,E.A)(ye,me,he,!1,null,null,null),ve=ge.exports,Ce=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("Panel",{attrs:{tabs:t.tabs,title:t.item.name},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[e("template",{slot:"panel-content"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.activeTab===t.tabs[0],expression:"activeTab === tabs[0]"}]},[t._l(t.filters,(function(s,a){return e("b-field",{key:a,staticClass:"item-content",attrs:{horizontal:"",label:s.name}},[e("b-input",{ref:"input",refInFor:!0,attrs:{placeholder:s.type},model:{value:t.params[s.name],callback:function(e){t.$set(t.params,s.name,e)},expression:"params[v.name]"}})],1)})),e("b-field",{staticClass:"item-content",attrs:{horizontal:""}},[e("div",{staticClass:"buttons has-addons"},[e("button",{staticClass:"button is-rounded is-primary is-outlined",attrs:{type:"button"},on:{click:function(e){return t.addFilter(t.item.name)}}},[t._v("As a view")]),e("button",{staticClass:"button is-rounded is-primary is-outlined",attrs:{type:"button"},on:{click:function(e){return t.onRefresh(0)}}},[t._v("Execute")]),t.filters.length?e("button",{staticClass:"button is-rounded is-primary is-outlined",attrs:{type:"button"},on:{click:t.reset}},[t._v("Reset")]):t._e()])])],2),e("div",{directives:[{name:"show",rawName:"v-show",value:t.activeTab===t.tabs[1],expression:"activeTab === tabs[1]"}]},[e("pre",[t._v(t._s(t.item))])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.activeTab===t.tabs[2],expression:"activeTab === tabs[2]"}]},[e("nav",{staticClass:"navbar is-transparent",staticStyle:{"margin-bottom":"2px"}},[e("div",{staticClass:"navbar-item"},[e("div",{staticClass:"buttons has-addons"},[e("b-button",{staticClass:"is-primary",attrs:{tag:"button","icon-left":"sync-alt"},on:{click:t.onRefresh}}),e("b-button",{staticClass:"is-primary",attrs:{tag:"button",disabled:this.page<1,"icon-left":"chevron-left"},on:{click:t.onPrev}}),e("b-button",{staticClass:"is-primary",attrs:{tag:"button",disabled:t.list.length<5,"icon-left":"chevron-right"},on:{click:t.onNext}})],1)]),e("div",{staticClass:"navbar-item"},[t._v(t._s(t.ranges))])]),e("b-loading",{attrs:{"is-full-page":!0,active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),t._l(t.list,(function(s,a){return[e("EventShowCard",{key:5*t.page+a,attrs:{item:s,params:t.item.inputs}},[e("span",{attrs:{slot:"title"},slot:"title"},[t._v("#"+t._s(5*t.page+a+1))])])]}))],2)])],2)},xe=[],we=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"box"},[e("div",[e("div",{staticClass:"level has-background-light",staticStyle:{"margin-bottom":"10px",padding:"5px 10px","border-radius":"5px"}},[e("div",{staticClass:"level-left"},[e("span",{staticClass:"is-family-secondary display-6 has-text-black-ter has-text-weight-semibold"},[t._t("title")],2),e("span",{staticClass:"is-family-secondary display-6 has-text-black-ter has-text-weight-semibold",staticStyle:{"margin-left":"20px"}},[t._v(" #Block "),e("a",{attrs:{target:"_blank",href:`${t.$explorerBlock}${t.item.meta.blockID}`}},[t._v(t._s(t.item.meta.blockNumber))])]),e("span",{staticClass:"is-family-secondary display-6",staticStyle:{"margin-left":"20px"}},[t._v(t._s(t._f("datetime")(1e3*t.item.meta.blockTimestamp)))])]),e("div",{staticClass:"level-right"},[e("a",{staticClass:"is-family-monospace display-6 has-text-weight-semibold",attrs:{target:"_blank",href:`${t.$explorerTx}${t.item.meta.txID}`}},[t._v(t._s(t._f("addr")(t.item.meta.txID)))])])]),e("b-tabs",{staticClass:"my-content",attrs:{animated:!1,size:"is-small",type:"is-toggle"},model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}},[e("b-tab-item",{attrs:{label:"Decoded"}},[e("b-table",{attrs:{data:t.data},scopedSlots:t._u([{key:"default",fn:function(s){return[e("b-table-column",{attrs:{width:"20",label:"#",field:"id"}},[t._v(t._s(s.row.id))]),e("b-table-column",{attrs:{width:"170",label:"Name",field:"name"}},[t._v(t._s(s.row.name))]),e("b-table-column",{attrs:{width:"220",label:"Type",field:"type"}},[t._v(" "+t._s(s.row.type)+" "),s.row.indexed?e("sup",{staticClass:"has-background-primary has-text-light",staticStyle:{padding:"2px 5px","border-radius":"3px","font-size":"11px"}},[t._v("indexed")]):t._e()]),e("b-table-column",{staticStyle:{"max-width":"380px","word-wrap":"break-word"},attrs:{label:"Data",field:"value"}},["address"===s.row.type?e("a",{staticClass:"has-text-weight-semibold is-family-monospace display-6",attrs:{target:"_blank",href:`${t.$explorerAccount}${s.row.value}`}},[t._v(t._s(t._f("toChecksumAddress")(s.row.value)))]):e("span",{staticClass:"has-text-weight-semibold is-family-monospace display-6 has-text-grey"},[t._v(t._s(s.row.value))])])]}}])})],1),e("b-tab-item",{attrs:{label:"Raw"}},[e("div",[e("b-field",{attrs:{"custom-class":"my-label","label-position":"inside",horizontal:"",label:"Topics"}},[e("ul",t._l(t.item.topics,(function(s,a){return e("li",{key:t.item.meta.blockID+a,staticClass:"is-family-monospace display-6 has-text-grey has-text-weight-semibold"},[e("span",[t._v("["+t._s(a)+"]")]),t._v(" "+t._s(s)+" ")])})),0)]),e("b-field",{attrs:{"custom-class":"my-label","label-position":"on-border",horizontal:"",label:"Data"}},[e("p",{staticClass:"has-text-weight-semibold has-text-grey display-6 is-family-monospace",staticStyle:{"word-break":"break-all"}},[t._v(t._s(t.item.data))])])],1)])],1)],1)])},_e=[];let ke=class extends u.lD{constructor(){super(...arguments),this.tabIndex=0,this.columns=[{label:"ID",field:"index"},{label:"Name",field:"name"},{label:"Type",field:"type"},{label:"Data",field:"value"}]}onItemChange(){this.data=this.params.map(((t,e)=>({id:e,name:t.name,type:t.type,indexed:t.indexed,value:this.item.decoded[t.name]})))}created(){this.onItemChange()}};(0,d.Cg)([(0,u.kv)(Object)],ke.prototype,"item",void 0),(0,d.Cg)([(0,u.kv)(Array)],ke.prototype,"params",void 0),(0,d.Cg)([(0,u.ox)("item"),(0,u.ox)("params")],ke.prototype,"onItemChange",null),ke=(0,d.Cg)([u.uA],ke);var Ae=ke,Ie=Ae,Se=(0,E.A)(Ie,we,_e,!1,null,null,null),$e=Se.exports;let Te=class extends u.lD{constructor(){super(...arguments),this.page=0,this.list=[],this.params={},this.tabs=["Filters","Description","Datas"],this.activeTab="",this.isLoading=!1}created(){this.filters.forEach((t=>{this.params[t.name]=""})),this.activeTab=this.tabs[0];const t=this.$connex.thor.account(this.address);this.event=t.event(this.item)}get filters(){return this.item.inputs.filter((t=>t.indexed))}get ranges(){return 5*this.page+(this.list.length?1:0)+" - "+(5*this.page+this.list.length)}onTabChange(){"Datas"===this.activeTab&&this.getResult(this.page)}onNext(){this.page++,this.getResult(this.page)}onPrev(){this.page>0&&(this.page--,this.getResult(this.page))}onRefresh(){this.page=0,this.getResult(0)}addFilter(t){this.$buefy.dialog.prompt({title:"Add quick view",message:"Input a filter name",inputAttrs:{placeholder:"Filter name",value:t,maxlength:30,required:!0},onConfirm:t=>{this.saveFilter(t)}})}reset(){this.params={}}async saveFilter(t){const e=await g.contracts.where("address").equals(this.address).first()||null;await g.filters.add({name:t,address:e.address,contractName:e.name,fromPrototype:this.prototype,createdTime:Date.now(),network:this.$connex.thor.genesis.id,abi:this.item}),BUS.$emit("added-filter"),this.$buefy.toast.open({message:"Added success!",type:"is-success"})}async getResult(t){if(this.isLoading)return;this.isLoading=!0,this.activeTab=this.tabs[2];const e=[];for(const a in this.params)if(this.params.hasOwnProperty(a)){const t=this.params[a];t&&e.push({[a]:t})}try{this.list=await this.event.filter(e).order("desc").apply(5*t,5)}catch(s){BUS.$alert(s.message)}finally{this.isLoading=!1}}};(0,d.Cg)([(0,u.kv)({default:null})],Te.prototype,"item",void 0),(0,d.Cg)([(0,u.kv)()],Te.prototype,"address",void 0),(0,d.Cg)([(0,u.kv)({default:!1})],Te.prototype,"prototype",void 0),(0,d.Cg)([(0,u.ox)("activeTab")],Te.prototype,"onTabChange",null),Te=(0,d.Cg)([(0,u.uA)({components:{Panel:ne,EventShowCard:$e}})],Te);var Be=Te,Ee=Be,De=(0,E.A)(Ee,Ce,xe,!1,null,"dfb6d268",null),Oe=De.exports,Me=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("Panel",{attrs:{title:t.$attrs.title}},[e("template",{slot:"panel-content"},[e("pre",{staticStyle:{"max-height":"500px",overflow:"auto"}},[t._v(t._s(t.item))])])],2)},Pe=[];let Fe=class extends u.lD{};(0,d.Cg)([(0,u.kv)({default:null})],Fe.prototype,"item",void 0),Fe=(0,d.Cg)([(0,u.uA)({components:{Panel:ne}})],Fe);var Ne=Fe,Le=Ne,ze=(0,E.A)(Le,Me,Pe,!1,null,null,null),Re=ze.exports,Ve=[{constant:!1,inputs:[{name:"_self",type:"address"},{name:"_newMaster",type:"address"}],name:"setMaster",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_self",type:"address"},{name:"_user",type:"address"}],name:"isUser",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_self",type:"address"},{name:"_key",type:"bytes32"}],name:"storageFor",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_self",type:"address"},{name:"_blockNumber",type:"uint256"}],name:"energy",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_self",type:"address"},{name:"_user",type:"address"}],name:"removeUser",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_self",type:"address"}],name:"currentSponsor",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_self",type:"address"},{name:"_credit",type:"uint256"},{name:"_recoveryRate",type:"uint256"}],name:"setCreditPlan",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_self",type:"address"},{name:"_sponsor",type:"address"}],name:"selectSponsor",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_self",type:"address"},{name:"_blockNumber",type:"uint256"}],name:"balance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_self",type:"address"}],name:"sponsor",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_self",type:"address"}],name:"creditPlan",outputs:[{name:"credit",type:"uint256"},{name:"recoveryRate",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_self",type:"address"},{name:"_user",type:"address"}],name:"addUser",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_self",type:"address"}],name:"hasCode",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_self",type:"address"}],name:"master",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_self",type:"address"},{name:"_user",type:"address"}],name:"userCredit",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_self",type:"address"}],name:"unsponsor",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_self",type:"address"},{name:"_sponsor",type:"address"}],name:"isSponsor",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"}],je=[{anonymous:!1,inputs:[{indexed:!1,name:"newMaster",type:"address"}],name:"$Master",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"credit",type:"uint256"},{indexed:!1,name:"recoveryRate",type:"uint256"}],name:"$CreditPlan",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"user",type:"address"},{indexed:!1,name:"action",type:"bytes32"}],name:"$User",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"sponsor",type:"address"},{indexed:!1,name:"action",type:"bytes32"}],name:"$Sponsor",type:"event"}];let qe=class extends u.lD{constructor(){super(...arguments),this.protoTabs=[{text:"Prototype-Read",count:10,visible:!0},{text:"Prototype-Write",count:7,visible:!0},{text:"Prototype-Event",count:4,visible:!0}]}get prList(){return this._abi.filter((t=>"function"===t.type&&t.constant))}get pwList(){return this._abi.filter((t=>"function"===t.type&&!t.constant))}get peList(){return this._abiEvent}initAbi(){this._abi=Ve,this._abiEvent=je}};qe=(0,d.Cg)([u.uA],qe);var Ue=qe,Je=s(6763);let He=class extends((0,u.Xe)(Ue)){constructor(){super(...arguments),this.contract=null,this.tabIndex=0,this.tabs=[],this.abi=[],this.code="",this.name="",this.caller="",this.isProtoType=!0,this.isModalActive=!1}get filterList(){const t=this.abi;return t.filter((t=>t.name&&this.name&&t.name.toString().toLowerCase().indexOf(this.name.toLowerCase())>=0))}get readList(){return this.abi.filter((t=>"function"===t.type&&(!0===t.constant||["pure","view"].includes(t.stateMutability))))}get writeList(){return this.abi.filter((t=>"function"===t.type&&(!1===t.constant||!["pure","view"].includes(t.stateMutability))))}get eventList(){return this.abi.filter((t=>"event"===t.type))}get fb(){return this.abi.find((t=>"fallback"===t.type))}async getDetail(t){if(this.contract=await g.contracts.where("id").equals(parseInt(t,10)).or("address").equals(t).first()||null,this.contract)this.abi=this.contract.abi;else{this.$buefy.toast.open({duration:3e3,message:"No item got",position:"is-top",queue:!1,type:"is-info"});setTimeout((()=>{this.$router.push({name:"contracts"})}),3100)}}editContract(){this.isModalActive=!0}onCancelEdit(){this.isModalActive=!1}async onFinishEdit(){this.isModalActive=!1;const t=this.$route.query.id||this.$route.query.address;await this.getDetail(t),this.tabs=[{text:"Read",count:this.readList.length,visible:!!this.readList.length},{text:"Write",count:this.writeList.length,visible:!!this.writeList.length},{text:"Code & ABI",count:"",visible:!0},{text:"Events",count:this.eventList.length,visible:!!this.eventList.length},{text:"Fallback",count:"",visible:!!this.fb}],this.tabs=this.tabs.concat(this.protoTabs)}exportContract(){const t=s(7968),e=new Blob([JSON.stringify({name:this.contract.name,abi:this.contract.abi,address:this.contract.address})],{type:"text/plain"});t.saveAs(e,`${this.contract.address}.json`)}deleteContract(){this.$buefy.dialog.confirm({title:"Remove",message:`Are you sure want to remove ${this.contract.name} contract`,cancelText:"Cancel",confirmText:"YES",type:"is-danger",scroll:"clip",onConfirm:async()=>{await g.contracts.where("id").equals(this.contract.id).delete(),this.$router.push({name:"contracts"})}})}submitABI(){window.open("https://github.com/vechain/b32/new/master/ABIs","_blank")}async getCode(t){try{if(t){const e=await this.$connex.thor.account(t).getCode();this.code=e.code}}catch(e){Je.error(e)}}async created(){this.$ga.page("/inspector/contract/detail"),this.initAbi();const t=this.$route.query.id||this.$route.query.address;await this.getDetail(t),this.tabs=[{text:"Read",count:this.readList.length,visible:!!this.readList.length},{text:"Write",count:this.writeList.length,visible:!!this.writeList.length},{text:"Code & ABI",count:"",visible:!0},{text:"Events",count:this.eventList.length,visible:!!this.eventList.length},{text:"Fallback",count:"",visible:!!this.fb}],this.tabs=this.tabs.concat(this.protoTabs),await this.getCode(this.contract.address||""),this.tabIndex=this.tabs.findIndex((t=>t.visible))}onSearchSelect(t){const e={cb:2,fb:4,read:0,write:1,event:3};let s=t.type;"function"===s&&(s=t.constant?"read":"write"),this.tabIndex=e[s];const a=this.$refs[t.name];a[0].$children[0].toggle(!0),a[0].$el.scrollIntoView()}};He=(0,d.Cg)([(0,u.uA)({components:{Contract:Ft,EditContract:Tt,FunctionCard:pe,FallbackCard:ve,DescCard:Re,EventCard:Oe}})],He);var Qe=He,We=Qe,Xe=(0,E.A)(We,Xt,Gt,!1,null,null,null),Ge=Xe.exports,Ye=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("section",[e("div",{staticClass:"log-container"},[e("div",{staticClass:"columns is-multiline"},[t._l(t.params,(function(s,a){return e("div",{key:a,staticClass:"column is-one-third"},[e("b-field",{attrs:{label:s.name}},[e("b-input",{attrs:{placeholder:s.type},model:{value:t.conditions[s.name],callback:function(e){t.$set(t.conditions,s.name,e)},expression:"conditions[v.name]"}})],1)],1)})),e("div",{staticClass:"column is-one-third"},[e("b-field",{attrs:{label:"Order"}},[e("b-select",{attrs:{expanded:"",placeholder:"Order"},model:{value:t.page.order,callback:function(e){t.$set(t.page,"order",e)},expression:"page.order"}},[e("option",{domProps:{value:!1}},[t._v("ASC")]),e("option",{domProps:{value:!0}},[t._v("DESC")])])],1)],1)],2),e("nav",{staticClass:"navbar is-transparent",staticStyle:{"margin-bottom":"2px","z-index":"20"}},[e("div",{staticClass:"navbar-start"},[e("div",{staticClass:"navbar-item",staticStyle:{"padding-left":"0"}},[e("b-field",{staticStyle:{width:"350px"},attrs:{horizontal:""}},[e("template",{slot:"label"},[e("div",{staticStyle:{width:"100px","text-align":"left"}},[t._v("Block Range")])]),e("b-input",{attrs:{placeholder:"from"},model:{value:t.blockFrom,callback:function(e){t.blockFrom=e},expression:"blockFrom"}}),e("b-input",{attrs:{placeholder:"to"},model:{value:t.blockTo,callback:function(e){t.blockTo=e},expression:"blockTo"}})],2)],1)]),e("div",{staticClass:"navbar-end"},[e("div",{staticClass:"navbar-item"},[t._v(t._s(t.ranges))]),e("div",{staticClass:"navbar-item"},[e("div",{staticClass:"buttons has-addons"},[e("button",{staticClass:"button",attrs:{disabled:t.page.num<1},on:{click:t.prePage}},[e("b-icon",{attrs:{icon:"angle-left"}})],1),e("button",{staticClass:"button",attrs:{disabled:t.list.length<t.page.size},on:{click:t.nextPage}},[e("b-icon",{attrs:{icon:"angle-right"}})],1)])]),e("div",{staticClass:"navbar-item"},[e("button",{staticClass:"button is-primary is-outlined",on:{click:t.search}},[t._v("Search")])])])]),e("b-loading",{staticClass:"log-loading",attrs:{"is-full-page":!1,active:t.isLoading,"can-cancel":!0},on:{"update:active":function(e){t.isLoading=e}}}),t._l(t.list,(function(s,a){return[e("EventShowCard",{key:s.meta.txID+t.page.num,attrs:{item:s,params:t.abi.inputs}},[e("span",{attrs:{slot:"title"},slot:"title"},[t._v("#"+t._s(t.page.num*t.page.size+a+1))])])]}))],2)])},Ke=[];let Ze=class extends u.lD{constructor(){super(...arguments),this.isLoading=!0,this.conditions={},this.page={num:0,size:10,order:!0},this.blockFrom=null,this.blockTo=null,this.list=[],this.metadata=!1,this.params=[]}setParams(){this.params=this.abi.inputs.filter((t=>t.indexed))}get ranges(){return"#"+(this.page.num*this.page.size+(this.list.length?1:0))+" - #"+(this.page.num*this.page.size+this.list.length)}async onRouterChange(){await this.init(),this.getList(0)}onSizeChanged(t){t||(this.page.size=5),this.search()}onOrderChanged(){this.search()}async init(){this.filter=await g.filters.where("id").equals(parseInt(this.$route.params.id,10)).first()||null;const t=this.$connex.thor.account(this.filter.address);this.abi=this.filter.abi?this.filter.abi:"",this.event=t.event(this.abi),this.setParams()}search(){this.page.num=0,this.getList(0)}prePage(){this.page.num>0&&(this.page.num--,this.getList(this.page.num))}nextPage(){this.page.num++,this.getList(this.page.num)}async getList(t){this.isLoading=!0;const e=[];for(const a in this.conditions)if(this.conditions.hasOwnProperty(a)){const t=this.conditions[a];t&&e.push({[a]:t})}try{this.list=await this.event.filter(e).order(this.page.order?"desc":"asc").range(this.getBlcokRange()).apply(t*this.page.size,this.page.size)}catch(s){BUS.$alert(s.message)}finally{this.isLoading=!1}}getBlcokRange(){const t=this.blockFrom||0,e=this.blockTo||this.$connex.thor.status.head.number;return{unit:"block",from:BN(t).toNumber(),to:BN(e).toNumber()}}async created(){this.$ga.page("/inspector/view/list"),await this.init(),this.getList(0)}};(0,d.Cg)([(0,u.ox)("$route")],Ze.prototype,"onRouterChange",null),(0,d.Cg)([(0,u.ox)("page.size")],Ze.prototype,"onSizeChanged",null),(0,d.Cg)([(0,u.ox)("page.order")],Ze.prototype,"onOrderChanged",null),Ze=(0,d.Cg)([(0,u.uA)({components:{EventShowCard:$e}})],Ze);var ts=Ze,es=ts,ss=(0,E.A)(es,Ye,Ke,!1,null,"1219d4b9",null),as=ss.exports,is=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("section",{staticClass:"section"},[e("div",{staticClass:"container"},[e("b-table",{attrs:{detailed:"","per-page":t.perPage,"current-page":t.currentPage,data:t.list,paginated:"","backend-pagination":"",total:t.count},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"page-change":t.onPageChange},scopedSlots:t._u([{key:"default",fn:function(s){return[e("b-table-column",{attrs:{centered:"",label:"ID"}},[t._v(t._s(s.row.id))]),e("b-table-column",{attrs:{label:"Name"}},[e("router-link",{attrs:{to:{name:"filter_view",params:{id:s.row.id}}}},[t._v(t._s(s.row.name))])],1),e("b-table-column",{attrs:{label:"Contract"}},[e("router-link",{attrs:{to:{name:"contract_detail",query:{address:s.row.address}}}},[t._v(" "+t._s(s.row.contractName)+" ")]),e("b-tooltip",{attrs:{label:"Prototype"}},[s.row.fromPrototype?e("b-icon",{staticStyle:{"margin-left":"5px"},attrs:{icon:"code-branch",size:"is-small"}}):t._e()],1)],1),e("b-table-column",{attrs:{label:"Address"}},[e("span",{staticClass:"is-family-monospace has-text-weight-semibold"},[t._v(t._s(t._f("addr")(t._f("toChecksumAddress")(s.row.address))))])]),e("b-table-column",{attrs:{centered:"",label:"Operations"}},[e("div",{staticClass:"buttons has-addons is-centered"},[e("button",{staticClass:"button is-rounded control is-small",on:{click:function(e){return t.edit(s.row)}}},[e("b-icon",{attrs:{size:"is-small",icon:"edit"}})],1),e("button",{staticClass:"button is-rounded control is-small",on:{click:function(e){return t.remove(s.row)}}},[e("b-icon",{attrs:{size:"is-small",icon:"trash-alt"}})],1)])])]}},{key:"detail",fn:function(s){return[e("pre",[t._v(t._s(s.row.abi))])]}}])})],1)])},ns=[];let rs=class extends u.lD{constructor(){super(...arguments),this.list=[],this.perPage=10,this.currentPage=1,this.count=0,this.columns=[{label:"ID",field:"id",centered:!0},{label:"From Contract",field:"contractName",centered:!0},{label:"Name",field:"name",centered:!0},{label:"Address",field:"address",centered:!0}]}get network(){return this.$connex.thor.genesis.id}async created(){this.$ga.page("/inspector/view/mgt"),this.onPageChange(1),this.count=await g.filters.filter((t=>t.network===this.network||void 0===t.network)).count()}edit(t){this.$buefy.dialog.prompt({title:"Edit quick view",message:"Edit filter name",inputAttrs:{placeholder:"Filter name",value:t.name,maxlength:30,required:!0},onConfirm:e=>{g.filters.update(t.id,{name:e}).then((()=>{this.onPageChange(this.currentPage)}))}})}remove(t){this.$buefy.dialog.confirm({title:"Remove",message:`Are you sure want to remove '${t.name}' contract`,cancelText:"Cancel",confirmText:"YES",type:"is-danger",scroll:"clip",onConfirm:()=>{g.filters.delete(t.id).then((()=>{this.onPageChange(this.currentPage)}))}})}async onPageChange(t){this.list=await g.filters.filter((t=>t.network===this.network||void 0===t.network)).offset((t-1)*this.perPage).limit(this.perPage).toArray()}};rs=(0,d.Cg)([u.uA],rs);var os=rs,ls=os,cs=(0,E.A)(ls,is,ns,!1,null,null,null),ds=cs.exports,us=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("section",{staticClass:"section"},[e("div",{staticClass:"container"},[e("b-field",{attrs:{grouped:""}},[e("b-field",{attrs:{expanded:""}},[e("b-field",{staticClass:"is-pulled-right"},[e("b-input",{attrs:{icon:"search",type:"text",placeholder:"Name"}}),e("p",{staticClass:"control"},[e("button",{staticClass:"button is-primary"},[t._v("Search")])])],1)],1)],1),e("b-table",{attrs:{detailed:"","per-page":t.perPage,"current-page":t.currentPage,data:t.list,paginated:"","backend-pagination":"",total:t.count},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"page-change":t.onPageChange},scopedSlots:t._u([{key:"default",fn:function(s){return[e("b-table-column",{attrs:{centered:"",label:"ID"}},[t._v(t._s(s.row.id))]),e("b-table-column",{attrs:{label:"Name"}},[t._v(t._s(s.row.name))]),e("b-table-column",{attrs:{label:"Contract"}},[e("router-link",{attrs:{to:{name:"contract_detail",query:{address:s.row.address}}}},[t._v(t._s(s.row.contractName))]),e("b-tooltip",{attrs:{label:"Prototype"}},[s.row.fromPrototype?e("b-icon",{staticStyle:{"margin-left":"5px"},attrs:{icon:"code-branch",size:"is-small"}}):t._e()],1)],1),e("b-table-column",{attrs:{label:"Type"}},[t._v(t._s(s.row.type))]),e("b-table-column",{attrs:{label:"Address"}},[e("b-tooltip",{attrs:{label:t._f("toChecksumAddress")(s.row.address)}},[e("span",{staticClass:"is-family-monospace has-text-weight-semibold"},[t._v(t._s(t._f("addr")(t._f("toChecksumAddress")(s.row.address))))])])],1),e("b-table-column",{attrs:{centered:"",label:"Operations"}},[e("div",{staticClass:"buttons has-addons is-centered"},[e("button",{staticClass:"button is-rounded control is-small",on:{click:function(e){return t.edit(s.row)}}},[e("b-icon",{attrs:{size:"is-small",icon:"edit"}})],1),e("button",{staticClass:"button is-rounded control is-small",on:{click:function(e){return t.remove(s.row)}}},[e("b-icon",{attrs:{size:"is-small",icon:"trash-alt"}})],1)])])]}},{key:"detail",fn:function(t){return[e("SampleFuncCard",{attrs:{caller:"caller",prototype:t.row.fromPrototype,item:t.row.abi,address:t.row.address}})]}}])})],1)])},ps=[],ms=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"func-card"},[e("p",{staticClass:"panel-tabs",staticStyle:{"justify-content":"left"}},t._l(t.tabs,(function(s,a){return e("a",{key:a,class:{"is-active":t.activeTab===s},on:{click:function(e){return e.stopPropagation(),t.switchTab(s)}}},[t._v(t._s(s))])})),0),e("div",{staticClass:"card-content"},[e("form",{directives:[{name:"show",rawName:"v-show",value:t.activeTab===t.tabs[0],expression:"activeTab === tabs[0]"}],ref:"form",on:{reset:function(e){return e.preventDefault(),t.reset.apply(null,arguments)}}},[e("b-field",{staticClass:"item-content",attrs:{horizontal:"",message:"Special address to call the method, it's not the param of the method",label:"Caller"},model:{value:t.caller,callback:function(e){t.caller=e},expression:"caller"}},[e("b-input",{attrs:{placeholder:"Optional: Address"}})],1),t._l(t.item.inputs,(function(s,a){return e("b-field",{key:a,staticClass:"item-content",attrs:{horizontal:"",label:s.name}},[e("b-input",{ref:"input",refInFor:!0,attrs:{readonly:t.prototype&&"_self"===s.name,required:"",placeholder:s.type},model:{value:t.params[a],callback:function(e){t.$set(t.params,a,e)},expression:"params[index]"}})],1)})),t.item.payable?e("b-field",{staticClass:"item-content",attrs:{horizontal:"",label:"value"}},[e("b-input",{attrs:{type:"number",placeholder:"number"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1):t._e(),e("b-field",{staticClass:"item-content"},[e("div",{staticClass:"buttons has-addons"},[t.item.constant?t._e():e("button",{staticClass:"button is-rounded is-primary is-outlined",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.executeFC.apply(null,arguments)}}},[t._v("Execute")]),e("button",{staticClass:"button is-rounded is-primary is-outlined",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.callFC.apply(null,arguments)}}},[t._v("Call")]),e("button",{staticClass:"button is-rounded is-primary is-outlined",attrs:{type:"reset"}},[t._v("Reset")])])]),t.request?e("b-field",{attrs:{label:"Request"}},[e("pre",{staticStyle:{width:"100%","white-space":"break-spaces","word-break":"break-all"}},[t._v(t._s(t.request))])]):t._e(),t.resp?e("b-field",{attrs:{label:"Response"}},[e("pre",{staticStyle:{width:"100%","white-space":"break-spaces","word-break":"break-all"}},[t._v(t._s(t.resp))])]):t._e()],2),e("div",{directives:[{name:"show",rawName:"v-show",value:t.activeTab===t.tabs[1],expression:"activeTab === tabs[1]"}]},[e("pre",[t._v(t._s(t.item))])])])])},hs=[];let bs=class extends((0,u.Xe)(oe)){constructor(){super(...arguments),this.tabs=["Inputs","Description"],this.activeTab=""}created(){this.activeTab=this.tabs[0];const t=this.$connex.thor.account(this.address);if(this.method=t.method(this.item),this.prototype){const t=this.item.inputs.findIndex((t=>"_self"===t.name));this.params[t]=this.address}}switchTab(t){this.activeTab=t}};(0,d.Cg)([(0,u.kv)({default:!1})],bs.prototype,"prototype",void 0),bs=(0,d.Cg)([(0,u.uA)({components:{Panel:ne}})],bs);var fs=bs,ys=fs,gs=(0,E.A)(ys,ms,hs,!1,null,"18528316",null),vs=gs.exports;let Cs=class extends u.lD{constructor(){super(...arguments),this.list=[],this.count=0,this.perPage=10,this.currentPage=1,this.caller=""}async created(){this.$ga.page("/view/scs"),await this.onPageChange(1),await this.countList()}get network(){return this.$connex.thor.genesis.id}async countList(){this.count=await g.shortCuts.filter((t=>t.network===this.network||void 0===t.network)).count()}async onPageChange(t){this.list=await g.shortCuts.filter((t=>t.network===this.network||void 0===t.network)).offset((t-1)*this.perPage).limit(this.perPage).toArray()}edit(t){this.$buefy.dialog.prompt({title:"Edit Shortcut",message:"Edit shortcut name",inputAttrs:{placeholder:"Shortcut name",value:t.name,maxlength:30,required:!0},onConfirm:e=>{g.shortCuts.update(t.id,{name:e}).then((()=>{this.onPageChange(this.currentPage)}))}})}remove(t){this.$buefy.dialog.confirm({title:"Remove",message:`Are you sure want to remove '${t.name}' contract`,cancelText:"Cancel",confirmText:"YES",type:"is-danger",scroll:"clip",onConfirm:()=>{g.shortCuts.delete(t.id).then((()=>{this.onPageChange(this.currentPage)}))}})}};Cs=(0,d.Cg)([(0,u.uA)({components:{SampleFuncCard:vs}})],Cs);var xs=Cs,ws=xs,_s=(0,E.A)(ws,us,ps,!1,null,null,null),ks=_s.exports;u.lD.use(j.A);const As=new j.A({mode:"hash",routes:[{name:"root",redirect:{name:"contracts"},path:"/"},{name:"notSupport",component:X,path:"/not-support"},{name:"contracts",component:Vt,path:"/contracts"},{name:"deploy",component:Wt,path:"/deploy"},{name:"contract_detail",component:Ge,path:"/contract/detail"},{name:"filter_view",component:as,path:"/view/:id/list"},{name:"filter_mgt",component:ds,path:"/view/mgt"},{name:"short_cuts",component:ks,path:"/view/scs"},{path:"*",redirect:{name:"contracts"}}]});var Is=As,Ss=s(2102),$s=s.n(Ss),Ts=s(6281),Bs=s.n(Ts);const Es=async t=>{const{address:e,genesisId:s,name:a,abi:i}=t;await g.contracts.filter((t=>t.address.toLowerCase()===e.toLowerCase())).delete();const n={abi:i,address:e.toLowerCase(),name:a,createdTime:Date.now(),network:s};await g.contracts.add(n)},Ds=async()=>{const t=await fetch("/abis/contracts.json");if(!t.ok)return;const e=await t.json();for(const s of e)await Es(s)};var Os=s(6763);function Ms(t){const e=t?t+"/":t;a["default"].prototype.$explorerAccount=`https://insight.vecha.in/#/${e}accounts/`,a["default"].prototype.$explorerBlock=`https://insight.vecha.in/#/${e}blocks/`,a["default"].prototype.$explorerTx=`https://insight.vecha.in/#/${e}txs/`}if(a["default"].use(n.Ay,{defaultIconPack:"fas"}),a["default"].use(r.Ay,{events:"blur",validity:!0}),a["default"].use($s(),{id:"UA-132391998-2",disabled:!0}),a["default"].config.productionTip=!1,window.connex)Os.log("Connex ok",window.connex),a["default"].prototype.$connex=new(Bs())({network:window.connex.thor.genesis,node:"",noV1Compat:!1,noExtension:!k}),Ms("");else{const t=x?"solo":"main",e=localStorage.getItem("last-net")||t;if(Os.log("net",e),["test","main","solo"].includes(e))Ms(e),a["default"].prototype.$connex=A(e);else{const t=localStorage.getItem("custom-node"),e=JSON.parse(localStorage.getItem("custom-network")||"");if(t&&e){if("0x000000000b2bce3c70bc649a02749e8687721b09ed2e15997f466536b20bb127"===e.id)Ms("test");else if("0x00000000851caf3cfdb6e899cf5958bfb1ac3413d346d43539627e6be7ec1b4a"===e.id)Ms("main");else{const e=t.endsWith("/")?t:t+"/";a["default"].prototype.$explorerAccount=`${e}accounts/`,a["default"].prototype.$explorerBlock=`${e}blocks/`,a["default"].prototype.$explorerTx=`${e}transactions/`}a["default"].prototype.$connex=new(Bs())({network:e,node:t})}}}Ds(),new a["default"]({router:Is,render:t=>t(L)}).$mount("#app")},7790:function(){},2634:function(){},5340:function(){},9838:function(){}},e={};function s(a){var i=e[a];if(void 0!==i)return i.exports;var n=e[a]={id:a,loaded:!1,exports:{}};return t[a].call(n.exports,n,n.exports,s),n.loaded=!0,n.exports}s.m=t,function(){var t=[];s.O=function(e,a,i,n){if(!a){var r=1/0;for(d=0;d<t.length;d++){a=t[d][0],i=t[d][1],n=t[d][2];for(var o=!0,l=0;l<a.length;l++)(!1&n||r>=n)&&Object.keys(s.O).every((function(t){return s.O[t](a[l])}))?a.splice(l--,1):(o=!1,n<r&&(r=n));if(o){t.splice(d--,1);var c=i();void 0!==c&&(e=c)}}return e}n=n||0;for(var d=t.length;d>0&&t[d-1][2]>n;d--)t[d]=t[d-1];t[d]=[a,i,n]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var a in e)s.o(e,a)&&!s.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){s.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={524:0};s.O.j=function(e){return 0===t[e]};var e=function(e,a){var i,n,r=a[0],o=a[1],l=a[2],c=0;if(r.some((function(e){return 0!==t[e]}))){for(i in o)s.o(o,i)&&(s.m[i]=o[i]);if(l)var d=l(s)}for(e&&e(a);c<r.length;c++)n=r[c],s.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return s.O(d)},a=self["webpackChunkinspector_app"]=self["webpackChunkinspector_app"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=s.O(void 0,[504],(function(){return s(9849)}));a=s.O(a)})();
//# sourceMappingURL=app.b8a733c8.js.map